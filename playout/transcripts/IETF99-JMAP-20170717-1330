[
  {
    "startTime": "00:00:04",
    "text": "see if that dance thing is a microphone usually uh-huh okay this is the presenter Mike and I it\u0027s just from what I hear in the room it sounds much less bass than the other one and I\u0027m gonna go to the floor Mike this is the floor Mike and how does this sound compared with the other two okay so I gather from the comments that we should probably have the chairs use the presenter Mike whenever we can and we\u0027ll just use the chair Mike if we have to interrupt the presenter or something so I have grabbed the presenter Mike let\u0027s get this one out ready okay and my co-chair has just returned with his adapter we\u0027re about to see curry ten door on the screen I think so well while he\u0027s setting up for projecting things I will welcome everybody to the J Mapp working group which is in Barcelona the back part over there which is Athens is not going to be used everybody come up to Barcelona please unless you\u0027re just here to read your email in which case you can hang out in Athens if you like we appear to have a lot of people remote this time so please be careful to use the the microphone if you say anything don\u0027t have side conversations and please identify yourself before you speak into the microphone or as you speak into the microphone since before wouldn\u0027t really help so let\u0027s flip over to the next slide here okay there\u0027s there\u0027s our little thing blue sheets No Aleksei kill that I\u0027m just want to use one blue sheet and there\u0027s there\u0027s a blue sheet there\u0027s already one going around so we have a blue sheet going around everyone please sign it the note well is here and you should note the note well well as I am well known to note basically the note well says there are I PR things that you I PR policies you ought to be aware of look them up if you don\u0027t understand them so today we\u0027re going to talk about J map nail for a bit and then the J map core document for a bit and and then hit any other business we might have we have quite a bit of time allocated to those first two and I expect we will spend it is there anything in particular that someone would like added to the agenda that we have not heard about hearing nothing "
  },
  {
    "startTime": "00:03:05",
    "text": "we\u0027ll move to the next slide and I guess I\u0027ll let my co-chair give the background I just wanted to quickly go over why J map these are slides we used at the last meeting as well and we still try and do the same thing basically trying to come up with a protocol that will replace IMAP particularly for constrained network environments for mobile platforms and for slow networks so something that works well with latency at the moment it\u0027s really hard to write a good client and you see a lot of people who say I\u0027m gonna write an IMAP client and then spend the first six months just writing the protocol support before they even get on to building their client and so some JSON over HTTP protocols have been appearing either within particular companies or as an attempt to provide API as a service so you subscribe to someone\u0027s API that then wraps mail rather than having to do mail directly I would consider it a failure of the jameth protocol if we\u0027re in a position where people start selling a easy adapter over the top of J map to allow people who can\u0027t cope with the complexity of J map to write an email client so one of our goals is to make it easy for people who aren\u0027t the best developers in the world who aren\u0027t male experts to still interact with email without having to learn everything up front so according to our Charter we want specify a single efficient protocol that allows a client to connect to a server and communicate over the one protocol for everything that it needs yes good question that was yeah I forgot I forgot to re-ask that I\u0027m not asking for a jabber scribe I don\u0027t think we need one what I\u0027m asking for I will channel people from remote if they can\u0027t use me Decca see what I am asking for is somebody to take notes for minutes and by that I mean note this this topic was discussed this was the resolution those or action items yeah though that\u0027s really all I want from this not a lot of burden here but we do need someone to do it and AH Chris thank you very much Chris Newman has agreed all right back to where we were so we wanted specifically to address the mobile environment mobile clients a big growth area at the moment and they\u0027re not well served by IMAP and SMTP particularly since they lose network more frequently than something that\u0027s sitting on your desk with the cable plugged into it we wanted to maintain compatibility with existing data models specifically IMAP to allow servers to have a way to upgrade from what they do now to j-mac without having to rewrite everything and run to completely separate infrastructures and we specifically said "
  },
  {
    "startTime": "00:06:06",
    "text": "we\u0027re not trying to solve server-to-server encryption and SMTP on port 25 that\u0027s a whole basket of worms we do not want to dive into so that\u0027s specifically out of scope for this roughly this is a slide that we had last time exactly the same goals to jam up or to use the network efficiently to be easy to implement and to be compatible with IMAP data models there are some small points there you can read them in your own time their slides are all uploaded we\u0027re now on page 8 game up mail and let\u0027s hand over to Neil okay hi everybody I\u0027ll just hold this so this is an area that we has changed since Chicago so I\u0027m just gonna go over what we discussed on the mailing list what we agreed essentially it\u0027s adding support for the full time app keywords so we previously just had support for the system flags this adds support for accessing any I\u0027m at keywords the specification explicitly says we\u0027re sharing the registry with iMac keywords so that one defined in one place is available in both IMAP and also in J map which will provide again part of the compatibility and upgrade path and the server being on support someone using both an IMAP and J map client to view the same mail store we\u0027ll get a consistent view of their data the only thing that we\u0027ve kind of changed is the system flags in IMAP were originally demarked with a leading for backslash this was never then added to and all future keywords including important kind of system level ones that were registered used a dollar prefix and so you end up with this very weird mix of of dollar and backslash since backslash is a real pain in well a lot of languages because it\u0027s an escaping character and also it\u0027s really inconsistent we\u0027re gonna map the backslash seen backslash there\u0027s there\u0027s for system keywords we have there those all get mapped to dollar seen dollar answered etc which makes a much more consistent other than that the next slide here\u0027s a quick example of what that looks like basically on the message object you now have a keyword property because there\u0027s no kind of map type in JSON it\u0027s the key of the object is the keyword and then it always maps to true so this message has the seen the answered system flags and also a custom flag which is just custom and this places the previous properties we had which were is unread is dropped which with boolean properties but just for the specific system ones so that\u0027s basically the change that\u0027s been discussed and "
  },
  {
    "startTime": "00:09:09",
    "text": "greens now in in the spec I believe does anyone have any comments or questions or further points on that before we move on absence will be false yes this is the set of keywords that apply anything not there it does not exist on that message okay great yes there\u0027s one acting Ivanova which is to register the the for dollar system flag in the eye on a registry just to note that you can\u0027t use these in IMAP which means something different to the backslash versions in IMAP because that would be insane yes Jeff sit back tough cut always true so why isn\u0027t it not all list it\u0027s not a list because two reasons firstly a list is ordered and so you can have some weird inconsistencies but more importantly it\u0027s much easier to patch a keyword so when your so we haven\u0027t got the syntax for this yet but plan to add it in core a way of basically saying add to this keyword by patching the object or remove this keyword whereas if it\u0027s a list you can do it by index but then you have the whole ordering problem it gets it\u0027s a lot harder so it\u0027s yeah basically that\u0027s why it\u0027s it\u0027s like this on on the registry you\u0027ve got to better register every keyword that thought that\u0027s in there with the backslash our song yes and every future thing so far there has never been anything in fact I don\u0027t think you could register something that a backslash because that is reserved backslash is reserved for standards action you have you have to update the IMAP spec so you can register a new backslash flag you have to update the bay so it has to be a spec update that goes through the is G so well means that somebody needs to remember that if a backslash one is added by a few standard that the dollar sign version has to also be repaired I think we agree but we also think this will never happened yeah III agree sure okay okay so I think that\u0027s settled everyone seems to be happy so let\u0027s move on to the slide I don\u0027t know there is a github issue I guess we can talk afterwards I\u0027ll tell you how to write the I you know consideration crazy Z action use this one okay oh sorry my "
  },
  {
    "startTime": "00:12:11",
    "text": "bad I\u0027m Chris Newman for the people who are remote yes okay we have a next slide please okay so this is another area that there\u0027s been quite a lot of discussion on on the mailing list since the last conference and there have been quite a lot of change I think we\u0027re very close to a consensus consensus now on on what to do here this is about sending email mail submission one of the core requirements for J map was that you don\u0027t need a second protocol in order to send as well as receive because that creates all sorts of support nightmares that we\u0027ve you\u0027ve ever run email so if you\u0027ve probably seen so the new plan is the previous plan was to have an outbox mailbox that you would move messages to the new plan gives a lot more control and ties and cell phone into SMTP so that you can use a lot more of the available features in SMTP without us having to redefine lots of new mappings we basically define a new object type called the message submission object which I\u0027ll show you in a sec what that looks like creating one of these it has a reference to the message you\u0027re sending so the reference the message data but lets you specify the SMTP envelope so you can specify who it\u0027s sending to and stuff but also it gives you the option of if you\u0027re emitting that and just having it pull that data even from the to CC BCC fields if you\u0027re doing simple mail sending stuff to make it easier for clients to the other main point about this is the message submission object ends up basically as a log of email that you\u0027ve sent and we can also update or what the server can update the object with delivery status of the message as it gets sent through the system so this gives you a lot of a lot more capability than before to then if you\u0027re writing a client be able to not just send the message but then to pull up that message submit an object later and go what happened to this message did I get an error from some of these responses so this is provides a lot of extra flexibility whilst building on the existing RFC standards so I think I said we\u0027re pretty close to something everyone seems to be happy with so far on the mailing list so if we just move to the next slide it might be a little bit smaller it\u0027s not too bad it\u0027s gives you a bit of an idea of what a message submission object looks like there\u0027s a reference the message ID reference is the most important one this is that\u0027s your J map message ID not necessary the same as an RFC 5 3 2 2 m/s ready if you\u0027re new to J map and that\u0027s just a reference to the other objects say this is the message data that we\u0027re sending and that represents your 5 3 to 2 message J map has identity objects which you reference one of those to say am i who am i sending this as I\u0027d say see the identity spec if you\u0027re not sure about "
  },
  {
    "startTime": "00:15:12",
    "text": "what that\u0027s about but this can be quite important for the server to be able to apply some policy and check you allowed to send that message the thread ID is just the thread Eydie that\u0027s associated with the message of the message ID the server sets that to make it easier for the client query these things later then we\u0027ve got the important bits which is basically the envelope this will change slightly still so we can add attributes but is essentially the s the data you need from smtp than for the mail from and the receipt to maybe can\u0027t unsend so this is one of the more interesting properties is for systems that can support undo send or if you if they support delayed send and you\u0027ve delayed the send of the message this property can be true and then the client will have some mechanism of saying updating the message submission object to say actually cancel this sent and if that\u0027s possible then that will succeed it\u0027s always a ma\u0027am it\u0027s the reason that attributes company called maybe can\u0027t unsend is that you can never really guarantee that this is gonna gonna work and then here we can see a delivery status object this starts as null but after the server starts and the server can update this it\u0027s not a must because it\u0027s would make it very hard to build simple proxies to SMTP but we\u0027re hoping the future the service that will implement this and update this with the status of messages to show what happened to them after you\u0027ve sent them which will make it possible for clients to much more easily show users the status of their sent messages so that\u0027s the general proposal for message submission ah so I\u0027m gonna pause there to see if anyone has comments or questions or other things to say about that Chris Newman I just want to say I wanted to I have an open issue that I\u0027m going to provide a suggestion on delivery status and disposition status that\u0027s more closely aligned with our current specs in that area yep thanks alright yeah similar idea to what you have here just I just what yeah this is yeah basically I want to make the you know described a clean mapping from the existing standards yeah they\u0027ll be there will be a few changes but I think the general outline seems to be something that everyone\u0027s reasonably happy with now so and yes pushing this button makes a big difference okay the fact that when I touched the mic without pushing that button it made a lot of noise made me think that I didn\u0027t need to push the button but I think the people remotely will hear my sepulchral voice better now Dave is on me deco so I\u0027m going to enable him with the big red button Dave does this work yes you can okay so this is a really small point that isn\u0027t a really small point the the naming of "
  },
  {
    "startTime": "00:18:12",
    "text": "message ID and I apologize for not being into the spec deeply enough to know the answer to this but I believe you said that it is not a RFC 5322 message ID I therefore invite you to not make it be the same name so that there will be less opportunity for confusion you\u0027ll get enough of that anyhow thanks Dave yeah that\u0027s a good point it\u0027s slightly tricky at the moment we\u0027re very consistent off there\u0027s an object type and message is the object type and whenever we reference an ID we want to use that type name plus the words ID so I guess one solution is to object type name in J map from message to something else I\u0027m not sure if we can come up with something suitable but yeah I agree that that is likely to cause confusion so we should try and find some some way of avoiding that confusion if we can john Dowdle from Airbus and this is my first time in this group so forgive me if his questions been answered Aeons ago I\u0027m old enough to remember the days when mail wasn\u0027t abused by spammers and so forth and and you know nobody seems to send delivery reports and things these days for fear of triggering spamming pots as if you when you were thinking this up did you think well should we actually try and do it a different way and then discarded that and came up with this or what was so specifically to do with delivery notified in some way which another\u0027s lot small safeguards around who the hell sent in this email anyway now but just so you know just a philosophical question yes the who is sending is tied to the identity I do you think but the the delivery site of stuff it\u0027s it\u0027s more just about exposing the information that we get to clients in an accessible way it\u0027s it\u0027s not certainly no guarantee that you\u0027ll be able to get information beyond this stuff here you should be able to get this is the final status code it got before it left your system but delivery status things beyond that yes it would depend if it\u0027s internal mail then maybe you\u0027ll always get them but if it\u0027s external perhaps it won\u0027t so I think exposing that is important hopefully it\u0027s exposed in a way that perhaps in the future yes you can add other mechanisms that might might my more suitable to today the way we\u0027re seeing most new systems do this is with web bugs essentially bypassing SMTP altogether just put an image into the email if people actually load the images then you say yep they\u0027ve read it you could integrate that in some way as well I think we\u0027re we\u0027re still working on this as Chris mentioned still proposals on how this is going to be represented and certainly it should be open to accept the accessible in the future but there\u0027s valuable there\u0027s value right now I think in exposing information that we currently have from protocols that are already there and in use I just a Chris "
  },
  {
    "startTime": "00:21:13",
    "text": "Newman just a suggestion on Dave\u0027s common maybe Jay message ID yeah I think we need to come up with a object type name because we don\u0027t want to make that the one inconsistent one where you reference that by a different name plus ID right is still called message okay but yeah I mean I I agree with the naming hi yes I it\u0027s it\u0027s unfortunate but I guess it is confusing so I see we kind of consonants in them Dave go ahead so just following up on that even a bit further and I type this into jabber also what\u0027s occurring to me is that you\u0027ve got three sources of naming 532 - 5 3 2 1 and J map and they\u0027re co-occurring within this single environment and you may want some meta conventions for that so that you just don\u0027t have to worry about particular cases colliding Alcor how about this is Barry how about having an object called ID and the members of the object are identity : whatever message : whatever thread : whatever instead of having identity ID message ID thread I don\u0027t think that would work in this case then so the ID is or there\u0027s always an ID property with on any object and that\u0027s the idea of that particular object the rest of those are foreign keys if you like the external references and so they certainly can be lumped in with the ID of the first thing ok so change my suggestion a little bit but the point is have all of those other external ID things rather than having them be a bunch of separate I again would I don\u0027t think that\u0027s the best solution because generally we make everything as much as possible key value on the top top level to make it I think it\u0027s easier to track changes and to submit just patches of things that you want but I think I think well we can see if there\u0027s any more suggestions now but I think we can take the list and find a solution another difficulty with that suggestion is that there are places where this is ideally used more deeply within structures where there\u0027s a list of ID\u0027s being returned or a list of structured ipace being returned we\u0027re having another level of indirection really complicate the object a lot yeah I think we\u0027ll find another name for message in some right let\u0027s move on okay next slide then please I think we know "
  },
  {
    "startTime": "00:24:14",
    "text": "what\u0027s left to do and although no big objections to it but yes any final comments on message submission good okay so the final topic I wanted to talk about a bit today in the mail section so this is the representation in JSON of the obviously five three to two message and kind of related to that being able to fetch just part of the body so if you have a text body that\u0027s multi megabytes long allowing client to just fetch maybe the first hundred kilobytes of it display that and then if user really wants it explicitly go back and fetch the rest of it in general NJ map we\u0027ve been very careful to make sure that the client can never get flooded with data it always is control of how much data within rough bounds it will get back from the server in response to a request this is one area where it doesn\u0027t know how big the body is and it could ask for body and get back 50 megabytes of data over the connection that\u0027s not great you\u0027re special if you\u0027re on slow mobile connection that could lock up your whole client if it doesn\u0027t know how to cancel that and try and do something else so this is something where we haven\u0027t you got a proposal yet it\u0027s more the kind of open for ideas stage the other so the other point of it is the the structure we have at the moment representing the message hides pretty much all the complexities of mime and represents the message in a simple body which could be text body or HTML body or both if there\u0027s both representations plus attachments and pretty much everything else is represented as an attachment and it provides the functionality that I\u0027m but most email clients need from what I can see with whales making it much easier for them to to work with it however so if you want more than that at the moment you own the other option is to fetch the raw via three to two message and parse it yourself and do everything yourself which is an option in J map but there\u0027s no in-between stage so I think one of the open questions is whether that\u0027s a sufficient representation in JSON if not what else should be there how can we potentially add more options without making it ridiculously complex and also making sure that clients that do the things that most clients do don\u0027t have to deal with all this complexity still they can still use this more simple representation so I think this is more kind of open question and something we\u0027ll be looking at on the main list over the next few weeks a few months but for what to bring up now to see if anyone had particular ideas comments or suggestions on this area Chris Newman the ones I haven\u0027t thought it all the way through yet but the one sort of starting point for the structure problem is so we have this attachment list in "
  },
  {
    "startTime": "00:27:16",
    "text": "the in the J map structure if we put so IMAP has a new a new dotted numeric string that says we\u0027re in the mime structure this part up here so that\u0027s something that\u0027s defined and I met if you added that I data item to the attachment list you know clients can ignore it if they don\u0027t care about it but it gives clients that do care about the mine structure that additional information about the structure so that might get us part of the way to a more cleaner semantic mapping and you might be able to from those numbers figure out you know drop a number and fetch that or something like that so I think that might be a road to walk down that\u0027s not too big a change and I know the the suggestion for partial body fetch that I had heard was HDPE range which in order to make that work you need to know offsets the parts as well yeah I don\u0027t know that\u0027s going to be the movies well there yeah all the attachments already get a blob ID and you can get a URL that represents those are not so you could then do a partial range fetch on that but if the actual just text body an HTML body I think we want some way of just be able to return a truncated version within the JSON structure within a batch call still also I don\u0027t think that HTTP ranges can complete solution for that okay I got it thanks okay any further comments on message structure we expect to spend quite a lot longer on this part when we first show that always always gonna yes but it\u0027s certainly this is gonna be one of the interesting bits that we need to spend a while on both in terms of working out the mapping even for what we have now and how to get there you have a multi-part mix that has some text and an image and then some more text than another image what does that look like over J map thankfully it\u0027s immutable so at least you don\u0027t get a round trip back from that it\u0027s only a one-way conversion but that\u0027s worth I think everyone who\u0027s interested in this thinking about how that should look once there\u0027s fixing on this slide here is we don\u0027t want to end up with this situation that J Cal has which is that you take the structure of a vCard and you map that to a JSON structure which is exactly the same and it\u0027s just a bunch of lists of lists that it know all the time and again you might have thought of stars you know I have a feeling that we\u0027re not going to know exactly whether this whether we have it right until we get some implementations playing with it back and forth so the current version we have used in production and wellness quite nicely but other males other message stores will have other needs and it doesn\u0027t offer the flexibility yeah that did remind me "
  },
  {
    "startTime": "00:30:17",
    "text": "of one one more point I wanted to make about this the current current specification is quite under specified on terms of how you map from mine to this and only needs more recommendations what I not convinced of and I\u0027ve interested here with opinions on this is that it should mandate an exact algorithm of how you convert from all situations in mime to HTML text because there are a lot of weird possibly invalid versions that you see in the real world and that you might people end up having to adapt to and do different things - and giving them the flexibility of saying here\u0027s how we recommend you convert but not this is how you must do it should not cause incompatibility because the client doesn\u0027t have to care how it\u0027s converted just gets the data from the server and rinse it but gives you the flexibility then the future to fix this with with changes to the algorithm okay Dave go ahead so a synonym for flexibility is non interoperability to the extent that it is possible or to reasonably define an algorithm that does the mapping between the two forms it will increase interoperability a lot it\u0027s usually a pain to do that kind of mapping to do that kind of definition long run benefit usually is pretty high Chris Newman uh I think I comments somewhat along similar lines is I think it\u0027s important to define a baseline like the minimum set of character sets you know the Minamoto some minimum set of things you do and so that gets you closer to interoperability but yo with respect what why I think we do need a little a little wiggle room is because j.j map is actually quite a bit closer to the UI than IMAP and so in order to get the easy good UI we actually do need to allow some wiggle room to make improvements and in the conversion so you know if there\u0027s some some broken mail format if you need to clean it up so it works in the UI you should clean it up so it works in the UI a particular example that you run into a lot when you\u0027re getting email from all over the internet is the charset field that comes in on mind parts can be all sorts of crazy broken I get a lot of charset equals charset equals something it\u0027s a really basic case for there\u0027s all sorts of weird stuff winds up in there that it looks like someone\u0027s just typed around a bunch of texts and I think just there\u0027s kind of a related area just on the idea not necessarily always specifying everything and it\u0027s being "
  },
  {
    "startTime": "00:33:19",
    "text": "better it\u0027s um it\u0027s search so in IMAP search is very explicitly substring based and as such is basically impossible to implement in a performant way and be compliant with the spec so that\u0027s why well you get things like Gmail just ignore suspect because it would be useless or is a mess whereas with Jayma what we\u0027ve done is say this is how you should interpret the filter but we\u0027re not gonna tell you how to stem we\u0027re not going to tell you exactly how you should match what your algorithm should be for matching the text chance this is more this is how you should interpret the intent and give us back results and I think that\u0027s the only way that you otherwise you wouldn\u0027t have conformed implementations because Gmail are not going to change their stemming out within them their search indexing to match whatever you specified similarly there\u0027s lots of other complex implementations but it doesn\u0027t matter you operability because you\u0027re still getting what the user wants convey to the server and the server is returning results that matches in the best way it can match yeah Alexei Melnikov maybe not a great example but sometimes if you are searching for text that\u0027s probably it\u0027s better to be flexible and allow service to you know experiment where if you are searching for date or a range of dates yes you want to do you know prescribed I\u0027ll grade that is how I find exactly it\u0027s just text respectful dates it tells you exactly what you meant to be doing that yes sir I should hit that clear I was trying to I guess just use as an example of where I think you want to specify enough to be able to operable but not necessarily the fine detail because that restricts things too much okay let\u0027s move on so now we\u0027re moving over to you so this is independent of male and so the one of the main things that we use actually we view them before we get there yes this is Barry I want to go back to keywords for a moment and the registration okay do we want to block future registrations of dollar sign keywords that don\u0027t come from Jayma no we don\u0027t want to block that no we want dollar sign keywords to work in both J map and IMAP so we actually you actually change the registry to say this applies yeah something like dole efficient which is currently being yeah how\u0027s the other sodium oh nice yeah thanks okay so extensions over time we will obviously want to add further data types you can access over J Matt will want to add potentially extra properties to objects that exist in previous specs potentially even change semantics of certain methods and of course if you have a proprietary services are probably gonna want to add on custom things which don\u0027t make sense necessarily to standardize but you want "
  },
  {
    "startTime": "00:36:20",
    "text": "to expose suppose that over gemwrap as well so we need to come up with a flexible way of allowing for extensions in the future that\u0027s not going to result in chaos with this so I the current way pose when we haven\u0027t written this up yet but is basically when you make an API request you was with the set of method calls you\u0027re making your pass it a using and and that gives you and that\u0027s a property with a list of named extensions and you can have vendor extensions in there which must be names based under domain that the vendor owns to make sure it doesn\u0027t clash there\u0027s no X dash prefixes anywhere in the thing once you\u0027ve opted into the extension that just that\u0027s what you do that means that that then applies but if you don\u0027t opt in then must conform with the base specification without without the extension must behave without the extension if there are extensions that are not compatible with each other then the server needs to reject it if the client tries to ask for both to be used at the same time and then the server advertisers which extensions it can support someone that\u0027s the base idea are the bib on using GMAT mail is the idea that even mail itself that is an extension that saying I want to use mail over J map and you would you would have to use that to get there alexia I\u0027m not I haven\u0027t thought this through yet but in IMAP there is enable extension that might have some effect it might solicit the server to send information different format or extra information so what you just said I think will prohibit this sort of thing is it sorry I put Hokkien a queue with IMAP enable extension you can enable extensions that will tell the server to send information in different way or extra information yes so that the client is capable of understanding some extra stuff yes so this would also allow that you would be using I think I\u0027ve heard you you just said you know it will you know you have to be backward compatible with the base pack if the client doesn\u0027t opt in okay if the client into an extension then yes if the client does not gain the server must behave as though the extension was not there can\u0027t just give the client data it\u0027s not expecting but yes no once the client opt-in that extension can change the behavior J map however the extension defines it basically yes oh yeah and the server will advertise watch extensions it supports after you have authenticated which is quite important cuz that means that it can give different options to different people which we found before is useful in the "
  },
  {
    "startTime": "00:39:20",
    "text": "past obvious if it wants to keep the same to everyone that\u0027s easy easy to but requiring authentication first makes things more flexible there any further comments on extensions and how that might work I feel without of proto it\u0027s one of those things with Devils in the details so certain extent but um Alex again ah yeah I\u0027m not I know this is a rathole we\u0027re going to fall into little later on but if we want to potentially advertise authentication extensions you know ways of authenticate we need a separate way yes no news needs to be done before syndication obviously I think now yeah that will be a separate part yeah yeah Chris Newman I think the experience I\u0027ve seen in the ITF is whenever possible you want you know extensions that the server announces and the client uses or not as it wishes but you know in IMAP we did find cases where we needed the client to explicitly opt-in and that\u0027s what the enable commands for yeah these are all what explicitly opt-in is the right so so yeah and I think this is needed because we\u0027ve seen it needed in IMAP but used sparingly yeah I think the other interesting question is how to avoid if possible the situation with IMAP where the base specification over time becomes essentially useless and you need a very long list of extensions to be a useful protocol but how you convey that to users in particular of my service pause IMAP your service port so IMAP why is this not work as well with yours as it does with mine because they\u0027re completely different things they just both happen to support three 5:01 so profiles potentially collecting a bundle of extensions over time in and saying the j map core plus this bundle extensions equals j mat 2017 and then you can advertise that something might be a solution but comments on this yeah I I don\u0027t think there is a magic silver bullet for this because in IMAP there was originally a yeah well I\u0027m up to I\u0027m up to this I\u0027m up for IMAP for everyone so that was in a way of way of absorb tort of including some of the well implemented stuff into the course back and revising this so yeah it can be J map 2017 it can be J map 2020 or whatever you know eventually so unless you get lucky and get it right the first time no there will be extensions and clients will behave differently with different services yeah I think it\u0027s it\u0027s a case where we recognize that this is gonna happen and it\u0027s about setting things up so that there\u0027s the least pain possible in the future whilst recognizing the probably still be some pain okay dimitri company first male user 14 years so a vendor an expensive no spaces so basically two in the registry like when your name and then vendor dot extension ah no the "
  },
  {
    "startTime": "00:42:22",
    "text": "idea of vendor extensions is is it\u0027s just a way of avoiding name clashes a if you prefix it with your control domain you can use whatever you want and you know those are custom extensions if someone else uses it here be dragons on them so once you do like Joe\u0027s telic combat Microsoft no no um probably should be something like that the exact details we can work so you know this cousin sorry so no discussion of it yet yeah fine okay so wasn\u0027t Breyer work okay no no no so that\u0027s just the general idea we\u0027re proposing to allow because there will be proprietary extensions and some same way of making that coexist and not cause problems down the line okay let\u0027s move on to the next question okay let\u0027s start getting into the real cans of worms so authentication we have a little bit of a problem here in that we don\u0027t believe that the there is an existing authentication mechanism that fulfills the requirements that we have for je map there is a specification we have in Java which we can separate out into a separate spec certainly if we go forward with this I think needs to be a separate spec is the general consensus ah and does fulfill the requirements so one option is to see if we can pursue that as a standardization effort and use use that but if I just um move on to the next I\u0027ll I\u0027ll just talk briefly about what we think are the requirements and then people can come up and tell us if there\u0027s some magical solution that we\u0027ve missed that\u0027s going to do it so if we could just skip the next side okay so first of all basic auth is out like it\u0027s it\u0027s spacely deprecated Gmail there\u0027s other mail servers do not allow you to use username password directly fast mail we don\u0027t let you use your standard password directly no one wants this it creates all sorts of cutie problems which I hope everyone\u0027s aware of so okay that\u0027s out secondly it can\u0027t require the client author of the mail client to have to man in the register with every J map server in the world you know there\u0027s a hundred thousands millions of mail servers just generally the earth something like oh all you have to pre register with the with Google to get your before you can use it and that clue does not scale for mail so it has to be usable without manually registering beforehand we think it should allow common two-factor authentication if you use this is something to come widespread and hopefully be extensible and it needs to be extensible with further authentication mechanisms that become available and also mail is using quite a few contexts where there isn\u0027t necessarily browse them we think it\u0027ll be much but if it didn\u0027t require a browser necessary to perform authentication or even preformed I\u0027ve "
  },
  {
    "startTime": "00:45:22",
    "text": "just noticed a spelling mistake great so those are the general requirements we think that we have so first of all I\u0027m sure there are people here with comments on are those do you think those are the right requirements is there something that meets them already tell us more hi mark Nottingham yeah those are very reasonable requirements I think they\u0027re also really reasonable components for requirements for lots of other applications as well absolutely and just you know from a matter of practicality I I haven\u0027t looked at the Charter in a little while I don\u0027t know the timescale of this working group but you know you say that you can\u0027t just use basic but over TLS you know I mean when I configure my IMAP client to talk to fast mail loving fast now I you know you give me a token that I put in and and and that is used even on through our web interface right which is is not a good user experience basically the what you should be able to is log in with your standard username password and essentially two-factor authentication mechanisms sure but then add the result of that the client gets the token automatically and sure that\u0027s better use expect but it\u0027s no worse than IMAP currently well the thing is with IMAP currently lots of vendors are turning to well not something that the big vendors that can force it through are turning away from that and adding on proprietary OAuth extensions to IMAP sure which yeah so this is clear it\u0027s kids kind of a an IMAP but this is a problem space that\u0027s not going away i and I I agree with you and I think something new is probably necessary it would just be a huge horrible shame if you design something just forge a map and it\u0027s not usable for other stuff as well that\u0027s it yes so as we\u0027ve said we definitely if we\u0027re gonna go forward with what we have gonna split down to separate spec I think what\u0027s there is actually a really good solution for this criteria and as you say that is definitely generally applicable so should not just be purged a match should be more widely available which means we need to get the right people into that interaction so that\u0027s the next question is who should that go to should that still stay as about a jam Apple should that be go to a separate group yeah and and there\u0027s a really active effort right now in the w3c to define you know to do web authentication for UTF and then all the output of the photo stuff and yeah so just so you know I\u0027m also the liaison from the IETF to the w3c so this is partially my headache to is that\u0027s all happening on their side of the trench and we may need to get more involved in that and maybe we should be anyway just regardless of this so it split it on a separate document then let\u0027s just float it around as much as possible and see what happens okay let\u0027s note that as an action point oh okay we have Sean Leonard his next I would like to see TLS mutual authentication which is already supported by some IMAP clients where is it and can we devolve to another spec that works reliably on that topic "
  },
  {
    "startTime": "00:48:23",
    "text": "don\u0027t use basic off I somewhat disagree with mark the key thing is that the user prompt is not username and password but some kind of token prompt maybe with challenges or UI elements and then he goes back and says user prompt should read protocol elements right so I think the TLS mutual or if I understand correctly what he\u0027s referring to is where you would you need the client certificate as well yes that\u0027s not always possible in all situations and I do you have the problem still of generating as difficult and getting it an authenticating I don\u0027t think this is necessarily a general surgeon sorry Alexia\u0027s jumping in in Acme there is a work starting on generating certificate for s/mime and for UML specific so that I I know you don\u0027t want to depend on this but that\u0027s again that\u0027s something that might potentially be fixed at some point I think a lot of this speaks to the whole fact that authentication is a big issue that needs to be addressed separately Torsten most ideas Europe um from my perspective to huge elephant in the room is off right and I would like to understand as a long-standing member of the old working group um why don\u0027t you just use off because okay so the main so the implementations that we\u0027ve seen mostly if I will so far tend to be not necessarily compatible with each other tend to require you to register beforehand with the OAuth provider in order to be able to use it from the client which and also requires a browser which violates at least three or two of the ones on the requirements here is the short answer Torsten again so the fact that google for example written wire has a proprietary extension today yes is the description of the current situation that doesn\u0027t mean that the situation can\u0027t be changed I mean what you\u0027re proposing in your code specification is a complete new product for authentication for HTTP based clients right they\u0027ve a complete complete message exchange which incorporates OTP u2f and all the other stuff which is quite complicated for my for my experiences so the question also is if you do you can\u0027t just answer on my questions instead of just laughing right so I mean having implemented a lot of this IDP crap for several years in Miami and my side I know how complicated it is to really implement multi-factor authentication and you were up to define a new protocol which which will allow or "
  },
  {
    "startTime": "00:51:26",
    "text": "intends to allow a client to me to authenticate towards the server using multi-factor authentication so you even have included you AF fight or to push notifications to to authentication absence on do you want to consider all of them in your protocol I mean the other option is to use OAuth to answer your question regarding a registration you can change that there\u0027s an odd dynamic registration piece and off so any any email kind or there can be registered dynamically with the OAuth provider if you want to make the o of compressor verb compliant to you or to your specification go and sit down and write an OAuth profile right off as a framework and if you want at least me I would like to contribute to this activity instead of saying oh oh of is crap it doesn\u0027t fit or requirements go and let\u0027s let\u0027s go and do something else Kirsten can is it possible for you to do a prototype draft of a probe of an OAuth profile that we can sit down you can can somewhat draft something else but from my perspective what it needs is a discovery registration and a definition of scopes that\u0027s it right so the rest in the spec for example token revocation there\u0027s an hour seat and I happen to be the editor of this RC you can just include it oh can I suggest that rather than try to hash this part out in the room that Torsten and Neil get together this week and try to come up with something you can discuss on the list afterwards okay Dave Dave you\u0027re next so I think this is an interesting list it looks intelligent to me it looks appropriate to me and I think it has all the difficulty that the past few minutes have been demonstrating this and the real danger here is that discussion will get dominated by people who have their favourite solution in mind rather than really trying to deal with the reality that this is a space with multiple approaches there is no dominant solution and worse than that things change over time all of that says in all likelihood the goal of making sure this is not built into J map but has an interface is the right one that it doesn\u0027t depend on a particular implementation environment like browser is another appropriate of requirement but it also means that this this isn\u0027t going to have an easy solution best I can figure is it needs to define some kind of interface into the environment and I don\u0027t really know what that means in a way that\u0027s scalable mark again just real quick and I agree with what Dave saying I think this is just keeping it "
  },
  {
    "startTime": "00:54:26",
    "text": "as a point of flexibility\u0027s is is what I think we\u0027re really looking for here and separating out into a separate spec gives you that is the intent to accommodate both browser clients and on browser clients I\u0027m just kidding SC with this it is ok then yeah definitely a basic is probably not appropriate I can see why you\u0027re avoiding that so wonk this is not second row number or such one question and one comment on all of us up one question is I just want to understand why you don\u0027t want to use browser because if you use browser in the u2f and all those things up there are three T\u0027s open file is working on comes free with it so if possible depending librational browser is a good thing it seems the other thing is that Earth doesn\u0027t always require each fly to be registered just like Dawson said you know so it can be completely dynamic register dynamically registered or we can think of something else as well as when it comes to registering and the point is that what we want at Jayma probably isn\u0027t authentication we want to access the resource called you know mail store and what we want to concentrate here is authorization and it\u0027s probably a good idea to separate off and get out of the picture yeah I think everyone\u0027s very clear that separating out is the right solution so also dim doing that in terms of yes existing solutions earth is clearly the only option that\u0027s out there that\u0027s an existing solution so we should see if there\u0027s a profile of that that seems sensible that\u0027s certainly worth investigating and the other option is to separate out the inspect that we currently have and investigate the possibility of making that as a separate standard but I think yeah everyone stay that it needs to be flexible it\u0027s not part of the core spec that it will be a separate thing that will be referenced and we will find the best solution that we can to go from there I just wanted to address one point that you made there which is all you need to do is authorize a ssin you don\u0027t need to authenticate the specific person one difficulty here is we\u0027re not just giving you access to view information we\u0027re also giving you permission to send email on the behalf of somebody so knowing exactly who is sending email rather than just that they have right to say the data is important Chris Chris Newman one other point that was raised is you know why can\u0027t we just require browsers and the answer that is there\u0027s lots of of agents on the internet that submit mail for all sorts of reasons that are automated and don\u0027t it don\u0027t even necessarily have a user in front of them voicemail systems etc so "
  },
  {
    "startTime": "00:57:26",
    "text": "yeah yo submitted and and need to scan some information about the email as well yes Aleksey I think talking about OAuth and trying to see some text would be useful next but rather you know if we\u0027re going to separate what you have you know I can talk to kitchen working group and see you know whether there is any work to be done there and you know we yeah most likely most of the work is going to be done not in this working group New York hopefully one last time is this still working okay so I\u0027d like to push back ever so gently on on the OAuth notion I don\u0027t think we should use it just because it\u0027s there but but let\u0027s let\u0027s have the discussion I just don\u0027t want there to only be positive thoughts about it off here I was just talking to our Richard Barnes who\u0027s the co-chair of the w3c web authentication working group and he thinks he\u0027s pretty sure their plan for HTTP authentication is to use to find so token binding so so there\u0027s that\u0027s a working group here so it might be beneficial for you folks to talk to him and other those folks here because that would be the most natural way to do that flow I think for that particular so thank who\u0027s getting the initial token after you look at what the working group you\u0027re working on we should talk to him because I\u0027m not sure about that he does but basically I think it\u0027s you insert your you know you authenticate with your with your second factor you get a token and that automatically goes on to the channel and gets bound to the TLS channel and then you your highness so yeah Tosun again i\u0027m Satou combining won\u0027t give you a protocol to obtain access to and it just makes sure you can\u0027t leak the tokens and replay it somewhere else the question or the statement I would like to make is instead of and that was good to learn more about your requirements regarding the different kinds who want to support I would suggest not to not to state that you don\u0027t want to use a browser instead I would like to suggest that you stayed which kind of clients you want to support because for web applications Claire natural to use the web they were browser to the authorization process and even for smartphone applications that\u0027s a state of the art there are out tools out there libraries Safari viewcontroller 2xx you perform authentication authorization processes that way which also gives the ID PD the mechanism to do a risk-based authentication all the stuff you want you don\u0027t want to deprive it to put that into your protocol and if it comes to to to server to server interactions to voicemail that all the stuffs there are other grant types out there that could be used for that have you ever considered to use refresh tokens or the client credential flow for that I mean "
  },
  {
    "startTime": "01:00:26",
    "text": "if you my point is don\u0027t don\u0027t I would I would suggest I release this requirement by particular requirements which which clients do you want to support and then I think we can find a clever solution Keith Moore the requirement is perfectly stated as it\u0027s written I think yes it\u0027s not that it must not you to browser is that it doesn\u0027t require a browser is is the way as it was stated I think is what Keith is perfectly situated modify that modulo the typo and look I think the conclusion here is definitely we should look at a what orthe profile would offer us and then evaluate whether that matches what we need also look at what other working groups are working on and whatever else we do definitely separate it out and hopefully not hold up the rest of jamup spec on this issue as it is definitely an axillary and yeah whatever you use is gonna be more widely applicable than just the J map so should clearly be something separate the other options for J map just say there will be a way that a token is established and you use the token towards indicate well okay we already have an action item the Torsten and neo will work out something that we can start that will start the discussion yes let\u0027s go from there all right on to the next can of worms great okay push mechanism so one of the things that we need to be able to support is an outbound push mechanism so that you because you can\u0027t hold on open a persistent TCP connection on mobile it would kill your battery life and they just don\u0027t let you do it on iOS in particular and we need to be able to push by proprietary systems that are operating on those devices cuz that\u0027s in any way you can get push things to them but we\u0027d also like it to be flexible enough using whatever system that you need to use the in terms of what data is transferred over push this I think we are reasonably happy with this just for transferring state string is not transferring any of your actual email data or any other content data it\u0027s just the type name like message or thread and the state string which is represents the current state on the server of that type of the set of objects of that type that you have one extra thing we do want to add to the data that\u0027s pushed is some "
  },
  {
    "startTime": "01:03:26",
    "text": "kind of flag of what triggered this change so that clients can tell was it a message delivery that changed the state of the messages or was it that you change something in the client somewhere because if you\u0027re in a particularly battery constrained environment you might be more interested in waking up with the radio if you know there was actual delivery and you might want to show that message to the user as opposed to if someone was marked or read somewhere you can probably wait a few minutes before you update necessarily and coalesce that with other changes so you would use your battery usage we also need something that works on the web and on desktop on desktop ideally when you can hold over in a persistent TCP connection that\u0027s a lot simpler to deal with you don\u0027t have to go by a third party should be quicker more reliable 10th well more reliable maybe so basically at the moment in the spec we have to mechanize therefore push to support the two different use cases for the web and desktop we currently have say basic you can make an event source connection which is server sent events directly to the je map server which then just pushes stuff down there that that\u0027s the same object the objects the same whichever connection use this is basically a long held TCP connection the other option is you basically register a URL a callback on the server and the je map makes a post payment server makes a post request to that URL whenever there\u0027s a push and then so if your this is if the je map version is compatible with the with RFC 80 30 in terms of what it does with the push subscription URL so if you have a push server which is up to the client to have its own push server that you can then use that either with the rest of RFC a t30 to get back to your ua r or you can use your proprietary APNs GCM whatever other mechanism to make sure that that data ends up back at actual client so basically that you have to have your own push server in that situation but it gives you the flexibility of either using the full standards or of going your own proprietary to have it you need to do it to get that data to your client so that\u0027s the two option that\u0027s the current plan is to have those two options available and as Martin\u0027s not in the room does anyone else have actually objections to this or was is it just Martin and objects to those yeah I was just gonna ask that we will have to discuss Martin\u0027s yes so objections Martin and say this is a terrible idea both of those are terrible the first one is terrible the event source is terrible because you might lose that in very situations it doesn\u0027t work you can\u0027t and people are moving away from using event source I think was the summary of what he was saying in certain situations the TCP connection might be dropped on the way various other things like that to which I would say yes but we have a "
  },
  {
    "startTime": "01:06:28",
    "text": "mechanism their server also sends a ping every five minutes can tell if something\u0027s gone wrong with the connection on the line and we try and reopen it if you obviously if it fails every time then it just can\u0027t open a push connection the other thing is that it does work in a lot of situations including in current browsers and it\u0027s very easy to implement for any desktop client or anything that\u0027s that can hold open a persistent connection Marc Marc Namie I\u0027m so I don\u0027t really have strong opinions about eventsource but a lot of the folks that I talked to kind of make weird faces when you mention it they see it as a Mickey Mouse protocol I think that\u0027s a little mouses enjoyed for a long time yeah that\u0027s true it made a lot of money made a lot of money um are you using last event ID on it yes okay good so you can\u0027t lose events and that in at least in those scenarios I the the strongest kind of argument that I heard was that it often causes a lot of really nasty problems when there\u0027s an intermediary like for example a virus scanner in there and they do a lot of buffering and weird stuff and it\u0027s really hard to debug those problems I\u0027m not saying that that\u0027s deal killer I\u0027m just noting it this is true what I don\u0027t know is if something is intercepting on TCP connection like that I can imagine that be the case whatever TCP connection you had held open so basically this whole method is probably not gonna work for you regardless of well what it is is that something\u0027s intercepting and it assumes the semantics of HTTP is in a response granularity and that\u0027s not usual response regularity it\u0027s using something much fun so one option is that we just add HTTP header you can set which says do this in long poly mode and said so basic loads the connection every time you send a push other than that it\u0027s identical we have actually amended this at fast mail because we for IE 8 \u0026 9 they you couldn\u0027t do because they were doing buffering things similar things so it uses long poly instead so the client could detect something\u0027s not working here doesn\u0027t get the pings through that\u0027s it it\u0027s sending things every 5 minute so it knows if it\u0027s connected and instead goes fine I\u0027ll just switch to long poly mode is a trivial change you don\u0027t have to change your code pretty much at all so that that\u0027s one potential solution to that any other comments on I VAP source people jeff\u0027s it back again I don\u0027t really have an opinion either way but I don\u0027t really have an opinion either way but I would be a little worried on in some server setups of just you having way too many persistent TCP connections going to the server which I guess is that\u0027s basically what you get with IMAP so oh yeah it\u0027s gonna say there\u0027s gonna be a few of them with IMAP yeah probably if you are idling on run a few idly on multiple folders you would have to have multiple connections for each one yes whereas this would you have a single connection for the whole of your mail store so and if you use HTTP 2 then that\u0027s not going to be a concern yes also true okay so I think actually this is probably a reasonable solution for "
  },
  {
    "startTime": "01:09:28",
    "text": "that side of the push ah which is good I think we should probably maybe look at yeah adding the option of setting of a header in respect to switch into long poly mode which i think is a good fallback position for for when you have into intermediaries getting in the way as mark noted there\u0027s no me because of buffering issues and if you close the connection they flush the buffer but that\u0027s a very trivial change and I think that that will be ok so the other mechanism is the one that goes via a callback URL I think Martin\u0027s main objection here was when I said it meets a t30 he was like yes but actually a t30 is not the current state of the art if you want to use it with web push for example you\u0027re gonna need all this extra encryption happening on the push which is in a draft IFC which is not actually final yet so the question is do we want to require that do you want to have support for that but make it optional so they\u0027ve if you don\u0027t if your client and push it over doesn\u0027t want to use that it doesn\u0027t have to and well yeah let\u0027s let\u0027s start with those so mark again so web push you know at least with a browser the push server is gonna be something that is probably not under the control of the you know end user or the mail server or whatever the jam app server it\u0027s gonna be a third party so you\u0027re probably gonna need to encrypt it that\u0027s why that\u0027s so integrated into that architecture yeah are they I mean the what\u0027s actually pushed we\u0027ve taken a lot of care to make sure is doesn\u0027t actually include really sensitive information on the whole I could be there\u0027s some things you can glean from it but most of those things you could clean from just knowing a push was sent from the server to this client which you can\u0027t hide by encryption because you\u0027re still pushing the data so that\u0027s the question of how much actual value we\u0027re getting from that however if you\u0027re going to where yes I know you can always if you\u0027re going to make it work with web push directly then obviously you gonna need this scription because it won\u0027t work without that that\u0027s I\u0027m if you want a browser client yes so as well as I meant so I guess the issues there are basically at the moment we\u0027re referencing something that\u0027s not reached I\u0027ve see status or do we reference the w3c well I do actually know what you would normally do here just for what for well for the encryption bitch frequents the draft and the draft yeah because I think the yes the web push our w3c when actually references the drafters as well I mean so just from a mechanical standpoint it\u0027ll get eventually done the worst possible situation will be well not the worst possible but the common situation will be if they take longer than you do then you\u0027ll sit in the RFC editor queue and wait for the defense then you won\u0027t get your final RFC published but everything else will be done and yeah you can still implement I guess the other the main question is it\u0027s just simply if you\u0027re if you do "
  },
  {
    "startTime": "01:12:28",
    "text": "control the push server and the UA and you don\u0027t want to do that should it be optional in some respect because you\u0027re increasing the complexity for the client have to implement this but chances are that\u0027s not gonna get through well no just more deployment complexity because if you have to support both browser and on browser clients then you\u0027ve got two different systems and well this will support browsers on on browser clients either by the way which just do the number house clients also have to act implant the same encryption yeah for the browser does is why I\u0027m asking really oh yeah I got any opinions on that could we just mandate the encryption so it\u0027s just at least a it\u0027s the same with everyone but does make it more complicated to implement potentially yeah I guess the interesting question would be for a non browser client on a operating system that\u0027s going to benefit from that approach no is it going to be available as web push or something else nothing but like iOS native client for example yes and and you know you\u0027re probably using Apple\u0027s push mechanisms anyone so so forget so there is notify could probably comment more who wants to online it would I\u0027m presuming what happen is yes your jerem server would make the post to apple\u0027s server which may be a which would then routed by APNs to their back to their mail client so there\u0027s a question of yes do how how much are you it could still be encrypted you can still use exact this encryption mechanism to go all the way around and the client encrypts it again it\u0027s just doesn\u0027t need to and if not I don\u0027t so just marking it just that start gave it was just very patiently sitting there waiting for little dots to eat I personally not knowing you know just very new to this but it seems like maybe this is kind of like authentication in the previous discussion where this is a point where you need flexibility surprise our client web push is available great use web push if you\u0027re a native client on iOS then you know a different oh yeah I\u0027m sorry is perhaps yeah I\u0027m not been clear trying to momently it\u0027s it\u0027s not necessarily using web push know it\u0027s it\u0027s they it provides the application server bit you need to be able to use web push or to be able to use propriety mechanism X that you need to get it to your device so it\u0027s basically whether the cost of web push requires the encryption whether you require to create encryption for the other so people that are not using web push that\u0027s the question okay Dave the the process point that I want to comment on is a suggestion to consider incorporating something that\u0027s being developed in a parallel working group suffers more than just the possible queue latency that was cited it "
  },
  {
    "startTime": "01:15:29",
    "text": "just generally means that you\u0027re leaving your fate to an another group that may or may not produce something useful on the average that\u0027s not such a good idea this is this topic is another one that\u0027s in a space that has no clean solution unless you completely constrain the the environment as soon as somebody says you could use web push or you could use a proprietary or you could then what you\u0027re again saying is non interoperability it means that the client and the server have to be implemented in a highly cohesive fashion which is exactly not what these sorts of protocols are supposed to require no push can say it\u0027s the there\u0027s there\u0027s two servers involved that\u0027s the thing there\u0027s a push server and the application server which is the gemwraps server and your push server yes is heavily tied to your client in terms of implantation and that\u0027s a kind of necessary thing for this to work at all because there are different push mechanisms you have to use if you\u0027re on different platforms which will require different push servers but the application server is the same for all of these situations and I don\u0027t see any interoperability issues with with that from what we\u0027ve been suggesting I think I understand what you just said my suspicion is that when it gets down to actually having random clients working with random servers that what you said will turn out not to be true in terms of the push server but but I mostly wanted to raise a flag about fate sharing here I think this like the authentication is another topic that needs a well-defined interface and to defer the solution to take it out of critical path likely just talking about where push working group in particular I think most of their work is done and they about to close there are like few remaining documents going through his G review so I suspect they will be done way before us so referencing their specs shouldn\u0027t be a particular problematic I mean okay so I think then it seems well Chris you you speak them now some yes so on the interoperability point with this there\u0027s you know there\u0027s you know you\u0027ve got a you\u0027ve got a three-party problem so there\u0027s interoperability between the client and the server the j-mac client in the j map server that\u0027s you know the key thing there is you have to have a client to identifier and the client has and then the client will get something out of band and the client has to know how to use what it gets out of band with the j map server and you and we\u0027ve defined both those pieces so that\u0027s the key "
  },
  {
    "startTime": "01:18:30",
    "text": "interoperability thing and then the client on iOS will use the iOS mechanism the client on android will use the android mechanism and the people operating the j map server can hook it up to the right mechanism based on the client so i think you do get interoperability with this yeah i think you do too and it is it\u0027s actually very simple what the gemwraps ever does it is literally just making a post request to the URL the client gives it now how the client gets that URL is up to the client and the on the mechanism it\u0027s using for the push what pushed over its using and that kind of thing but we can\u0027t and should not define anything for that because that entirely depends on where the client is whether it\u0027s on iOS or on o in a browser or android or whatever [Music] comment from sean leonard yep but not too familiar with this space but what if this Jamie spec defines a uniform message type message /j mat push notification or application /j mat push notification that is packaged and encrypted according to the relevant push mechanism then the web push / iOS push modules passed that to the Jay map Handler to deal with it okay I think the the actual push situation is is aha explains I don\u0027t think this is as complicated perhaps as we is kind of appearing because there\u0027s a so you know you need to look at the actual specs and involved including the gemwrap one what we\u0027ve tried to do is make it very simple essentially what it boils down to is the client gives the served a map server a URL when something changes the server posts to that URL and the way it posts is compatible with RFC 80 30 if you want to use web push but other than that you can forget about web push and just I have a server I get some that information and I have to get back to my clock to the client somehow and you can do that however you like so it\u0027s it\u0027s very easy the compatibility as as was mentioned earlier is is actually crazy it\u0027s just how do I handle that data when I get it and how do i and if I run a push server it\u0027s up to you that to get get get the push to the client so I think yeah the the really the only thing is yes whether you have to encrypt it so that we can definitely compatible web push so if their specs almost done that might be the best way forward and you can always decrypt it on other platforms too okay fine so I will finish amending the current pull request proposal on this and then perhaps people can review this further on the list when they have a had look through the actual proposal and if we have any further queries we\u0027ll "
  },
  {
    "startTime": "01:21:31",
    "text": "go from there okay let\u0027s move on final kind of worms the transport mechanism so it\u0027s been a bit of debate on the main list and the use of HTTP as a tunnel mechanism essentially versus resources for every object in J map and the reasons why and there\u0027s already been quite a lot of posted stuff on the list about why we chose to do what we did and why we think it\u0027s the right solution and why we think it makes sense in this space but if we just go to the next slide I think I have marks for Mark\u0027s document on the using HTTP sorry current draft on recommendations using HTTP of why you might not want to just tunnel and I just want to mention briefly why I think in this case it actually does make sense so in terms of caching because this is all kind of data behind a login it\u0027s all sensitive data opener definitely be over HTTPS you\u0027re mainly connecting well you\u0027re going to be connecting directly to the J map server you\u0027re not going to going through large numbers of caches the casing is also different in that what you\u0027re likely to have is a large set jump off from off structured data and the server can tell you which ones to invalidate specifically which is much more efficient for this case whereas generally they\u0027re not all independent resources which have each have their own independent validation tag which is how HTTP model stuff and makes a lot more sense for if you have for general web stuff it makes less sense for for this I\u0027m sure he does will get no we actually have until 3:30 if we need to because it\u0027s yeah but there\u0027s nothing else in here for gender said three why we ended 3:30 we have time okay so authentication we\u0027ve already talked about I don\u0027t think is particularly different in this case it\u0027s applicable either way automatic redirection again not I don\u0027t see huge wins for us in this this situation your email is generally co-located partial content doesn\u0027t make sense for like a partial bit of a JSON response it makes sense for your binary data and the binary upload and download is all very standard HTTP and you can of course use range requests everything else without and came up to this is just for the API request that\u0027s tunneled versioning extensions we\u0027ve spoken about I think we need guarantees and so mechanism to what to be a good fit for that and the ability to interact with the application using web browsers we can certainly build a full gamut client in a web "
  },
  {
    "startTime": "01:24:31",
    "text": "browser I guess you can\u0027t just stick in you have to send post requests together days so in that respect it\u0027s slightly more difficult but on the other hand you can just use curl because it\u0027s tunneling over HTTP and that\u0027s quite nice so firstly mark you want to say anything about those again keeps on moving you know I look at and I\u0027ve just started looking your stuff and apologize for that so you know this is just initial impression I think that you know the intent that I have and again it hasn\u0027t been adopted by anybody yet my intent in BCP 56 this is not to tell you know people you can\u0027t do that or or to have some book of holy law of you know how thou shalt use HTTP because that just doesn\u0027t work it\u0027s just more to make sure the people make informed decisions when they you do use the HTTP there there\u0027s some stuff in the draft that I\u0027ll probably file some issues on and ask for changes but it\u0027s mostly editorial level stuff of how you document how you use HTTP I don\u0027t think it hopefully won\u0027t be terribly controversial but the the the tunneling you know the batching multiple requests over over as I understand it you\u0027re doing that because you\u0027re you\u0027re not just batching for performance your batching because they\u0027re semantically dependent yes there\u0027s a various reasons the next slide is then us I\u0027ll get that it was actually why we think it\u0027s beneficial to tunnel this is kind of going but why these are the reasons sure I mean you talk about caching I mean you know if you have a browser client then the browser cache is kind of an obvious win and I can imagine certainly on the server side there can be some cases where some intermediary caches might be more useful than you would think and again it\u0027s not that you know you have to do it\u0027s just you know it\u0027s leaving the door open for as many different kinds of implementations as possible sometimes a really good thing especially when you have things like CD ends and stuff out there I think your mails unlikely be on the CDN sorry your mail is unlikely to be on the CDN it certainly can be surprised it\u0027s a weird world out there yes um I you know I subbed my high-level feedback and maybe I\u0027m jumping ahead and I apologize my high-level feedback is you know I\u0027ll file a couple little issues and we talked about that but if you really want to do this and it size up and then you know I\u0027m not gonna stand in the road and say no because I don\u0027t think that\u0027s appropriate to do well a little surprised that this group got chartered to put everything across 443 without more kerfuffle I\u0027m interested to see what the ops people are gonna say about that but I personally that\u0027s fine yeah I mean one of the reasons it\u0027s over four for three is is sure is there yes is historically we\u0027ve had issues again this is support thing that comes up a lot or various ports being blocked of course there\u0027s situations and it just makes life so much easier for sport it\u0027s just that well welcome to the ITF well thank you Mark yes regarding the batching I guess for me my takeaway here is is that I think it\u0027s possible in a "
  },
  {
    "startTime": "01:27:33",
    "text": "fairly simple way to design some HTTP extensions that would allow you to express those dependencies between requests and get what you want and to have one uri per request we go to the next side I\u0027ll talk a bit more about okay Aleksei asked if such an extension would be generally beneficial outside of je map and I said yes and I think that that\u0027s for me that you know we\u0027re constantly looking for ways we can improve the HTTP so it serves a broader audience and that\u0027s what we to me that\u0027s our job yes although just saying separate I think there is still benefit to having something that works of HTTP 1.1 even if there there are benefits like if you\u0027re not getting major benefits from a CP 2 that gives you so much easier implementation in many situations there\u0027s many more platforms that support it etc etc for the version 11.10 that\u0027s that\u0027s not really what I want to go through here this is more more why we think this using tunneling works well so yes the back reference is one of the things is that you can create one object and then refer to it another object in the same cool and importantly the server does not have to hold any state between the different requests you don\u0027t have to know how long should I hold this state in case I get the following requests but I don\u0027t know if I\u0027ll ever get it back I think you\u0027ve either got all your references will you do similarly a single method call operates on can do multiple operations on the same data type so you would have something that we names A to B and so many names B to a and know that you gonna get consistent results if you had if you were doing this with multiple things you would have to have intermedius and you don\u0027t know if something\u0027s gonna fail in between because it may never get to the server even if you say these are dependent you may not the server may never get the later one for whatever reason it\u0027s very simple to implement clients like platformers we\u0027re saying library supports easy debugging is really easy compared to multiple concurrent requests and trying to work out what actually happened in terms how they received atomic fetch from multiple sources at the same server state if I asked for three different messages in a single method request a single method call is going to be to be the same state within it and so I will get back consistent State for those three messages that\u0027s we can\u0027t go into atomic State between even between method calls in a single API request which is a single ACP thing we don\u0027t guarantee atomic but within a single method you do if sorry is your use case they\u0027re specifically fetching for example three different messages or are you just so that was probably a poor example it was more just that within a single method you can three things three three mailboxes or yeah I want the message count on all my mailboxes is something that you get in the total can double and miss sure server without them into moving messages we think it\u0027s probably easier so very very limiting although and you certainly don\u0027t get message "
  },
  {
    "startTime": "01:30:34",
    "text": "can you have dependent stuff and he gets rate limited halfway through and so again you end up with a slightly odd state of something that is half done and the other main thing we think is very important for performance is round-trip times any high latency environments particularly mobile and typically if you in Australian connect you to New York you every round-trip makes a big difference and even the best ATP to suggestions we\u0027ve seen most complex suggestions still use more round trips than we do with this current proposal so it\u0027s so kind of the summary is that yes the we think for this situation what we are doing using HTTP it all makes a lot of sense we get benefit from using HTTP rather than random other TCP protocol but we also get a lot of benefits from batching stuff up in like as a tunnel rather than necessarily using everything as a separate resource that\u0027s something so ordering I think would be pretty easy for us to provide to you making it atomic is a lot more interesting back reference is also a pretty interesting guy well yeah it there are ways you could do that you mentioned caching before we actually have a number of different invalidation extensions which might be interesting for you but again you\u0027d have to buy into the whole package not just part of it this takes us to one interesting thing is we want this to be usable by developers who maybe don\u0027t have much skill and so certainly they Martin\u0027s suggestions last night of ways that you could do this turned out to be a lot of work for a very highly skilled developer rather than something that any web monkey can slap together a quick little tool that shows them some informations in their email that\u0027s that\u0027s an interesting challenge we don\u0027t need you don\u0027t want people to have a PhD in email or to use this or a PhD that\u0027s fine you\u0027re using fast that\u0027ll be good but all of you might want to be able to but I think more general point is by even things like so all these suggestions use some of the more complex bases to be - most those capabilities are not exposed for example directly in the browser in the xhr objects you can\u0027t interact with a lot of sure something exit so you wouldn\u0027t even be able to do this in some of the environments we want this bill to operate ensure I I said I think although this seems to be I\u0027m sure I can make this fit http/2 somehow but doesn\u0027t seem to give any tangible benefits over what we\u0027re doing and seem to have more downsides compared upsides because I think our power can you not miss it and and that\u0027s an entirely reasonable position to have I think for me I guess what I would love to be able to do is to continue the conversation so we understand your requirements more and feed those into some thinking and and perhaps an extension development and it might be that our timeline for those extensions exceed what you need and you won\u0027t be able to use them but it\u0027d be great to have your input and feedback just so we understand and it might be that if we can come up with some proposals that are more modest to make "
  },
  {
    "startTime": "01:33:37",
    "text": "it a little more well aligned with HTTP as commonly used that would be good to talk about too but I don\u0027t think I totally understand why you\u0027ve done what you\u0027ve done and and those are real shortcomings and then that\u0027s that\u0027s very reasonable oh yeah we know this method works it\u0027s been tested in various situations there were multiple companies even running this style thing now so yeah it\u0027s something to be said for a kind of a system that\u0027s being proved rather than something that\u0027s ideas that we may be able to implement in the next year sure yeah ok comment from Sean I would like to see see more support in j-mac core using the same data model that is rather than submitting an accepting application JSON application SIBO or would also be defined since Sieber is a superset of JSON it should be an easy thing to add and support results in increased efficiency on the wire both ways not proposing Seaboard specific data model elements at this time so I just want to get quick comment congratulations you now achieved ITF bingo you\u0027ve had sea boar ooofff HTTP web authentication you\u0027re across the board congratulations Jeff\u0027s epic so one one thing about the whole caching thing if and I\u0027m not saying that rest is great I\u0027m not saying that what he proposes is bad there the caching I think it would be nice to be able to have the brown at the browser itself be able to cache the bits and pieces that it gets from the server so stupid one well like the scenario stupid web mail JavaScript thing right you close the browser it would be nice for a browser to cache the the data for the JavaScript blob so that the JavaScript Bob doesn\u0027t have to explicitly cache things even if you\u0027re building a good webmail these days you\u0027d want to do the caching yourself with indexdb to be honest with you I would say and the and you just don\u0027t have an utter control of the occasion validation like your performance wins are not gonna be enough to offset the performance losses I think that you get from the changing model because it would still have to revalidate that with the server basically every time because you can\u0027t tell the browser cache to only invalidate when you get a state string push from the server but email email is asynchronous so that that little bit of latency during revalidation shouldn\u0027t matter that much right we think latency always matters like we want every action to be instant to the user as much as "
  },
  {
    "startTime": "01:36:37",
    "text": "possible when we\u0027re designing stuff right but that\u0027s for mutating the state which is different from loading stuff from the cache nobody okay she may be stale like you something you think we\u0027re zone red is now red you\u0027re okay so anyway that was the client side on the server side as far as I know it is fairly common for ISPs to set up their deployment in multiple tiers where the the hosts that actually store the emails do not actually have internet access and there are two levels of proxies going in the SSL session that the LS sessions are terminated at the border and inside there the end the data center it\u0027s all clear text which presents itself to all sorts of wonderful caching which you would get for free by just using basically reverse proxies with HTTP with the list of J map methods you don\u0027t get that you sure you get it for it blobs but I guess I\u0027m just looking at this and going so you want what really is what it is that you\u0027re proposing is an our email fetching on top of an RPC mechanism using JSON using HTTP using TLS I\u0027m just thinking do we need another RPC mechanism well yes okay Keith more in response to the commenter who suggested using C borer is an alternative I would like to strongly recommend that exactly one presentation layer B Bush or B be part of this protocol I don\u0027t think there\u0027s a real unfortunate tendency in IETF and elsewhere I think the sort of support you know every flavor and that\u0027s not a good thing for either interoperability or for keeping things from becoming for the semantic drift between the different representations of things which always seems to happen so and also I don\u0027t think there\u0027s an efficiency benefit of C war 2 for this use case to recommend it marking and +1 to that I don\u0027t want to this to be taken as a suggestion it\u0027s not sure I\u0027m ok with it because there been any discussion about offering the resources using the post tunnel as well as using gates as well as easing BOTS me as using gets oh you mean you mean like just an it get give it a you are I give you right here um yes you could map pretty "
  },
  {
    "startTime": "01:39:38",
    "text": "easily the basic get stuff and even the set the like J map itself is really very restful it just doesn\u0027t use HTTP verbs for it therefore you could map everything on to ATP verbs and you\u0027d end up with a lot of connections and I don\u0027t know no no h2 yeah when you don\u0027t need it to be a time I can you don\u0027t need it to be ordered yes when you don\u0027t need that stuff then yes you could I don\u0027t know if it\u0027s a good idea or not but it\u0027s maybe some to talk yeah we it\u0027s something we\u0027re not sure like you could define a kind of mapping on top of gears away if you want to use that right you can wear an optional extension or yeah whatever not yeah yeah because you can even imagine that being translated at some way alright yeah yeah and and has there been a discussion of using WebSockets instead of HD I think you certainly you trivially could and again it\u0027s kind of bit like the Seaboard thing if we didn\u0027t want to define two different mechanisms originally or you saying instead of I meant to say instead of yes right okay it\u0027s it\u0027s only an option I think when we consider it the there\u0027s some of some of the nice things by HTTP is just is completely bippity means it has better support in some platforms so like talking to Apple and I also alphas they have a lot of stuff built at the operating system to coalesce HTTP requests to be more efficient with the battery usage sure whereas WebSockets I don\u0027t see Lee yeah they have that and again you got connections hold open so okay it\u0027s it was reason like that that yes I think WebSockets is a really attractive way of telling this as well and really be easy to do to that but it makes more sense to have HTTP as the as the base but that\u0027s pragmatic yeah basically I\u0027m quite interested in trying putting over WebSockets myself I think Alexi you\u0027re talking about this as well yeah especially now we have yeah gzip will deflate at least on both ways on least most modern browsers [Music] Neal on mideco you\u0027re up it\u0027s Neal I actually had just the same exact comment I was wondering if we had explored the kind of duality where we can continue to expose as HTTP resources you know in in everything in a very restful manner but then also provide for the cases where multiple operations do need to be batched to avoid those extra round trips that do really impact client performance over IMAP I know there are some api\u0027s that offer this kind of dual mode of operation for example the Google Drive REST API offers a batch endpoint where you can post a multi-part mixed content type request to a batch API endpoint but "
  },
  {
    "startTime": "01:42:39",
    "text": "all the other you know and everything else can still go over regular HTTP have we considered that more more more thoroughly and if not I\u0027d love to see it you know some more discussion about that I think something we\u0027ve talked about a little bit but not considered perhaps deeply a proposal I think what what we will be interesting to see there would be yes I\u0027m I think because what you don\u0027t want is to have to define every time the second different way of doing it but if you could come up with a generic mapping of saying this is an alternative way you can just use an HTTP resource this is how you get it\u0027s your I for this component then I guess the main question will be is it would you what mandate a server support both methods or you know again it\u0027s pretty engines internet into yeah yeah an easy way to deal with that because we already have your I templates for blah blah days you could have the same thing if you provide a URI template that could be used with a object name and an object ID to fish yeah the way you can do this I think the bigger question is where as I said whether having to have support two different mechanisms if you want to be compliant or do you make one optional and that always leaves types of complexity and difficulties in terms of interoperability potentially uh Chris Newman I\u0027d actually balance a question back at Neil on this is can you articulate a clear benefit of having yet you know some clear benefits that we get an email clients from having the restful mod I think that from a strictly functional perspective I agree with most of the contents that\u0027s already been discussed that there isn\u0027t actually a huge functional benefit I think from a stylistic perspective it\u0027ll be more approachable to developers for the first time if everything is a little bit more HTTP like I also am not convinced that the tunneling is necessarily going to provide a lot of performance benefits in the vast majority of scenarios I know that one one one scenario that was cited was kind of moving a message to a new mailbox and that being three commands instead of instead of just two and that that\u0027s legitimate I think in in common operation though the you know the the example I can think of from our client author\u0027s point of view is just launching the app and wanting to update the list of messages and you know over I\u0027m at that\u0027s going to be at least four round trips for most most clients and over j-mac even if it was more restful I think that could be already condensed down to one so you get a huge portion of the round tip time reduction without "
  },
  {
    "startTime": "01:45:43",
    "text": "necessarily adding this mental model complexity of tunneling but no I don\u0027t actually think there\u0027s any like hard functional benefits that I can think of to being restful other than just the stylistic conformance okay I think one of the issues there is how is when your this is where you probably have to have http/2 and ATP to push to make this really work because so in your scenario of eye-opener I\u0027m app and I want to get updates in gem there\u0027s a single hmm ethical get message list updates which you\u0027d say here\u0027s my I\u0027m getting updates on my inbox say here\u0027s my last state and it would return you here\u0027s you\u0027ve added messages at position 0 and 1 and this is their IDs now in j-mac you\u0027d also pass a flag to the cool to say Ashley I want to fetch those messages as well at the same time and here\u0027s the properties I want on those and so you make a single request you get a single thing back so with HTTP each of those message has to be different the source presumably if we\u0027re gonna make this map cleanly so you\u0027d have to have a teepee to push to be able to presume that you wanted to fetch those resources as well and return those responses when what you were really fetching initially with the URL was just the give me updates to list what are the new IDs because otherwise you\u0027d have to wait for the IDS come back and then make the fetch to those IDs so then you\u0027ll back to at least two round-trips again with ATP but if you had push from A to B to then you could potentially presume the client wanted those or have the client able to indicate that and return those responses as well so I think it\u0027s doable I just I think the biggest reason to have a way of doing this is as Neil sang it\u0027s more approachable to developers and may make it easier for new people to adopt I think the current version is better on the whole from a technical point of view it\u0027s likely to result in better network usage and I so I think maybe we should look into if there\u0027s a mapping that we can create and so this can provide both and whether then I said that the question is just kind of is that possible to do probably if so what how complex is that implement and should service be made from both was that an optional thing and what issues arise from that any further comments on this puzzle faces but no further comments so we can have further stop on the list when people thought "
  },
  {
    "startTime": "01:48:44",
    "text": "about it more perhaps so the last thing on the agenda is going over to github tickets well we\u0027ve only got ten minutes but luckily this is not too much do interesting things I thought we\u0027d bring up feel free to file more tickets if you see issues or bigger issues obviously discuss on the main list but just a few interesting things Lexy raised this ticket question of when you get through updates so what this is if you\u0027ve not seen Jarrett for is I have a type through and saying since my last state give me the IDS of things that have changed within this type so at the moment it so it returns on he says these have been changed which means either created or updated modified and these IDs have been destroyed obviously the destroyed ones the client never needs to fetch so it\u0027s helpful to have those separate at the moment created and updated all together you just get a single set of ID\u0027s that are changed the main reason for this is it\u0027s easier for the server because it doesn\u0027t have to keep know when whether you when you saw it to know whether it\u0027s been created or updated and for the client it shouldn\u0027t make much difference because if it\u0027s got it it needs to refresh it doesn\u0027t have it it doesn\u0027t matter whether it was updated or created Lexi if I remember correctly I was just comparing different get full methods for year and objects and for some of them you separate them and it\u0027s consistent you\u0027re you\u0027re comparing getting changes on an object to getting changes on a query which is like a message list which is a query on the message type and that\u0027s where it tells you as tell you this has been added to your query and this is the index you insert it at and this is removed so they are consistent is just the difference between okay maybe in this case time a bit more text explaining why why yeah down an absolute like this would be useful sure okay ah I\u0027m just got one more this is yeah interesting to you so what to do if you try to destroy a mailbox that company has messages in it so at the moment the spec says you just can\u0027t do it it\u0027s an error just allows it upside sleep more days across more effort downside you also you have to actually explicitly move each message from the mailbox if you want to do it the current thing fits well with the general general philosophy that changes are explicit on the whole like client didn\u0027t request the change something doesn\u0027t happen in Germany as a side effect whereas this is kind of a side effect which men that model generally makes it easier to stain in sync efficiently so there are other alternatives here though are it just removes it automatically from the mailboxes of us that\u0027s right the other issue with this is so J map supports the the possibility of multiple mailboxes for a message if you want to ever can "
  },
  {
    "startTime": "01:51:44",
    "text": "support that so what happens if you only have that mailbox left in the message that actually then deletes the message rather than just leaving in one of the other mailboxes one of the earlier drafts we have with J map moved it to the inbox if it was the last one but that\u0027s even weirder yeah you definitely don\u0027t that so I guess just general opinions on what what you should do here whether it should be an error should be allowed what it should do and whether kind of slightly state take a step back should it be possible to have a message with 0 mailboxes but that\u0027s still in the system is not deleted which kind of is no I mean that makes high map support harder actually harder it\u0027s kind of closer to the gmail model in some ways so I guess yes any comments on what should happen in this case whether you should be allowed to destroy mailboxes that have messages in them and what should happen then I suppose I\u0027m a bit struggling with use case where why would you want to delete a mailbox without deleting messages what\u0027s like like if you\u0027re treating my lyrics explain the difference to the user and you know is this one operation the other one just as not these guys Barry I I see it as maybe you warn the user that there are messages in the mailbox do you really want to delete it but it is convenient sometimes I have messages that I\u0027ve accumulated for a particular purpose I don\u0027t need them anymore I delete the whole batch in one thing I don\u0027t need to do transactions to delete every message and I don\u0027t want it so user interface thank you go to the mic it\u0027s a user interface issue whether you want to warn the user that there are messages here as to which one is likely to be well anyway actually you can ask the user without checking whether it has any mobile messages in it do have to check I think it\u0027s more you if you\u0027re gonna warn the user it\u0027s more useful to check though the user says delete this mailbox you say oh it\u0027s empty yeah no problem or hey this missing this mailbox has messages in it do you want to do you really want to lead it with all its messages but that\u0027s a user interface question and I\u0027m not going to try to design a user interface I just find as a user that it\u0027s a useful function to be able to say okay I\u0027m done with that stuff get rid of it Chris Newman I\u0027ll pre fix this by you know I\u0027ll be happy with whatever we do here but I think I think there is a you know I\u0027m afraid the better option is the most complex one and what I leaned towards is there\u0027s a deli mailbox method with an optional argument that "
  },
  {
    "startTime": "01:54:44",
    "text": "says ok to delete if it has messages and you know I\u0027m sorry I know that\u0027s that\u0027s more complicated but why I would suggest this is the knowledge that you\u0027re removing the mailbox and the messages at the same time as useful knowledge for server management I don\u0027t think you need a separate argument in that resuming you have fetch the mailbox object which is very small and you clients generally affectional notes objects it has a count of how many messages are in it so you know if it has meshes or not and you can already use we haven\u0027t yet we have an if in the state option with set stuff which basically says only apply this command if the state on the service count in same as in my client like if something may have changed in between like you may have appended message to this abort the operation so that guarantees then that you know it had no messages and you told the server it must be the same state for you to delete this so I don\u0027t actually think we need a separate custom command you know what built in from this when there\u0027s a standard like if that\u0027s applicable throughout all of game app so I I think I\u0027m really happy to change it adjust it removes the message in the mailbox from the messages which if it\u0027s the last mailbox means it deletes the message yeah I leaned that way because you know where it\u0027s where it\u0027s interesting is you know servers generally have to have some mechanism to deal with you know user requests where they accidentally deleted something and you know two separate operations of moving the messages to the trash and then deleting the folder that creates a different recovery model from delete the messages in the folder at the same time that you can you can do that shortcut on recovery of the folder reappears with all the messages that\u0027s so it\u0027s a server bag yeah the interesting philosophical question here is are you deleting an inbox from a directory on the server by I\u0027m linking a file or are you do you have a foreign constraint between messages in the database and mailboxes in the database and you can\u0027t delete the mailbox while mailbox ideas being referenced from something in another table which is very much a SQL style constraint you a foreign key constraint requires this idea to be present and then you can\u0027t delete the mailbox while is still something refers to it that\u0027s that\u0027s the decision we\u0027re making here is which philosophy do we have for mail box message membership well I think I think the one on the SQL side it you\u0027re arguing that the deli with messages is a more complicated thing to implement but I\u0027m not concerned about complexity of the server I\u0027m less concerned about the server vendors complex T we\u0027re concerned about preserving Smith so the other side of that as a client is you\u0027re going if you delete a mail box with a million messages in it and you say get message updates you\u0027re going to get a million messages that have had their sequence number bumped because they\u0027re yes you get an error of coverage well max "
  },
  {
    "startTime": "01:57:45",
    "text": "changes you be able to page to all the changes video take you forever to do it yeah that is it is a side effect all these messages are having nested affected by that they would have to a new email box has gone away you know well the other hand the other option is the client has to make that many requests in the first place to actually yeah do it so either way if you\u0027ve got too many messages you\u0027re gonna have some back and forth I guess okay um I\u0027ll think about that one maybe pay something hope to get back sounds like probably will change that to remove the messages and let you do it rather than Harry okay very quickly oh yes this is ammonia we saw the datatype the keywords we saw it mapped from a keyword named true there\u0027s question about why that rather than a list and because it makes easier to patch especially the answer currently mailbox IDs is just list so really they need to be aligned I think as a data format because they\u0027re both kind of the same thing it\u0027s a list it\u0027s a set of metadata things you can add and remove them and there\u0027s no ordering and you want to be able to patch it rather than have to replace the whole set at once so it\u0027s more just just yes does that make sense people or any comments on the use of a set kind of thing mappings true name lots of non-committal faces fine okay well we\u0027re out of time so I think we can bring it up on the list if we have any other ideas about that I\u0027ll hand the back to prom so the last slide here was other business other github tickets of interest we don\u0027t have time to look at them now but we should go through that and discuss on the list all the tickets are currently open so I will open it thread for each ticket that looks like it has some discussion worth doing on the on the list so we can deal with it there suggestion of doing a hackathon on J map in Singapore if it looks like we\u0027re going to be ready for that closer to the date then I\u0027ll request a hackathon so we can start playing with interoperability on the things that live a greater than at least I\u0027d like to short cut that and say there will be a hackathon project in Singapore start planning for it yeah and brawn are you willing to be the champion for the project yes so you\u0027re in will put you into the wiki cool I\u0027m planning to have a dinner tonight at an Indian restaurant which was up on my screen but didn\u0027t pop up the other thing there but I\u0027ll send through again an email a rough idea of how many people would be available slash interested for dinner tonight seven o\u0027clock opposite all right it\u0027s cool it\u0027s about 10 10 to 12 or Blake I will call them up and reserve a table when one other thing on the hackathon does anyone need an explanation of what the hackathon is or when it is or you "
  },
  {
    "startTime": "02:00:45",
    "text": "all know okay then the ietf hackathon started a while ago and there the thing on Saturday and Sunday before the IETF meetings so plan your travel so you arrive sometime Friday have a little recovery and pop into the hackathon it it goes from 9 a.m. to 9 p.m. on Saturday you don\u0027t have to be there the whole time and from 9 a.m. to about 4 p.m. on Sunday and you just sit there for a day and a half at working out some project that you\u0027re working on and in this case it will be implementing testing interoperability testing whatever it is for Gemma I\u0027ve got a specific item there for testing as well we have to start our test framework forge a map and that\u0027s one of the goals the next little while is to have some fast mail people work on flashing that out so that we can actually test other server implementations at least for compliance client testing is always a little bit trickier because there\u0027s all the user interface side of things with the server you can more check that it\u0027s complying with what you\u0027re expecting I\u0027ll put a note for calendar contact future extensions there\u0027s work underway in Cal connects in defining objects for calendars and objects for contacts that would be compatible with Jam app and there\u0027s already some rough drafts on Gemma prior or how they would look as J map style objects and the relationships between them and we\u0027re already using something very similar in fast mail for our calendars and contacts and the gem a proxy already proxies them to Kelvin card over and looks quite nice so that\u0027s we didn\u0027t do that now because there\u0027s enough material without it but there would be natural extensions of Gemma fairly early in the piece and we are now two minutes into the break so let\u0027s let\u0027s take the break this break has no food the break in an hour in a couple of hours does thank you for coming thank you for coming to Barcelona yes "
  }
]