[
  {
    "startTime": "00:00:05",
    "text": "okay okay it\u0027s 1:30 let\u0027s get started so as we\u0027ve all seen again and again this is our note well please note it well don\u0027t have anything funny to say about it sorry do we have an agenda to project are we just going to dive right in what are we looking for just that so you can just pull it up off this one scroll down to the hearing I mean if you want to start yeah I\u0027m talking about one side well I\u0027m pulling this up you can do that okay so I\u0027m gonna start because I\u0027m gonna for my sins I\u0027m sharing the IPSec related work section and so John I think you need we\u0027re going to go through agenda bashing which is right now then we\u0027re going to go through my introduction to it which will take about 15 minutes in that if you\u0027re an IDR person I\u0027ve put a whole lot of detail that gives you the tlvs but I\u0027m going to give the high level for the security people because tlvs may not be as important as the general security then Jun who is going to give a remote presentation on the IP sick singled tunnel configuration then Linda is going to give some more details on SD when courts because I think use cases are as important and then Ally and they\u0027ve are going to give a presentation on the secure methodology for evpn at which point we\u0027re going to have a general discussion about the security methodology and issues relating to bgp VPNs versus other things I know this has been talked about in sector and suffer some things in excuse me set dispatch not sector set dispatch earlier this week so now you have to find my presentation this one right here that\u0027s "
  },
  {
    "startTime": "00:03:08",
    "text": "okay this is I an overview of IP links and VPNs for all of you who are IT are people you know I used to when I had young kids who\u0027ve watched certain TV shows and there was two levels of presentation one was for the parents and one was for the kids and I liked it because there was that sort of fun well this you\u0027re all adults but the I put in enough details that if you\u0027re an ITR person you can read the details but I\u0027ll be talking at the at the higher level so we can interact with our security brethren the drafts we\u0027re considering our drafts agasi best secured evpn dref who\u0027s une id√©e our bgp IPSec and Dunbar ID rs1 there are supporting drafts you have to realize there are supporting drafts for the secure VPN from draft Carol IPSec controller there are some core I work from I 2 and a SEF for an IPSec flow controller and then there is supporting work in bgp from the tunnel and a usage case from dart andar so we\u0027ll just sort of reference these I\u0027m expecting you to to read if your ID are to know how to navigate a draft and find it\u0027s supporting things the rest of it so why are this meeting and you saw this in the best working group we have multiple overlapping protocols on IPSec in best IDR and I to NSF I to NSF is really looking at device controller a security controller controlling many secure devices so we got this in our 80s said you know let\u0027s go work it out so the best an idea our chairs agreed that calm until these four idea are tunnel and camp should be agreed upon in IDR which means we need to agree in IDR that that\u0027s the right place because the tunnel and caps draft belongs to us belongs to the IDR working group the SI mechanisms need to be harmonized across the three drafts but but the idea the IDR on best chairs admit full well we are not security experts I know you may find that\u0027s unusual from the security that we admit on unknowingness but we are and then we have to determine in a subsequent thing whether the NRI requests in draft unbar IDR Sdn port so this is why you\u0027re here we\u0027re trying to do the second we\u0027re going to try to give you the various security mechanisms we do not ask for an immediate answer we ask for you to give us a sort of opinion if you think this is a longer discussion with the security people we should let us know but we\u0027re trying to get a scoping okay now this is mom and apple "
  },
  {
    "startTime": "00:06:09",
    "text": "pie for all the IDR folks but I thought I should throw in a few introductions this is the basic topology you have IPSec tunnels those are the things that they to go through goes through you have bgp peering in some cases the BGP peers talk directly to one another and in many of the secure VPN and the sd1 case they talk to an arc of BGP route effector BGP route effectors are our mechanism by which we scale I\u0027ve we scale tremendously so I think I\u0027ve gone through the fact that that the sigasi graph is a secure VPN that the Dunbar Draft is the sd1 and that June whose graph is trying to make management provisioning and management of large numbers notice all of these say large numbers large numbers of BGP based secure VPNs with large numbers of IPSec mesh tunnels who believes he can do it with simpler tunnels and he can do it without a centralized controller the question is that\u0027s on a controller for BGP what about a controller for the security control as i2 NSF has began to specify one note I have to have as I am co-author on one of these drafts but in this session I won\u0027t be answering that draft in order to keep it clean I\u0027m acting as a working group controller so if you ask the question toward that draft you have to ask my co-authors okay so how do we look at this we look at the use case the architecture the security issues the hierarchy and the BGP mechanisms I need to give your security folks heads-up we are replacing the BGP implement for tunnelling with the draft IDR tunnel attribute it is essentially looking to replace the encapsulated extended communities but BGP lives in an environment of deployment we deploy things and we get implementations and that\u0027s when we finalize the standardization so a lot of these wonderful things it\u0027s described secure VPNs have already been deployed so in that case they may be going with the encapsulated in its extended community but in the future we are hoping that people will transition to the draft IDR tunnel attribute why because there\u0027s some better security around the attribute okay okay this is a general architecture that comes from the secure VPN but seems to be followed there\u0027s a zero touch bring up there\u0027s a configuration management there\u0027s an orchestration and signaling for PGP folks during the the the non security "
  },
  {
    "startTime": "00:09:09",
    "text": "Association section you can ask questions about that there are two types of things there is a one administrative domain IP security function that June who is proposing that\u0027s within a single administrative domain that may have multiple asses but it is within one administrative domain and that\u0027s a definition the secure a VPN and the Sdn goes through multiple a SS and multiple domains okay so there - there\u0027s a range of these security issues so if you\u0027re reviewing one you need to know whether what context you\u0027re in are you going across multiple administrative domains and administrative means this guy owns it he owns the security for all the boxes and he owns all the BGP stuff in the secure VPN and the SD LAN case they may be going between two places perhaps two carriers perhaps two cloud providers the security issues that I as a chair and this is just my first stab in the dark fall into two characteristics you can have a controller two device you can sis and and and there are some assumptions here we assume that the route reflector which is the thing I\u0027ll show you that is like the controller can securely identify the other node we assume that that is part of the operation in these architectures we assume that they\u0027re setting up traffic\u0027s selection policy that\u0027s part of normal routing we determine where you can send traffic how we do it a lot of the yang policy distribution that\u0027s being worked on by the routing working group is doing some policy Jeff wave your hand he\u0027s the routing working group person that\u0027s working on policy that policy distribution is being has configuration and yang and can be run over the yang secure topology just as if you had I to NSF he\u0027s got the policy language en description that\u0027s not the type of capabilities that might come from I to NSF now if you set up the security databases they could be downloaded outside you unions a draft does suggest that and but those are places you should look at us you should say do we know what we\u0027re doing there do you think we can have it conflict also could occur between two mechanisms you could have - I - + SF mechanisms conflicting with yourself and there\u0027s a way to work on that you could have two bgp mechanisms that are singling these here give secure VPNs you could have one of each the goal "
  },
  {
    "startTime": "00:12:11",
    "text": "in all of this is to have non overlapping policy roles or rules if you have it that in in routing we call it preference if I got top reference and we have a conflict I win so the routing people are used to that and I think I went through the tunnel attribute but in our attributes we do have some policy that we\u0027ve been working on we have validation of origin ID because these are tracked by a route and filtering as I just described or if you want to get into the BGP second vironment you could signature various portions of the data by what I\u0027m meaning to the security people is this is the data portion of BGP the links are secured via IP second most of these proposals you know whatever they\u0027re distributing it and the but beyond that we have data securing for the packets that go through BGP because the data is end-to-end and can be done okay just for fun this I I i dr folks i took a look at all the hierarchy and there\u0027s hierarchy in most all of it and i\u0027ve laid it down there that\u0027s my best reading of the drafts please tell me if you think they\u0027re wrong for the security folks notice we have significant hierarchy because we have to scale in ib sec we passed some data in bgp tlvs we passed tunnel type we pass port distinguisher in some repents nonce data we pass tree key we do a key exchange and we have SI transforms those are actually being passed and the BGP PDUs that are being passed okay we have some open issues for the working group to deal with some of our because our ID our tunneling caption is being obsoleted some of these drafts are being revved so if you have comments on some of this stuff we could catch something in there but our current tunnel types based on the change of ID our tunnel encapsulation some of them have to be read for IDR look at the number of drafts we have to now fix now that if we get tunnel and caption through bgp secure requirements now this I\u0027m going to stop and focus on I put a little later in the slides because just before you see all the requirements we have scalability issues we have 10 K notes they oftentimes and these things have a hundred million links have a hundred thousand links we have 10 million routes and maybe 20 million end customers this is not the scale of a 1 even a small network these are massive networks our robustness is five nines in case you\u0027ve never heard that term it\u0027s 99.999 percent uptime you "
  },
  {
    "startTime": "00:15:12",
    "text": "have to have ready to go key management sa on-the-fly within milliseconds that may not be possible that sure is the desire of the customer reoccurring occurs this is not a static drop and go this is a dynamic creaking there\u0027s a separate path for control and data that is hard baked into the scalability of BGP route reflectors and there is network topology with non directional links because of data throughput issues this is this is a complex environment I\u0027ve just said that ton of stuff there if you\u0027re a security person and you want to ask me what all this means it\u0027s scaling with the star and it means that some of your assumptions on BGP the IPSec VPNs has a different twist when we get to be chipiya VPNs BGP is a control plan this is again basics and respect for our our security brethren who have kindly come the compelling reasons for using BGP is BGP is widely deployed it has a reliable transport it is a guaranteed order it could be run or mandated to be run over the best of TCP we\u0027re not going to go into that you can we\u0027re going to go into what happens after you have a secure link the protocol runs on top of TCP it has incremental updates that are as I\u0027ve mentioned several times and I probably am repeating myself here the routing reflector which means routes go up to a central controller and then our distributed reduces the full flag full mesh and the route table size so we have to have that and we have to have security built in route reflectors have the to apply policy to communication that\u0027s part of our DNA already and that last face it\u0027s not three hours it\u0027s two hours VG p plus route reflectors support many types of topologies hub spoke mesh anything else I\u0027ve met missed our secure VPN folks will pick up for me the implementations are robust widely accepted they go from data centers to to corporate networks to mom-and-pop shops they\u0027re it\u0027s flexible why are we asking you to help you just probably got it this is a longer conversation some things of what I was trying to get us to get to you may have already because the Carroll draft is specified it for secure VPN and Sdn leverages the Carroll draft you may have an understanding of this in detail they shortened it up seeing that you\u0027d seen it a few times but these are the things I tried to look at what you were requiring if you had something more and you want us to work toward it please do we\u0027re looking at generating IPSec "
  },
  {
    "startTime": "00:18:13",
    "text": "essays rekeying IV sec database generation both SPD security policy and s ad we\u0027re looking at peer author author a ssin database and policy distribution kudos to june he filled out all of us for the domain there is the bgp security issues that when you have an implementation you need to check the box whether you\u0027re doing origin filtering that will require a link to the PKI or something nearby it you need filters to string out attacks those have to be downloaded could that could be part of an i2 and s download as one of the capabilities and you have nested tunnels did I say Nestor tunnels okay so with the hierarchy you should realize that nested tunnels are part of our life they are nested sometimes six and seven layers deep I will take a quick jetpack and notice this hierarchy is about seven layers you can have people going that far in thank you and I will be done it is now jeans turn yes the slides yes we\u0027re projecting them off the meeting materials it\u0027s it\u0027s in the materials there in the Friday session Jim thank you Jim yeah really loud and clear okay you can even back off a little oh thank you guys so my obsession is really about the draft I wrote regarding to signal the opposite complete by bgp so next slide please so basically the draft defines a message bgp to second certain IPSec configuration along with the NRI that will be updates it relies on the GP tunneling cups is dropped for the IPSec confusion and HP is only used to you know it\u0027s projecting really loud try to back off on your voice we can\u0027t seem to figure out how to back off the media Quahog okay okay so bitch be here is in this draft is only used to signal the config art of that music the actual IPSec tunnel is still created by the acquittal particle between the routers that using EGP so really there\u0027s no "
  },
  {
    "startTime": "00:21:16",
    "text": "change on how IPSec tano is credit this is still using I could be to and everything regarding our IP set work stays saying there\u0027s no change on the IPSec part the only thing I proposed in the draft is on how to use BCE to signal the conflicts at the convict of the IPSec so here the list of the sub theories I propose that we use two signals IPSec complete first we can use the existing data type for the IPSec tile which is a web form yes little amount I did not accrue the ashtar because it\u0027s hardly used in the deployments and plus IH does not provide the complete confidential protections so I only put yes Python oh here in the draft and also there are three new sub theories I proposed underneath the Italian caption attribute first why is the public audiences so this sub theory is basically is a rocking target to indicate where the encapsulated IPSec market before in because in the comments IPSec the public side of IPSec different from the public private side of the IPSec this is a convenient way Dumbo you could follow I kiss effect in one of the VPNs which slightly you on yeah this is a slight the tree did this area showing here yep okay we\u0027re fine yeah but your payload packet back home from the different total total different route instance the second new tier II sub theory is the remote address prefix sub theory which is from the receiver point of view so basically this is the IPSec traffic selector like TSI and then there\u0027s another one for the remote for the local traffic selector which is a local car local address prefix suppose this to nutrients of theory is basically contain one or more IP prefix that we use for the basic traffic selector and there are some existing sub theory I propose to reuse for the IPSec config so why is the tunnel in point so basically this is now the IPSec tunnel endpoint address and then there\u0027s a color so color here in my draft is really aggregation for all other IPSec config but not specifically mentioned here because I do not want to introduce too much change on the beach P site and "
  },
  {
    "startTime": "00:24:20",
    "text": "plus in most case the like transform like lifetime they are all same on the all parties participating routers they are all same config so you have one stead of those co-efficient or you have a multiple set of this country but typically you know we have same completion for every participating routers so which means I can actually simplify this by just using a color to signify that that\u0027s the collection of those configure configurations so there are two approach here one is the using existing color sub theories another approach that to just introduced a new color subcarrier just 5p SEC to avoid the confusion of using the existing subtly and then last part is the embedded label Henry so for the VPN browse ipv4 will be 6 ppm rafts which has embedded labels in the BG update which is used to identify in the data path which not instance or which will appear in this packet belongs to but here 5e sec encapsulation ab second not really encapsulate that packet will be the labels IP stack the only only IP IP packet can be encapsulated inside ivy Sopranos so here I proposed we should ignore that label contains it in the European routes because with IPSec the China\u0027s say could already identify which of the instance that packets allows to so you don\u0027t really need that additional label and update so I propose to use that value to of the embedded label had enduring sub tier V to signal such process so next slide so here\u0027s a table I created two mapping between the needed IPSec config to the BGP signal config so for the Ike for all the I conflict like as they transform like authentication Messer to render shows lifetimes in cetera like the NDP D those are all aggregated by the color sub TV or we if we decide to music use a new sub theory for this purpose for try the same public forum is vital on it\u0027s a channel type field in the tano in cups H cute for the child as they transform that\u0027s also a group made by the color and for the traffic selector local remote and this type of there should be one local in a one remote Travis Lecter address range which "
  },
  {
    "startTime": "00:27:20",
    "text": "signal Bibles those new sub theories mentioned in previous slide for these traps Lecter protocol in the pot range it\u0027s not second out it\u0027s as soon as any so which means the only only chopped selector favorite we signal Y which P is the address range or prefix for the entire play config is a degrade by the color ESL the config is also a delete by the color next slide so here the table showed in the previous slides that I fear out so the general of the initial every success ace is based on the routing lookup so based on the you would rather neutral for the packet he will do a rotten lookup and if we decide to using a particular bgp update and that update has a IPSec can encapsulate suit then he will use that confusion to create a tree sectional by a 3-2 and that penetration will created the initial I can say and try to stay and Ricky\u0027s Oh psych I say and try to say Ricky we\u0027re down by a tree - based on the config that we using in the tunnel creation time sticking on by the color some theory so basically typically you will use lifetime paste ricky mechanism so that lifetime use signal by the color also there\u0027s not much difference between single device Ricky and about device Ricky because all the Ricky\u0027s here is that down while standard Acme to operations the device weekly visits tano Pierce there\u0027s no involvement of any third party device it really happened between these two ton appear for the different IPSec database for SPD is a Accenture signal by the NRI which is routes local prefix and the remote prefix sub theories why stay D SATs actually the China says I try to say that create a dynamic day when that could be to create a no or when the tried ASAP happens and whenever whenever a new try to say or trying to say Ricky happens the new set of keys mass SP are generally dynamically for the peering database PID this is a signal by the talent points of theory for the policy policy distribution the advertising rouse signal these IPSec config it requires other to use when "
  },
  {
    "startTime": "00:30:22",
    "text": "reaching the NI advice so basically a router advise certain brows and along with those little rough it also advised what can I protect a no you need to use in order to reach this route this could be done with our without our ax because it\u0027s just standard BGP updates the receiver use normal BGP routing lookup mechanism to decide which update to use so in case let\u0027s say if there are multiple routes a multiple router would advise the same routes but with different IPSec config then receiver just using standard which pin mechanism elect with them who pacing based on the preference to select one to use and use the corresponding I pista config in that update so next slide for the security issues relate to this approach so all the standard BGP security makanda could be used to he has the security of the BGP updates like origin verification filter which we sack for the nested tunnels just like at the top type tunnels that you signal by BGP you have to pay attention to avoid looping because in case there are multiple nested tunnels and there will be multiple BGP updates you have to be careful not to make a loop out of it so basically you have to either intentionally or intentionally misconfigurations that might cause the loop next slide so my draft is really focused on the single and is read to me but for if you want to have it work across the division to me the only thing and if you make sure is that the mapping between the color and opposite configuration and read and also I didn\u0027t put it here but it\u0027s also important we have a common set of syndication framework and credentials policies for example let\u0027s say you if you\u0027re using certificate or syndication you make sure this two organization trustees charges RCA\u0027s and it\u0027s seen issuing certificates as long as you can do those things I mean this draft could also work across administer to me but typically you want to do the draft in the same and mr. Toomy so the distribution of traffic selection policy is by the at fighting router because again the main use case of this draft is "
  },
  {
    "startTime": "00:33:22",
    "text": "that if you don\u0027t have any central controller and this is just like a normal routing like traditional route inheriting works each route Todd makes their own decisions and also make the whole decision of how what kind protection they want to have for this routes they advise so the advisor outer will decide what kind of traffic selection policy is able to use and the they receive all those raw rapidly rafts and need to you have to use those a piece a config but including that those big updates to reach those prefix those routes because the receiver will enforce Authority advising a lot of reinforced the check of the receiving traffic that if the single traffic comply with that mister config that it the device individuals for the controller conflicts so again if Toros advice same NRA but with different config in computers or by the normal BGP mechanisms for between and bitch PE so if there\u0027s such confliction between the this draft and another mechanism for example local provision or prison foreign controller I mean this is really local matters is up to the intubation to decide which one to prefer and typically we would say for example if you have a local configured a piece of configure the overlap with the beach be signaled mister config typically you would want favor the local config once and then for the last part the day or touch setup so the trust this drug does not actually actually address the attached provision because it requires some pre provisions before this could work for example you need to provision pretty provisions the color to IPSec config mappings and also you need to pre provision the IPSec authentication mechanism its credentials but it could be a facilitate the attachment provision the only because you only we only require the relative static config because the authentication credential and color mapping it\u0027s it\u0027s typically is common for all the routers and typically it won\u0027t change very frequently so you could actually prepare users by other means other routers but have this dynamic part like like the trophy selectors and those things still go by the BB for all those good pieces of information folks for the security "
  },
  {
    "startTime": "00:36:23",
    "text": "folks will give you a bit of a moment to investigate that unless you have a burning question we\u0027ll take all questions at the end clarifying questions yeah if you have clarifying questions related to this draft then now is a good time other as will as sue said take questions at the end no one approaching the mic so thanks and we\u0027ll go on to who\u0027s our next one okay that\u0027s good thank you so here I\u0027m only going to talk about user scenarios key requirements and I know we have some offline discussion how do we encode the bits and information I\u0027ll leave that later we\u0027ll talk about later after at least dropped so okay so the key things about sd1 I present this in the RTG working group briefly on the problem statement you\u0027re talking about mati players you have service providers have the VPNs you have the ISPs for the internet connections and you have call provider offer connection from their gateway respective gateway to your virtual router and you have your CPE device somewhere maybe on your campus or maybe in a shopping mall maybe in some remote office so the sty itself is about the overlay as you can see here like for example the MPLS network itself has the UM PGP control that\u0027s the one bgp version you can think about underlay BTP layer and this dotted line dotted purple line here is control the devices in very different geographic locations you could have one CPU located here in Montreal and you could have your virtual CPE located in some cloud data center in a different country and you could have a controller using some kind of TLS or some kind of TTL s to be able to connect to those two devices and then distribute information distribute IPSec configuration or IPSec key establishment so here in this example I only show just one cloud location one CP but in reality as sue mentioned in the earlier slides "
  },
  {
    "startTime": "00:39:23",
    "text": "there could be many more than hundreds more than thousands and in the past in our deployment we use an HR PE to read kind of resolve some of the addresses and tunnels but once the network go beyond 100 it doesn\u0027t scale anymore so we retreat to be GP because BGP has been proven can scale to much larger number of nodes and sessions so that\u0027s some of the key characteristics of this sd-1 here we call hybrid sd1 simply because for this virtual router they can have different ways to be connected one is through secure network see if the traffic goes through MPLS network and through that they were connect to the virtual router the traffic don\u0027t have to be encrypted in packet goes that way then they can go natively to have better performance and if traffic have to go through the internet then that has to be encrypted so IPSec only apply to certain traffic going through certain paths and same same traffic maybe at in the morning it goes through the private networks through that they recollect to the virtual router that Inc doesn\u0027t have to be encrypted and then maybe later on when the traffic condition in a private network at congested may be shifted to the public networks through IPSec then that has to go through the encryption so the policy is a local decision from like CPU one they have basically have different kind of monitoring system which is beyond the scope of IDR to monitor the network condition monitor the application status and then make local decisions on where to send and for many many cloud a today\u0027s application and there\u0027ll be many components right so application components can be instantiated at different locations and same application they may have multiple versions of it much multiple instantiation of it and based on some policy sometimes can be regulatory requirement sometimes can be performance issues and the the connection can be site based like say for example my traffic has goes through certain sites because of I have to comply to some regulatory requirement so and for the sd1 like the virtual pass the BGP connection had to take the site "
  },
  {
    "startTime": "00:42:23",
    "text": "into consideration on top of your note ID on top of your port ID so there\u0027s another layer site that\u0027s just another requirement that has to be considered for inter canal multi-cloud interconnections and for example in this example here I only show that from CPE to cloud data\u0027s in the one and then called a descender to the traffic between the two cloud datacenter like VPN virtual virtual router in datas in the one the virtual call in data center to some kind need to be communicated and there will be pass among them as well and the passed among them can be encrypted through the public network or can be through the trusted network so just in general this one has been presented in the RTG working group is about here just summarize two different type of iced tea wine scenarios one is I call homogeneous sd-1 meaning that oh traffic I encrypted you have a CPE like in a shopping mall all the traffic from this particular device to my campus network or to my other places are encrypted and so it doesn\u0027t matter which one port you egress from another one we call it hybrid network hybrid sd1 meaning that someone ports need to be encryption to be encrypted someone ports you don\u0027t so it\u0027s really from one point one perspective from the client side you have client attachment which can go through either port so the for the sd1 control playing the peer-to-peer model doesn\u0027t work very well simply because I have those kind of virtual edges they actually can be instantiated in different places and in the overpass multiple domains and so we need the dotted line route reflector which he runs at the different layers from the underlay network to connect them together and it\u0027s very important that those devices when powered up be able to have burned address they can reach to an establish secure channel this is not just for IPSec attributes only this is for other purposes like policies who you "
  },
  {
    "startTime": "00:45:23",
    "text": "can talk to for example this are one being instantiated he wants to send communicate with certain applications he doesn\u0027t even know where the application is located because they may all have their own private addresses so the the sequence is our one has to send those traffic requests to the to the controller which is I call it raw reflector simply because when BGP used a BGP itself has the mechanism to distribute controlling information and so all the communication is not directly through each other through peers and it\u0027s really through the controller I know that in a security dispatch discussion there are people debating on whether we should use controller or should be peer to peer so just for your information the controller is there even if it\u0027s now for IPSec purpose or a piece a key distribution a management it is there for other purposes and also form the route distribution like just like a VPN you may have attached routes you need to Republic eight that routes to other peers which in your domain and that\u0027s also so the wrong reflector because the edge node don\u0027t know how to reach to the other peers and and it\u0027s important that for the edge node to register his web port right my one for today I have three one ports and one is connect to the reconnect is the VLAN or is a secure connection another one is private address which need net another one maybe it\u0027s public address public IP reachable and that but you can use that trees establish them IPSec tunnel so and then on top of that for the ports which needs encryption they need a pisac management so so for the one-port propagation as i mentioned earlier is through controller and see for example here I have CPU one in dollars I have a CPU in Beijing CPE one need to communicate with their corresponding application and they need to go go to the controller to figure out where is the CP to and how what is the public address for CPE two because they are open they may have private addresses and then through that they can communicate be able to establish channel you have questions okay that\u0027s the last time okay so in terms of how do we "
  },
  {
    "startTime": "00:48:27",
    "text": "encode the information we have discussions have lots of discussion with Ali and we all agreed that using tunnel in cap is the right way to move forward and the later on I have a couple slides showing different ways of doing it the pros and cons of different ways so we can defer that discussion to - later on later time so today because lots of people from security are here our main purpose is to maybe convinced you guys that for the IPSec configuration it should be controller facilitate it peer-to-peer doesn\u0027t scale well did you have a clarifying question maybe you can expand a little bit on a need to signal ran puts across a a provider networks I mean you brought up a brilliant case here whether you may want to shunt traffic at over different ports at certain time of the day are you expecting to add that when you signal that of course through the wine ports to increase the chatter within BGP ok ok ok so the one point self actually it\u0027s not really when you need to send traffic is really when a note powered up because for the sd1 well the important requirement is zero touch provisioning you put a box you ship a box to your client to your customer they power them supposedly they were touch provisioning will require that box to be able to be up functioning so depending on this web box where they are located see if they are behind a net right so they need to tell send a signal to the controller Rob reflector here\u0027s my box here\u0027s my port I have three ports functioning and the port one is actually is a private address and but my net property is this I can go using some kind of mechanism I have detailed in the draft showing that a mechanism to detect Manette property so I tell the controller so in this example here I want to make sure that you III heard the question slightly separately did you get the answer to what you have I think we\u0027ll have to delay the the detailed scenarios offline but did you get the answer no I did it would be good if you can send out an email on a mailing list explaining it that would be also the interest of time you question is the need to signal and if you\u0027re gonna signal it because the other end really doesn\u0027t care it works on the routing so what\u0027s the need to signal and if you\u0027re gonna signal are you going to add what\u0027s "
  },
  {
    "startTime": "00:51:27",
    "text": "the indication on the charter of the right bus so the challenge on the creaking of the challenge or just to do it at all okay we\u0027ve got the question we\u0027ll pick that up later Thank You Linda for okay good presentation thank you thank you very much the listing in the agenda is Ali but Ali and Dave are gonna tag-team maybe it\u0027ll be more entertaining that way [Music] so let me just think of easier so we got the shortest presentation but it takes two of us to present I\u0027m not going to be presenting what is on the agenda which is security VPN because security pian is a solution and it is talks about Harvey doing the point to multi-point signaling over bgp to set up the point-to-point IPSec essays and it talks about the details so before getting into the Harvey do it we need to talk about what we are doing it and why we are doing it and given that this is Mike picking Ellie up everybody can you hear me all right okay thank you and this is given that this is a joint session between the security and BGP team I like to keep it at the high level making sure everybody is on board with the what and boy and then later beginning to the half if I start with the architecture component which is not also in this s why it basically we are talking about the three four main components one is zero touch for visioning such that when you have a edge device you can just turn the power on and goes to his ztp server gets the info where to get the configuration and then the next component is a configuration component that HD version gets a configuration component from it over the secure Channel and then third is a signaling component that deals with signaling the information we need to set up the IPSec si as well as to do the keying reeking and so forth and these are the three main components and with the provisioning you know we defer that to I to NSF with the gtp it is outside of the "
  },
  {
    "startTime": "00:54:27",
    "text": "scope and though and so the signaling is what we\u0027re gonna emphasize in here and we\u0027re going to talk about why we want to use BGP to set up these IPSec to set up these IPSec assays so a little bit of the background that I started the EVP and about 13 14 years ago and that goddess started as a research project and right now it is very prevalent in data center in SP and in Enterprise is basically the facto overlay controls for Oracle and solution one of it has many reasons one of the reason is btp okay with respect to the capability it has with respect to is proven SQL proven functionality flexibility all that goodies okay so that with the same principle we want to leverage that for the security aspects when we want to add the security feature and secure the tunnels we currently use one signaling mechanism and this BGP and there has been presidents before that in the last 15-20 years for the people who\u0027ve been around okay we solution had two signaling mechanism such as for the multicast VPN we did both PGP and we did PIM and we converge to BGP for the l2 VPN with a targeted LDP and BGP for discovery then we converge to the BGP and many other instances this one we have a BGP we set up the use the BGP to set up many tunnels and for the IPSec tunnel is only one tunnel among many that we set up and we want to leverage the same signaling in here and some of the customers basically not they\u0027re not only asking using just the protocol the signaling protocol to be BGP but also even to use a single Hafiz a fee or for example a single solution within that so that is basically the motivation to use BGP in here next please sure so I came at this from the sty inside of our house we\u0027ve we developed st wan\u0027s not using "
  },
  {
    "startTime": "00:57:27",
    "text": "BGP but with a really similar architecture we\u0027ve got a management station that would be very analogous to what a knight to NSF does we\u0027ve got our orchestrators that work very much like a route reflector does and we send around our are keying updates and our routing updates for the overlay network altogether it is entirely you know analogous to what we\u0027re proposing here with threw out reflectors so we have a key exchange protocol for those who weren\u0027t insect dispatch or IPSec amia a year or so ago there is a draft on our key exchange protocol that we\u0027ve put out the the rationale for this is keeping it controller based we did this because of scalability as Olli was talking about that\u0027s kind of the primary functionality for it everybody talks to a central controller those are replicated they communicate with each other they push the information down and we got the scale that we need it there are other there are other needs that we that this met we don\u0027t want to drop packets obviously when something comes through and you need a session established we don\u0027t have we don\u0027t spend the time to do six round trips or three round trips or whatever we\u0027re going to do we want those packets to just go out so we have sessions usually pre-established if they\u0027re not it\u0027s very quick to establish them because we don\u0027t have to actually go off box to get the information we found other issues that made the controller based model really nice for us we run control connections over typically provisioned quote/unquote secure networks customers certain of our customers insist upon this data may go out over the public internet or a public network but control goes over the provision of networks and so I\u0027ll go really high-level into this key exchange thing I don\u0027t want to go into a lot of the details of it here because I think that\u0027s a task for later if we decide to move forward with any of this but the concept is actually really pretty simple we send it\u0027s a different exchange but it\u0027s done through a centralized controller so an individual node will create a diffie-hellman pair send the public value up to the controller controller aggregates all the public values from the different nodes and it sends out updates on regular on a regular basis now everybody knows everybody else\u0027s public number you can create a different pair you know there\u0027s a little bit more to it there are nonces and we try to do some good hygiene and some other stuff but at a high level it\u0027s just a simple diffie-hellman some some key misconceptions people have thought this was long term static diffie-hellman it is not we rekey in the "
  },
  {
    "startTime": "01:00:28",
    "text": "lab when we\u0027re trying to thrash on the stuff we rekey every 15 minutes typically that\u0027s not how often you\u0027re going to rekey in the real world but it does thrash the stuff let me tell you we but but things do rekey and honestly the part of this protocol that makes it more interesting than just hey we\u0027re exchanging diffing Hellman pairs is the synchronization over the rekey so if you imagine a network with ten thousand nodes you need to keep that all synchronized when one of them decides to rekey he\u0027s going to send information to a controller it\u0027s going to get to the different nodes at different times and yet we can\u0027t drop packets it\u0027s pretty complicated if you think about that one node rekeying when you think about all 10,000 nodes randomly rekeying at their you know at their offset of the key interval it gets pretty hairy if you if you read the draft it goes into a lot of detail of a slide in a moment talks about how that\u0027s synchronized resynchronization yeah as stated the route reflector or in our case you know in st LAN it\u0027s not a route reflector but it\u0027s the same device it optimizes that distribution it waits for keys to come in knows when to send them out I refer to this mechanism as kind of a lazy synchronization lazy sounds like a negative term but the key point of it is there are no hard timing consideration I don\u0027t have to get that key to another peer at a specific time because I know I\u0027m not going to and the protocol is robust for letting them trickle in on different schedules to different peers all over the example so before going over the example let me put the example in perspective that imagine a reflector and they have a bunch of edge devices and the edge devices are connected to the rot reflector via they have BGP says each edge device has a bgp session to the ross reflector that goes over a secure channel of this secure channel can be TLS can be IPSec itself or whatever so the assumption is bgp signaling goes over secure channel and then we use the bgp to set up these IP sa so in here I give an example a little bit I wanted to just you know for the illustration that although I came up with a peers okay that can be hundred peers and each peer can have a hundred Tenon\u0027s and you\u0027re "
  },
  {
    "startTime": "01:03:28",
    "text": "trying to set up the IP sake on a tenant basis so you end up with again the full mesh of ten thousand so let me let me cover two more slides and then we are open to the and one more after this so the reason I put these number they\u0027re a little bit you know to for work your thoughts and also to make the differentiation a little bit you know clear so if we talk about the let\u0027s say ten K peers and as I said these 10 K peers can be just not another example with the hundred with a hundred edge devices with each with 110 and in it and we want to set up IPSec tunnels among them basically six IP SEC messages IQ messages pair session and we got ten ten thousand a square which is six hundred million with rot reflector basically every year sends one message to the Ross reflector and rod reflector aggregates them and it sends it on we can do it on an interval basis to send it to push it to everybody else so depending on where you set the interval the aggregation interval if the Ricci interval is 60 minutes and aggregation interval is five minutes then you have you know you roughly you have about 100 K or 200 K actually so so we are talking you know this kind of the order of the magnitude differences between the two and the point in here is we can use the reflector both to save messages on the ingre from the ingress PE instead of being 10,000 messages sent one message to the rot reflector at and use the router afflict or mechanism to basically to do aggregation and packing and send a lot fewer messages to the egress piece so after this there is only one more slide and your open for questions okay so I\u0027m really not going to go into this slide much this is from the draft this was just a little bit of background information shows the synchronization and how it stepped through it\u0027s it\u0027s "
  },
  {
    "startTime": "01:06:29",
    "text": "probably completely illegible up there on the screen and we\u0027ll kind of leave it at that last closing thought all we\u0027re going to say is if you\u0027ve read the draft or heard about it it was named with a name fairly similar to another protocol common in the security area that seems to be a linchpin or our touchstone and it is getting renamed I spoke to the guy this morning who originally named Ike Ike he kept saying I stand by my report oh no wait that was Mueller sorry um anyways he said it was okay followed us from the IPSec working group I\u0027m to just go back one two slides yeah this one alright so there\u0027s six messages it\u0027s not correct that\u0027s for Ike v1 you will never use that you\u0027ll use Ike v2 so it means that it\u0027s at most two messages and if you already set up an I guess eight beforehand so you only need to create a child a safe for the traffic selector part then it\u0027s only one message to set up the okay in each direction yes yes if you don\u0027t phase one and phase two that still only sending two messages and receiving two messages for messages okay so now we\u0027re at 400 million drops very well-written all right thank you you use route reflectors yes in BGP there is a notion where forwarding is preserved in some cases but the TRO plane goes down what happens when the control plane goes down I think the draft can help clarify few things as if are you gonna preserve the IDS or that keen parameters and if so how long so that\u0027s first comment you name L hello if you write when the second of valid points the second thing is you know we go beyond a s so what happens when the King parameters are leaked beyond s maybe draft should where he explicitly hand explained that while you have route reflectors your edge spoke nodes can leak this information out and you can ask security guys out here what are the security implicant implications of leaking it out a clarifying question to yours care if you\u0027d stay at the mic that\u0027s for the inter is basically no I\u0027m saying it could get leaked out anywhere within your domain and so the draft should minimally say how do you control that and then use policies to explicitly "
  },
  {
    "startTime": "01:09:31",
    "text": "configure it if you need to leak it out what is information kayuu they\u0027re getting sand with associated rat targets artis yeah and so based on the weather based on the RT you can control the distribution within your remember they were routes this is your security information a little different right so you need a text they\u0027re totally tightening up all right clarifying question on yours are you are you assuming in your discussion the route origin and filtering or bgp sick or are you asking the gentleman to provide elucidation on that as well as what happens when it leaks I\u0027m actually asking him very indirectly and politely to add communities to not leak it out by default across the a s and then strip those communities at the policies are needed to explicitly lick it out some good proposal thank you I have a clarifying question Anna did you introduce yourself I\u0027m sorry I\u0027m Ben Caidic security area director so I have a clarifying question which is related to the same confusion that we were having in Sec this patch but I\u0027ll try it again hopefully I\u0027ll word it better at this time okay so I understand correctly you know we\u0027ve got the you know ten ten thousand peers and then we\u0027re gonna say your single message from each of them up to the controller and a single message from the controller down to each of them but that single message down from the controller to each node or pure is supposed to include the nonce and the public key from all 10,000 nodes right and you how bigger there\u0027s not some other keys I\u0027ve got 10,000 of them you\u0027re this single message might end up being you know megabytes and am i misunderstanding something here no so it basically based on the interval that the aggregation interval that you have let\u0027s say you sent in K okay that 10 K if the nonsan public key exceeds the single message length then you\u0027re going to be sending multiple messages but the key in here is you can do a lot of aggregation here I mean we\u0027re increasing the decipher 64k sure yeah I definitely believe there\u0027s maybe that can be factored in and instead of 100 K becomes 500 K or 600 K but again this is not absolute I just wanted to give a feel because we had similar concerns or questions were ranged during the sex dispatch and I just wanted to that\u0027s why "
  },
  {
    "startTime": "01:12:33",
    "text": "I put this example in there just to hide here the feeling and rising that there\u0027s no no you\u0027re not yeah yeah so if I can jump the line if if I understand you right really the gist of this isn\u0027t to get down into the weeds of the exact number exactly you\u0027re saying that you know without without a controller in the middle its scales like N squared no the control in the middle at skills then exactly that that\u0027s the gist of it what the there was in securities fresh there were a lot of confusion around these any school reverses n and that\u0027s what I wanted to clarify via the example then did you get your question answered yeah I think so I mean I don\u0027t know if I would say his skills exactly as I\u0027m but it\u0027s somewhere between a and square okay okay okay thank you defend from a range one general comment people are always talking this presentation about controller controller is supposing to have a kind of intelligence but how deflectors maybe the most stupid BGP speaker in the network so there is no intelligence so I just want other confirmation that you are not breaking anything in the BGP machinery and what you are what you want is just propagation yeah that\u0027s right you control yeah that\u0027s why we are that\u0027s very good point and that\u0027s why right from the beginning I said we got these four components we have and we have ztp server and we have the four visioning server and then we have the signalling and the all these are part of the big controller okay well you call it as a controller but the signaling part is what we are talking about our are with respect to what we are familiar ok so whatever the how to affect or design that I am using clusters or your article how effective it does not break anything in your IP signal yes okay actually it helps okay okay and exactly the same command ask you about what happens when the control plane is failing so do we need to implement LLG on what are the side effects basically in a short answer is if that happens and the control planning fails or isolated then the rekeying aspects is gonna be you know effect that you won\u0027t be able to rekey at the interval that you want I was still only on this document are we taking things in general anything yeah yeah I think that and in fact I think we should invite the the other authors to you know come back up to if we want to open the floor more you know broader discussion so which I think we do some of my cases like like will apply to the multiple solutions please square into the discussion okay okay so so the first "
  },
  {
    "startTime": "01:15:34",
    "text": "thing is so just a Linda you want to also come in my first question is do we have many more routes than notes or how is this how is this well that\u0027s a good question okay because depending on that right I\u0027m like if you have many routes and fewer nodes or you could do an IPSec transport mode connection to the node and then run to your ear or something and then send oldy so you don\u0027t have to have one IPSec as a per wrap right right which might save you a little bit of MTU spaces all apps and it would save you a lot of negotiation if a new packet comes in for a new route you can just route it you don\u0027t need to set up anything new at that point so very good that\u0027s a good question and that has been I\u0027ve described that in the some details in my in my draft secure VPN saying that we have a different level of hierarchy okay you can have in some scenarios you just have a secure tunnel between two peers okay at the PE level I call it I got the parks level okay and however for some tenants within that box the tenant those are special tenants and they want to have their own IPSec tunnels okay because they don\u0027t trust the general one and then and you can go to the next level of the hierarchy that within that tenant you can have a host you know a sleepy host within that tenant that is a special and wants to have his own so it is this you don\u0027t have to have it for every route okay but he gave me flexible I understand so now you gave me an additional problem because because with IPSec you usually have one I guess a and you can have like thousands of child essays to from traffic but they\u0027re still under one domain so now you might accept a set of multiple I guess A\u0027s between these parties if you think that they\u0027re in a different administrative domain based on which tenant they are sorry so you\u0027re like okay so so in your case you don\u0027t have an IKE essay because you you because we\u0027re not doing Ike solution yes they did and I wanted to take a pause did you June are you able to speak yes okay so Paul you can also address the same question to June June did you get the question that Paul was asking yes so so is my draft I really don\u0027t change anything on the IPSec side because we continue to use my tour continues like v2 as way and signal protocol for that piece AK Tonto the only thing I do with babies to signaled IPSec config so whatever we do today with IPSec stay the same so I "
  },
  {
    "startTime": "01:18:34",
    "text": "understand that part but the part is more about re are you maybe not better off using an IPSec transport mode tunnel with a Giri encapsulation instead of setting up thousands of IPSec assets yeah that for some use case that work which means that if you want to for example put all your traffic into a peacenik somehow yeah you could do that but in some other case they want select Li selectively to increase chat for certain traffic they want to use a busy person do not want unity SEC then you have to go to different different destination for the different IPSec tunnel in that case you might need multiple IP sector knows ok so so if that would be an option and you would have some way of having to signal this yeah ok so so I\u0027ll go to my next question that applies to all of the all of the proposals so is IPSec optional or mandatory or either like like do you block sending the packets or do you do you actually studying up the I setting up this secure tunnel is depends on the traffic some tenant traffic wants to go over the secure and some they don\u0027t and that gets determined by the policy and some and also there are cases that I think in Linda\u0027s use cases you had a case of the public versus private network and for the public network for the private network often you don\u0027t use secure tunnel right so indicates where it is mandatory yes any question becomes what do you do when things fail like with the ike fails to establish or or if your so that depends on the policy that depends on the policy the a policy might say okay I don\u0027t trust internet don\u0027t send anything the other policy says oh you know what I have these private tunnel and use that for instance if IPSec is fully optional you can load the policy into the kernel but you can\u0027t do on-demand triggering of it because the on demand trigger would actually then hold the packet because it would assume it\u0027s mandated and cannot leak it back at the nuclear for instance all right so I just want to make sure that people realize that next item I have is so that\u0027s that\u0027s a good point I mean this should be captured in the solution draft right so the next item is empty you so as soon as you start adding IPSec of course there is just the reduced MTU of the data yeah I\u0027m not sure if I didn\u0027t really see any of the proposals talk about this or how does affect the original data or that they think is not a problem but I think that "
  },
  {
    "startTime": "01:21:34",
    "text": "needs to be given more thought absolutely so I like to ask these are good points you\u0027re raising can you please send the email so the next item I want to point out is that there there\u0027s the issue of the RTT so if you if you set up an I guess a already we call it a childless essay where you just set up do you do that the two round-trips to authenticate I guess a so that is not question for us all right in general then you then you can later on on demand within one round-trip get get in child to say and so that saves you from doing a two round-trip at that point so that saves you one round-trip but it means that you have to set up these I guess A\u0027s in advance so it\u0027s again it\u0027s a trade-off you might want to think about in your desire the next just a quick point instead this refers to the first option his comments John I\u0027ll get John if you\u0027re on the call yeah so I mean whatever I provide we use that we don\u0027t really change what act we do does but but again you you might need to you you will need to provision that whether or not all parties will do that or not yeah I mean the config part of that it could be 2nd of June this may be good for you to realize that it might be good to have usage or other details whether that goes to IDR or that might be separated in a separate draft and and put out he\u0027s not necessarily specifying bgp tli you\u0027ve ease but operational stuff that usually goes to best so that might be useful for you okay thanks so next I\u0027m going to cover is multicast traffic so currently IP 2 is in the process of supporting multicast negotiation and coupe essays but it\u0027s not there yet v1 used to support it or actually as I grew unseal support its but nobody should use it in IP 2 we are working on it\u0027s been a slow process so it would actually be a welcome thing if we have some consumers of this go push the people that are doing this work and like for Ike v2 to put some momentum behind this and get this done and also want to mention there\u0027s there\u0027s a session resumption and that you can also use to prevent doing it an expensive diffie-hellman fusion so so maybe not for you guys but for the other solutions if you can instead of delete the session you can get a session ticket resumption ticket then you can later on much more quickly with less CPU power re-establish "
  },
  {
    "startTime": "01:24:34",
    "text": "a new I and our IPSec I say yes yes agree and let me just go to my last bits of the part that I already sent to the mailing list as some photos already answered in the in the first presentation you have anything so yeah just for the first rotation the examples used or like AES CBC with 384 please use some more modern things like ASTM let\u0027s see I recovered that there\u0027s the there\u0027s not an issue if if a browser reboot so if we have an IPSec tunnel and one of these endpoints fails I\u0027m not sure what the mechanisms are where it\u0027s within IPSec that something needs to happen or whether there\u0027s a overlaying bgp security protocol that will take that note out of commission and do something else so one of the edge devices fail so if that edge device fails the routes to that route reflector withdraws the route that failed device and all the other edge devices can tear down there IPSec tunnel to that okay so so so basically saying an IPSec failure on on on on a node no I thought you said no failure I thought you said node failure you\u0027re talking about the IPSec failure yes sir and talked about would just mean that something else takes that that that IPSec Gateway out of its misery and and and everything else gets rerouted around that innocent IPSec keep alive is there but that\u0027s a really slow mechanism and I don\u0027t think you want to use that and let me dad exactly at this warning there is a thing called that peer detection or liveness and right please be aware that the RFC said you should not use these probes for like more than once a minute all right some people like to send them multiple times per second and that you get really strange things if you try to do this including shooting yourself because your probes actually starting to fail so IPSec tunnel is one of the tunnel kind we got the MPLS tunnel we excellent tunnel Geneva tunnel and all that the question I would expand it to to more general detection of the tunnel failure and IPSec would be one of it right now we just assume that IPSec is a service on a failing note and that note will just get out of rotation so that night beside point of view you don\u0027t need to worry about that okay okay and I think it is it is worth considering whether notes online might be useful in your graph okay Tara I\u0027m "
  },
  {
    "startTime": "01:27:37",
    "text": "gonna ask a favor could I ask you to let them next two guys who have signed up as security folks to go first in questioning and we\u0027ll take the rest of the folks as I can in time in other words step behind Ben and then I will be glad that\u0027ll be your turn thank you okay you\u0027re a little bit farther I can you know joke with him because he is a good friend of mine so for this boss can you go to this light with the comparison yes scalability no no on that presentation is called Billick examples that enormous number of messages and so on oh yes yes first of all yes there are some mistakes on the number of messages as polarity said but anyway I think that this comparison is not completely fair because why not not sure not not that I said that you compare the orange and apples but it is you go to a bit extreme because in my case it\u0027s very case so I just wanted to make sure you don\u0027t mistake the apple with the orange that\u0027s why that strong but but you just go to extreme and usually say in I case usually I say I created on demand and it is very rare that all ten thousands of people of beers will simultaneously create to nose with every every every p8 yes so it\u0027s it\u0027s some it\u0027s extreme well and then also just like a you have a power outage and then into the city and takes out the whole north and that the robber comes up and it will be within the within a window but it\u0027s not going to happen anyway 24 hours gone to the second comment the other it\u0027s unfair for another reason okay these solution I mean our like solution and this kind of security control solution have it\u0027s like a different security properties because in this case every node has a single public well you so for example if you break this public wheeling this public key "
  },
  {
    "startTime": "01:30:37",
    "text": "with some I can count quantum computer or something else it will compromise all the essays it has with every bill and in IPS in like the classical solution each kernel is using ephemeral difficult so if somebody breaks it it will only compromise a single kernel and other 9999 donors will become say so it is slightly difficult with different security purposes person yes so so it is true it is a shared diffie-hellman across all the nodes though we do have Ricky along you say for messages for this reason but you get security so that you lose some something they would very appropriately go in the security consideration section right yeah I don\u0027t want you to think it\u0027s not then thought of and not addressed but it is a it is a limitation and there\u0027s countermeasures Thank You doc so I tried to also be thinking you\u0027re in addition to the the specific mechanisms proposed to try and come up with some general considerations that might apply it to all of them and so like in general you need to consider if you\u0027re going to get your configuration through bgp or through your controller you need to be thinking about you know how much do you trust that configuration what other information are you getting through the same mechanism and you know if that other information was wrong or corrupted or you know an attacker control that how would you break for that and you know maybe if you\u0027re gonna be horribly broken already then you don\u0027t necessarily care if your configuration is also broken and you also always want to make sure to think about you know what properties do I want to get from IPSec like why am i doing this at all do I need to protect the confidentiality confidentiality of my traffic from some other parties and there so you know which other parties do I need to authenticate appear you know and you need to do sort of like a full system analysis to make sure that you\u0027re actually getting that property for example if you have a system where you do want to authenticate to peer and instead of relying on a central asia\u0027 parinama unlike some sort of certificate to authenticate you know the key that you\u0027re gonna use your instead gonna say well I got this key from a trusted central controller and I\u0027m just gonna trust that standard controller to give me the properly authenticated mapping between keys and identifiers that might change a little bit what your authentication story is and so you want to think about that it may not be a problem but it is something you want to think about another thing that\u0027s sort of important is if you do want to have the "
  },
  {
    "startTime": "01:33:37",
    "text": "confidentiality protection it\u0027s important to remember that it\u0027s confidential you know confidentiality protection from some entity or some class of entities and so if it\u0027s possible to end up with the wrong configuration whether that\u0027s you know traffic selectors or or your keys or whatnot it may well be the case that you can end up with a connection that is using IPSec and providing you confidential confidentiality protection from the wrong people and is in fact connecting to the people that you didn\u0027t want to talk to and so you know just because you have a successful IPSec association and you know you\u0027re encrypting your data you gotta make sure you\u0027re encrypting it to the right people and I think in terms of the when we\u0027re adding multiple ways to distribute configuration information just a quick note the respective last point it is it is important because you\u0027re gonna try to make the over try to make the connectivity over the van as secure as possible but if you don\u0027t take care of the cross connect between your end user and the traffic that it is unencrypted then all your effort is wasting yeah there\u0027s all sorts of ways things I think my my last point is is just to say that you know if you do have the multiple mechanisms to get in configuration as long as everybody agrees to normal to use the normal type of human mechanisms that\u0027s totally fine to use the tiebreaking mechanisms for like if you\u0027ve got two different things that are trying to complain the same route in terms of what configuration to use as long as everybody knows what the tiebreak mechanism I think that\u0027s that\u0027s generally fine and sorry I had one more point there\u0027s a lot of these aspects that will be easily controlled using sort of local policy to make sure your your traffic selectors actually make sense in the broader scheme and so you can like do sanity checking on some of the configuration you get my guess is must serve for the controller icon the other two did you say just one more moment about the track traffic selectors are you addressing that generally then to both presentations or did you have more for June\u0027s freeze tation and his color selector I think that was both of the first two presentations thank you and thank you for taking and Paul and I didn\u0027t catch the little gentleman Valerie\u0027s lot of something thank you very much for taking the time to think through that and give us such detailed feedback I I know this is being recorded so I will go back and write myself Watson notes based on it if you would send any of it to the may list we\u0027d also appreciate it yeah I will try to do that and just really quickly to address a "
  },
  {
    "startTime": "01:36:39",
    "text": "little bit of the the authentication issues and you there\u0027s certainly a need for an edge to identify the controller authoritative Lea and Ann and vice versa some of that is slightly discussed in in my draft but it\u0027s kind of cursory there\u0027s an assumption that that has happened when you look at the architecture there it it\u0027s going back to starting with ztp and how does something connect to the network but I very much agree it all has to be tied together that whole authentication chain because obviously fundamentally nothing matters if I don\u0027t know who I\u0027m talking to so actually we were also planning to write our architecture draft that talks about these different pieces and how they\u0027re glue together so that to make sure that the overall picture is clear are you sure we the last presentation for the day that was invited on i\u0027m warren jr you\u0027re off now so we just have two more I do presentations you have about three or four minutes guys super tell us two more points sure I\u0027m echoing what Stefan said earlier if you\u0027re going to do this using route reflectors you may want to suggest implementers as end operators as to is there a lot of message is not that BGP can\u0027t handle but you will see a head of line blocking if you will start mixing up officer fees so probably I don\u0027t have a good suggestion for you but probably a separate route reflector or something that doesn\u0027t affect routes at all the routes second thing is that was a draftee an idea working group which actually tracked for labels if the labels became inactive they had a way to take the routes out or the next stalks out because this is an IPSec tunnel and I think Paul mentioned it\u0027s one second keep alive you are more than welcome to reduce it to milliseconds it\u0027s Paul\u0027s problem not mine but you wanna give some suggestion in text to the implementers to say should that tunnel become inactive what I mean what are the means to detect that tell is inactive and how do you go about doing it up here absolutely no no no that\u0027s important on the math actually does not change the picture a big picture but let\u0027s to make sure people to leave the leave the room with this big number yes so 600 meaning that\u0027s not I think the right number should be higher okay yeah I stand I think am tied it sings square knot and cubicle I think that\u0027s the type of x squared in Kos square would be a hundred K right a hydro K 10 K is a hundred million is 100 million okay different "
  },
  {
    "startTime": "01:39:46",
    "text": "from orange I wanted to go back to the pendulum caps and phenotypes that we are acquiring because I think we have plenty of different use case so you have a simple one which is a IPSec Turner but but then we can use any kind of overlay with IPSec transport mode so how do we do it so today we have some of the combinations that are defined in our 5566 which may probably disappear so we need to create something else so then are we keeping creating a combination of each overlay + IP SEC transport model are we using something more flexible so telling for example that I\u0027m using vague slang type processor TLV things that I\u0027m doing IPSec transport well the current thinking that\u0027s a valid question and point the current thinking is the IPSec attribute the the the theory that gets carried in the tunneling cap is going to specify what kind of the IPSec we have and then we have this extended community to to define what kind of the over Libya is it VX LAN or is it Geneva or whatever so we\u0027ve done this kind of thing for the multicast as well because in multicast we send pins eternal attribute and the pins eternal attribute can be team or so forth so with the team question is what is inside the pin is it VX an or Geneva or what so what they want that the trick that or not the trick what we\u0027ve done is we send the IP eternal attribute to say that this is a trim panel and then the extended community to say what is the type of the overlay that gets carried inside a tunnel but that particular piece you need to think how you might do it with attributes you know because you\u0027re now into tunnel attributes separate point I needed to as a chair as if we can close the line because I\u0027ve got 20 minutes and 20 minutes for the presentation did you have a quick one in Richmond yeah I just want to finish with a Linda\u0027s draft and we turn around observation types where you are trying to define the kind of sd1 typist sd1 is not really enough affiliation I didn\u0027t get a chance to present them how we encode the message into the tunneling cab and if if I get chance next time to show details you will see that the tunneling cab we need a different tunnel type so for specifically for the overlay long reach over like so I call it as do I can "
  },
  {
    "startTime": "01:42:48",
    "text": "okay and that one folks Stephan and Linda would be good on the list as well Justin Sarah so the graph implicitly suggests that relationship between endpoints and distribution point is ibgp other cases where it could be ebgp for the and if you\u0027re connecting if you\u0027re connecting the SS together because ebgp within the network itself typically is you know like a it use for your underlay for the overlay goes I be GP so the a BGP that I can think of is for the you know in case of the inter area stuff or maybe actually there is a wanna true but if there is probably you want to think about route servers and address the garden oh yeah okay folks we\u0027re gonna close the line and go from the next presentation I want to big thank you for all the cruise endeavors and for the Alex before before you start I want to ask Alvaro to come up and say you know two words about charter if that\u0027s okay Alvaro but only two words please pick them well do it okay so you guys know because it\u0027s been on the mailing list that we\u0027re looking to recharter ID are one of the reasons we try to write the ours because the charter has much of items in it that have been completed other items that we\u0027re not doing anymore and it doesn\u0027t necessarily reflect everything that we\u0027re doing right now so no there\u0027s been discussion on the list about what the working group wants to do talking to the chairs earlier what we think we want to do the discussions are gonna happen on Friday so don\u0027t even come and ask any questions when we think we want to do is we want to produce a general charter that talks about what the working group does in general who are the other work groups that we coordinate with bears gross eye drops you know etc all those other working groups maybe a little bit of how that happens maybe call out some specific things to clarify what ID are versus the other working groups are responsible for if anyone can come up with something that should not be covered by IDR maybe we want to put it there but the specific work items so that we don\u0027t run into the same charter with half the items completed in half not and some that we\u0027re not going to do in another two years and have to reach our again we want to do is we want to manage all the work items through the milestones so what we hope that we\u0027ll do is we\u0027ll give "
  },
  {
    "startTime": "01:45:48",
    "text": "the chairs a lot more manageability the working group and a lot more flexibility if there are things that come up there are more interesting that whatever we\u0027ve been doing in the last six months we can change some of the milestone orders or whatever with the working group of personal senses and we can move on that a lot quicker we will hopefully avoid discussions about well that is not a charter or that is in the Charter or you know etc or things like that again the other thing wants to avoid is to have to every couple of years go through the painful process of recharter in their working group but instead we can just talk in the working group with the input of the other work groups that are close to where they are about what are the important things or the higher priority things everything\u0027s important the higher priority things that we should be working on at any given time so think about that and on Friday I think we\u0027re gonna have a larger discussion on those items and hopefully some text on what the Charter is gonna actually say thanks thanks folks we will probably run two to three minutes over because we\u0027ve because we\u0027ve run wrong I\u0027d like to give each presenter about 10 minutes just be warned we\u0027ll just let the next presenter go okay hello I\u0027m Marsha from Cisco today I\u0027m going to present the updates to the draft PGP PFT straight mode since last ITF since last ITF we have a new Corsa Jeff has joined us from juniper all right the drafter was presented at ITF 104 in Prague and since then main updates to this document our PGP finest tape machine weighs the PFD 3d mode we also propose the PFD Haute timer both manageability and security considerations sections are revised those a quick recap of the draft M the BGP the bgp PFD capable sorry the PGP PFD Street mode is a solution proposed the to address the PGP and the PFD interaction issues the solution defines bgp PFD capability and enables the PFD capability negotiation operations are a bgp speaker which supports capabilities advertisement and has BFD street mode enabled must include the BGP PFD "
  },
  {
    "startTime": "01:48:50",
    "text": "capability with the a speed set in the BTB capabilities it advertises a BGP speaker which support Beach PFD capability and exams the and exams the PFD capability received the from its peer okay if both the local and the remote the BGP speakers have a PFD Street mode enabled then bgp session established will be established after PFD such a yes up if either BGP pier has not advertised the PFDs capability with 3d mode enabled then the FD session state will not be required of order bgp session establishment ok please note that this does not preclude usage of PFD and after the BGP session establishment the new updates BGP final state machine with PFD straight amount if both the local and remote DTES speakers have BFD street model neighborhood the BGP finally the Machine does not a transition to establish the state from open sent or open confirm state until the PFD session is up ok um in this state no keep life messages are sent ok the keepalive timer is not set if PFD session does not a transition to up state and negotiator hold on timer has non zero value then BGP finite state machine we are closed session of the BGP whole time expires in a case the negotiator hold on time value is zero then PFD hold timer with the t4 the value of 30 seconds proposed is proposed so after the PFD hold on time expires BGP finest a machine will closed the session if PFD session is in Adam in downstate BGP finest animation will proceed normally without input from PFD okay if PFD is disabled or deconflict from a BGP spear and BGP session is in is held in the opens send or open come from state then BGP will close session and start a new TCP connection updates to "
  },
  {
    "startTime": "01:51:52",
    "text": "manageability and security consideration a BGP notification messages sub code indicating PFD hold on time expiration may be required for network management and this will be discussed in next the revision of the document the security consideration of PFD becomes considerations for BGP when it\u0027s used the use of PFD authentication mechanism defined in the IFC v h0 is recommended when used to protect the BGP [Music] the view comments are real calm and folks we\u0027re running that long then I\u0027m gonna give her a bit of time time or asked us to go to the list and I think we\u0027ll slip in Alexander so I\u0027m sorry to trim your comments if you will catch her afterwards Alexander why don\u0027t you go for about I\u0027ve got enough time to why don\u0027t you give the brief two or three points you need before grow or do you need the full ten minutes go you got it Ben thank you very much it\u0027s ten minutes for small values of 10 hello everybody my name is Alexander azimuth I work for Yandex and this will be very quick update for BGP rolls draft so the core of the original design is BGP rolls BGP rolls is a proposed new configuration parameter that is negotiated in open BGP me in open messages so there are 5 specified roles customer provider peer router and route server client so the draft was already here for at least 3 years originally it was a transit attribute to detent to detect and prevents networks from leaking after that it was treated in to to IOT see for prevention yo TC for detection then it was merged with another attribute from another draft then I see a merged and it\u0027s changed they feel slightly because we need solution faster than reworks we were thinking previously and that\u0027s why our LP attribute was transformed into do community and IOT C was nearly "
  },
  {
    "startTime": "01:54:54",
    "text": "ready for working group last call we had implementations it now happens modular design and I\u0027m going to go through and explain why it\u0027s happening and why it\u0027s happening now so please take a look at these rules I will spend more time on this writer than on any other style because it is important first rule is it a quote from leak prevention draft it says if a route is received from provider route server or peer it must not be sent to another provider appearing in other words it must be sent only to down streams only to customers second rule if a route is sent to customer beer or Andres client it also must follow only down rule so these rules are nearly the same but represents the picture from different sides of BGP session one rule for receiver and one rule for the sender button but in general they are just the same so we\u0027re getting OTC back we are getting a transit attribute that\u0027s is capable for both prevent networks from leaking and detect anomalies so and also it is improved ought to see attribute it has a different design from the original one it says that on ingress policy you must set this attribute is not set and if we are receiving a prefix from route server provider appear on the ingress policy you are saying that if yo TC is not set you are setting when sending its to customers and peers so in the picture the picture of how it\u0027s working on the left side is provider on the right hand side is customer no matter who is setting out to see the value will be the same so we are getting a tool that has negotiated its configuration plus we also have a double checked configuration of OTC attribute with this attribute we have a very simple rules for a root leak detection and prevention so I will just drop the slide and go through the example here I Swan is sending prefix to eyes to its customer again no matter who is setting out to see it might be said or by is one on egress on IRA\u0027s or by is to on ingress the value will be the same the value value will be a a s1 and on the other side of our own system - it must be checked that "
  },
  {
    "startTime": "01:57:54",
    "text": "ultc exists so it if it is checked on egress where we have leak prevention if it\u0027s it is checked on ingress we have leak detection so we have rules that are negotiated on both sides we have marking that is done on both sides and we we have a leak detection that also is done on both sides so the interesting question is what we should do with route leaks and it seems that the only policy that can be applicable for out the communication you must drop them but in certain situations you may want to pass them by for example just to learn the signal before applying this mass drop policy so I will get to this equation in more detail after the coffee break during recession and job will you tell us when the gold session is it\u0027s yes next session this room so stay here and enjoy the next thank you and the last question that is must be highlighted for years during discussion related to root leak detection question we had an argument which one is better should we go with community or should we go with attribute attribute is more native it\u0027s more reliable signal it\u0027s memory efficient it\u0027s not over loud with different functions but community here is easy to deploy we can in selected papers so we can deploy it tomorrow in Yandex we can deploy it tomorrow so instead of arguing which which one is better we decided to do both so they will be an OTC a proper attribute that will be used for lick prevention and detection and there will be also a community that will model OTC behavior just for same purpose the difference is that OTC will be available in a couple of years communicator can be become available in a month so there\u0027s some summary on the current status so we transformed I OTC to a transit OTC we have marking on both sides we have a configuration check on both sides we have filtering on both sides rolls can provide automation for the for solution for bulls community in attribute so thank you for listening I don\u0027t think we have a lot of time for Croatians but you can grow yes yes yes um the other thing is if the it\u0027s an attribute it has you know send it back the idea for that okay yeah so uh so if we\u0027re changing the attributes that we and we need to ask for another allocation am i right okay good thanks everybody see you "
  },
  {
    "startTime": "02:00:55",
    "text": "Friday "
  }
]