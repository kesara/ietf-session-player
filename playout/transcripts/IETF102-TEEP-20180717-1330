[
  {
    "startTime": "00:00:34",
    "text": "[Music] all right good afternoon everyone can you hear me yep okay so this is the teep working group so just to let you know in case you\u0027re not here for keep that\u0027s what we will be discussing so orders of business I\u0027m not gonna read the whole note well hopefully you know all this by now the blue sheets should be going around by now I know on my left hand side they should be halfway through if not already but just make sure you you sign the blue sheets so in advance I will thank Roman for being an ether pad and Mike for being one of the note takers I would like to have one other note taker and a jabber scribe we we actually need a jabber scribe so could we get a volunteer or two please jabber scribe anyone thanks I don\u0027t know your name sorry oh hi I need to put my glasses on I might Thanks you think one note taker is enough could we get a second note-taker thanks Mike yeah there\u0027s a typo on this slide though should say IETF 102 if you\u0027re looking to join things and types up and eat your pad make sure you join ATF 102 ones yeah that\u0027s my band you can see my cut and paste doesn\u0027t always work but yes this is the ietf 102 so please make sure we note that down okay so let\u0027s bash the agenda so for today the authors have updated so at the last face-to-face meeting we agreed that we needed to have a working group architecture draft so thanks to the authors there\u0027s there\u0027s a draft that\u0027s been posted for a week now so Hannes and Ming will provide the overview for that there has already been some comments which there\u0027ll be discussions there\u0027s also been an update to the ot RP solution draft again comments but there\u0027ll be a presentation for that we actually had one person and that\u0027s my co-chair who will be presenting his report thereafter and then given some of the comments and feedback we think it would be a good idea and they\u0027ve volunteered to provide not really a SGX overview but rather in the context of teep how SGX would fit and some of the things that we\u0027ll need to work through so that really takes us to the end we "
  },
  {
    "startTime": "00:03:34",
    "text": "have a full agenda so I will while I put 30 minutes in there depending how the Q\u0026A goes and and the presenters I may reserve the last five minutes for QA so it may be that you only get 25 minutes and then we\u0027ll go from there so that\u0027s what we have on the agenda today any objections any other comments going once going twice cool okay so let\u0027s go ahead and get started with the review of the milestone so at the last face-to-face we had put the tentative we had already moved some of the dates forward because we said we would have an architecture draft which we didn\u0027t quite have it in March so we\u0027ve gone ahead and just adopted a draft which how many people have actually read the draft I\u0027ll probably ask again just a few yeah but it\u0027s mainly the authors and a couple of comment or so more we\u0027re gonna need more reviewers for those on the remote there were about eight hands but realistically half of them are the authors so anyway we\u0027ve gone ahead and adjusted the milestones to ensure that we can stay on target which is why we put in place can we and are we on target right now given the dates so Ben yeah the parts in red have been updated since lest I ETA that was discussed at last IHS the milestones were kind of wonky that they we had one case where like we submitted a yes G before adopting it as a working group last call and things like that and so those dates we believe are consistent with the discussion last time and the data tracker now shows the parts in red but that\u0027s not something we\u0027ve shown you before other than what we were going to do now we\u0027re just reporting out that these are the dates that are listed right now okay so if there are no comments or issues I think we should move on given that we have a full agenda let\u0027s move on to the Hannes yeah well - but Hannes I was just wondering but uh like it would be more sensible to use to March IDF meeting forgetting the architecture document I know I haven\u0027t had that in February so it\u0027s have finished in in March for example uh months is to start a working group last call to include at an IETF meeting discuss any last call comments at the IETF meeting and then submit it afterwards and so that may be in one eye ATF meeting you have first working group last call the next one you have other discussion but the point is we decided to submit it right after the IETF "
  },
  {
    "startTime": "00:06:34",
    "text": "meeting instead of right before so that we could make sure that we had consensus on it at the meeting that was that was the goal why it\u0027s exactly one month after an idea so it\u0027s not a completely random so that the April one is right after the the the spring I ATF and the December one is right after the okay so if there are no more comments who wants to start being or Honus I\u0027m the architecture okay oh that\u0027s a good you find it excellent hello hello okay this hello yeah I\u0027m meeting a PI and I talked about a quick introduction after the document status so we published submitted a document first raffle will Google draft about two weeks ago as in July 2nd it\u0027s a we already received a couple of good comments you know mainly the father\u0027s after - after the content itself it\u0027s a largely farmer earlier open transit Paula caught draft right that was a combined alone it has the architecture and protocol and I had to talk him into the top date right after I talked him and we\u0027ll cool but option there was a pleated a Miss obtain to half but this issue has a moral that right we started some comments from Lhasa local and also additional feature request for that so we tried to throw cetera posted feedbacks there so current alchemist structured ASIC here\u0027s a contact quicker cook one night we we have a profile video they have terminologies that a long area I think a finance in the table to talk about we have another self again so many definitions there\u0027s a use different astray are using different furrows Rudy\u0027s did he find out what a scope this architecture to cover because they was a initially you know key the South has from trusses well and has different background versus tak saw so that were to scope of what architecture address and I will talk about it I use the cases "
  },
  {
    "startTime": "00:09:34",
    "text": "were this deep applications are taken all that can be used really well for primer areas with talk so please welcome you to rate and give us enough feedback other use cases right so today it has been using payment whether you have a secure application to the payment transaction useful indication right device used a source indicator and the larger user IOT devices now you have embedded security there and the roller added is a cloud computing that was really out there from there and others from to look at group before and so now cloud host provider does not have a liability no in attendance the data right so host my application in a cloud application across board with Azure database at Google right I can roll my application layer but they do not have to know what I\u0027m running there that were valuable use case that\u0027s the addition on the from original ot RP now now we start list of architecture that a core piece by the copies to trace the user cases amongst architectures as well as special special pizza cutter agent which is a facility communication between time and the clinical detail authenticated her here because this is a third one already so just cool and talk about the excitation logic and as a standard security consideration so those some future that are quickly highlight here for original TRP draft I am so wrong s get their comments from multiple people and terminology right terminology unification so the worst concept a secret to the module and Trust firmware it\u0027s an hour you need I pick a walk I saw some fun where it\u0027s the world we choose two years actually I said foresee kaput now look at the concept of security civil provider applicant developer key a provide and so on so then what that model should you use and as this particular civil provider they\u0027ll be much discussion later a slide for that we added a diagram about their what a usage Japan will look like when you saying trust each environment when to distribute deploy running and a managed trusted application so there\u0027s a athletic background flat long and based on the feedback which is roughly the back trestle for morale wolf gets become option now it\u0027s now required like in SDS case not needed so we\u0027ll make an optional the proposal for that we also added one to make it transport support as a requirement it was a optional interval peque√±a right now we say case as art educators that any solution document should provide the transport of "
  },
  {
    "startTime": "00:12:35",
    "text": "support we also try to make assumption that architecture support multiple tes how to test that or that\u0027ll leave it to a solution implementation wise right but it architects at yes and make it a pond or a distribution to s once about time well is about the current application how to get done but its architecture that\u0027s more to come up but that\u0027s assumption that you want we want to address so that\u0027s a Mainer scope of that changing introduced to there so that\u0027s that\u0027s one so this will also tell us on our channel see you put in pipes that thank you so the first item as Ming already mentioned so we had this from a historical point of view this notion of trusted firmware not trusted in conversion to untrusted firmware but the notion that there would be from where specific firmware running during the boot press process that has sort of a secured process for in keeping the arm trusts own terminal technology in mind and so we had an agreement earlier based on discussions with David and others on a mailing is that we would get rid of this because this this turns out to be a difference between the Trust\u0027s own approach of implementing a de versus a sjx based approach and David is going to talk about this more in his presentation when he goes in explaining some of the sjx background so we tried to do that or we tried to massage the document to get rid of these different text segments that are relevant to this trusted firmware but they\u0027re still sort of reading through the document after the submission deadline I I realized that there\u0027s still some left over so there\u0027s some editorial work that needs to be done which will be done in the next version but I think we are settled on this and and the motivation for it will come later we could do probably a better job in explaining some of those architectural differences between the different at least between those types of DES I think that could be quite informative for everyone not not just for the audience here but for others who are not involved in the process I think that\u0027s quite from an if you are into the hardware design in a security design of hardware I think that\u0027s a pretty cool concept and difference so I will keep that short this one is an important one that we should spend some time on and it\u0027s also something that dave has "
  },
  {
    "startTime": "00:15:35",
    "text": "created a few slides with with message charts or message diagrams to talk about the app distribution or the anticipated attribution so one that we focused on first was the the second one the second mode which is sort of the trusted app being distributed by the by the dam and that was all along in an initial version of OTR P but in later there was also this notion added of having that the binary da binary bundled with the client application which would be more than ocean of SGX and could actually be used also with independently of the underlying te but it was just not a model that we looked into specifically there are some side effects of doing that and it\u0027s will be covered in in in Dave\u0027s presentation so this is definitely something we need to make a decision on one aspect as a food for thought on what the challenges or implications is that when you think about not just bouncing binaries around there are the same for all of the devices but binaries that actually personalized or that have instants finally instance specific information so like if you think about the web and the application distribution there\u0027s a lot of customization for the individual binary sometimes done that are getting that are being downloaded easier obviously with JavaScript in for these type of things and so this is something that the dam has taken over responsibility it\u0027s probably not as explicit as it could be in a document but probably worthwhile to point out this is since this is actually functionality being used today there\u0027s also the question of like how over the life cycle is the application updated the client application as well as the then corresponding need the trusted application and and I just wrote a few questions there like who authorizes that update of an application and the TA and also what would be the security domain and we\u0027re going to talk about the security domain in a latest light in case you forgot the concept so this book will also be covered in more detail in in Dave\u0027s presentation there\u0027s there\u0027s a topic that came up on the mailing list namely the question about a device having one de or multiple T\u0027s that can come in in a single process of having multiple T\u0027s or having even for example different e technology allowing having at the trustzone component in the processor in a separate TPM chip for "
  },
  {
    "startTime": "00:18:35",
    "text": "example in the use cases we initially worked on we focused on the 1t per device model which is sort of like the mobile phone that of use case and in in this atom model or other deployment situation came along and that they\u0027re the primary the primary question that was raised through this sort of expansion in the architecture was how do we actually make sure that the messages that come from the TAM how are they actually routed to the right T since there are now multiple of those and an assumption that and we\u0027re going to talk about the deep agent terminology as well so there was this middleman that relate yup the the OTR be a messages back and forth and it didn\u0027t have any understanding of the content of those messages it was purely a relay passing messages from from the the secure word if you will to determined and backwards so how can we do that and they was kind enough to put a slide together to actually in some sense answer that question or at least have a proposed answer do you want to jump over here so the one use case that came up at I think was at the IETF 101 meeting it could have been on the mailing this but the one example that somebody else gave and I can\u0027t remember who it was maybe it was something this room said well I had that the reason they have multiple T E\u0027s is because there are different types right maybe I have you know a TPM like thing and a non TPM like thing there are different categories right and so if you have a TA binary I can\u0027t just pick any one of them it\u0027s a TA binary that\u0027s written to go in a particular type of te e right this is meant to go in inside sgx or it\u0027s meant to go and Trust so and out the other thing there\u0027s multiple things and so the example case that I\u0027m showing here is for a case we have heterogeneous tes and a device is what binary is written to go for a particular type and so the distinction is type A and type B whatever those are okay and so this is all supposed to be protocol agnostic in terms the picture here this is architectural right and so at some point some application or installer of an applications to step one gets the notion of I have this ta I need to be able to install that such-and-such depends on it and here\u0027s some constraints about like this is a binary that\u0027s meant to run on a bla processor inside of a particular type of thing right this is a signed STX DLL or at Sadaat a you know trusts own binary for such-and-such a processor and so on so at this point the Box I\u0027m labeling facilitator and we\u0027ll talk about the terminology later in this example protocol independent he knows because the metadata says this requires a type a to e e and he knows he\u0027s running on a box with type A and type B so he knows which is the correct ot RP client that "
  },
  {
    "startTime": "00:21:36",
    "text": "needs to be able to be needs to be the one that\u0027s communicating with that Tam for purposes of finding out whether it can install ta X okay so in this case he know what he knows that it goes to ot RP client one because he\u0027s the one that\u0027s in Taipei that\u0027s the routing decision in this example slice is done at the time when the first API call is made into the TE the outside knows what it is based on the metadata that\u0027s the proposed answer to the open open issue okay at this point now you can set up a session that\u0027s an OT RP session between that particular ogip client and the right time and this is not a slide about picking the right town as a different question right but assume you can pick the right time so there\u0027s a transport session that he facilitates and so if you had two different clients for two different tes are two different trusted applications you have two different transport sessions so you see the transport session is tied to going between a particular Tam and a particular tes OT RP client and so any messages that come from the team come in the context of a particular transport session and are obvious which one to go to it\u0027s the one for that that sessions bound this ot RP client okay so that\u0027s my answer the routing decision if you will is made at the time that the metadata is used in a facilitator starts to open up a connection on behalf of a particular ot RP client and after that the answer is easy so this is my proposed answer to the open issue using again the use case that was discussed last time by somebody else that says I have heterogeneous te es on the same device and the good thing is that it doesn\u0027t require any news standardization work okay actually this is also a placeholder slide to point into what Dave is going to talk about with his experience working on the implementation it addresses the question of like how does the message interaction actually work between the client application the Tam and the TAS and they\u0027ve tried out a couple of different approaches he posted that question to the list beforehand before he then went off and experimented with the code and to see what a how he can actually unsay to yourself so that\u0027s why I leave it to Dave to actually answer his own question um so that\u0027s a quite pragmatic approach and that\u0027s yeah yet we had a lunch discussion and so this was actually my diagram that he included into his deck so one of the pieces of feedback on the architecture document was the term agent as used is an English word that doesn\u0027t mean to most people what it means in the "
  },
  {
    "startTime": "00:24:36",
    "text": "document right in normal English an agent is somebody that is authorized to act on your behalf in the document the term agent is used to refer to something in the rich operating system that in the Ritualist that is not authorized to act on your behalf okay and so the point here is agent is probably the wrong word to use for the thing that\u0027s not authorized act in your behalf that\u0027s just authorized to relay messages it can\u0027t understand okay and so the this is a purely editorial terminology question is to say can you pick a word other than agent and so you see for discussions I threw in the term facilitator I don\u0027t care what it is alright facilitator connector or something else we just need something um well for those of us who remember grapevine how about broker question to the room I see two thumbs up and a bunch of blank stares I see okay this may be a discussion for the the list right but the point is the thing that we\u0027re talking about is this piece out here we need a name for it there\u0027s an OT RP session that\u0027s encrypted that goes between or at least authenticated if not encrypted right that goes between some server thing over here and the term that\u0027s over here the document doesn\u0027t actually have a term for this piece right here I made up a term OT RP client you know it has a term for this right here which is called agent that I didn\u0027t like and whether you call it a broker or whatever else we can take that to the list to see if other people come up with better names all right I don\u0027t care what it is but the question the point is we need to have a common name for this piece and a common name for this piece me Empire I think this a good a good appoint so originals agent start to say it on behalf of the rich app talk with T so that kind of our behalf but I think now take the either right as a transporter connector or something is that more neutralizer or good we posted a list and at some new term for another terminology pieces the service provider and and currently it\u0027s defined as an entity that wishes to supply trusted applications through motor devices but then the document the architectural document goes on and it provides a little bit of extra text and also distinguishes between a device administrator and it says the device administrator or service provider of the device need to determine security relevant information of a device before provisioning the TA to the device with a te and a te and a device needs to determine whether a device administrator or a service provider that wants to manage NDA in a device is authorized to manage applications in a te so um they\u0027ve came along in his review and asking whether the device administrator is actually responsible for controlling what apps run in a te on for example an IOT class device and whether the device "
  },
  {
    "startTime": "00:27:39",
    "text": "administrator has just another form of service provider or whether those terms are actually mutually exclusive and it it\u0027s a little hot it\u0027s obviously not as straightforward answer that\u0027s why I still still an open issue currently so I\u0027m I\u0027m a little bit mixed about this one to be honest so we we had initially the the notion of service provider and application developer or developer so we got to ax the developer term and and replaced it I had only the service provide anymore but now the role of the device administrator\u0027s a little bit unclear I would like like clarify a little bit you know origin document it was only silver provider so silver provider like a bank right back dedicate the Chaucer application installation to devices through a tam provider so silver party like a bank card of a console and then there is a the Western me traitor as a user case was asked right you know last workgroup in a long one so now it\u0027s compact the white smooth trader may means the manufacture maybe person who Magda devices it\u0027s a different from pack so it\u0027s for me is that different teach on different terms so there\u0027s a to use acacia here it\u0027s another same so for that so they favor so I asked what sits on I think it\u0027s on so they they were so I asked the question as an individual reviewer of the document and I like the first definition meaning that the the top bullet on the slide right I think that one is unambiguous although I would tend to prefer a term like ta provider rather than service provider I think it\u0027s actually much closer to the definition unless and more clear but that said the question came up out of the two sub-bullets is there where it has the orbits in there okay my preferred resolution of this terminology is to say it\u0027s the EE if blah blah blah is the device administrator just another type of provider answer yes would be my preferred resolution and if it\u0027s defined that way then you don\u0027t need those orders in there you\u0027d say a TI ta provider needs to determine an ata and a device needs to determine whether the TA provider was that so on and so on you wouldn\u0027t need to express them both because the device administrator is just a sub case of one particular type of ta provider right and so that\u0027s my preferred resolution I\u0027m happy with other approaches to but as we need got to be talking about the same thing we\u0027re just talking across across each other Dave wheeler from Intel I see a device administrator as fundamentally different as as as making a decision of what can "
  },
  {
    "startTime": "00:30:41",
    "text": "be on the device so that maybe that device administrator is managing the set of trust anchors right or is authorizing the TAM to make the decisions on behalf of them so it may be some some sort of ecosystem around enabling a tam on a device either through the trust anchors or directly through enabling what what tim has access but III think that needs to be built into the Tam kind of interactions and the Tam is sort of the entity that takes the place of the device administrator because he\u0027s making a lot of decisions on what tas get installed and and signed and things like that and then the service provider is just the one who is asking for a particular ta to the install that\u0027s that\u0027s the way I see it I don\u0027t disagree with anything the David wheeler said it\u0027s to card year I think this comes down to scope of authority of the different roles and my instinct is that a service provider defines the rules of engagement that a particular trusted application would go by if I choose to install it and that\u0027s up to that service provider and I get to decide whether or not I\u0027m willing to adhere to those rules of engagement whereas a device administrator is going to determine whether or not I\u0027m actually even going to enter into that relationship with the service provider in the first place and so it kind of comes down to the interpretation of the subtle words wishes to supply tas can you say it\u0027s Mike clarifying question are you assuming that there is a relationship between the TE and the service provider in all use cases because I don\u0027t think that\u0027s the case in all use cases right now you want to constrain it to use cases where there is a security relationship between those two just logistically can you state your name - please sorry Stu as to you card CA rd I can\u0027t answer your question because I haven\u0027t thought about it sufficiently deeply yet I\u0027m just saying that there\u0027s there\u0027s this notion of rules of engagement that one party provides and that another party may or may not wish to agree to one of the possible use cases discussed just help you think about it was a case where there\u0027s a relationship between the Tam and the service provider and a relationship between the Tam and the TE and so it\u0027s only indirect so there\u0027s a direct use case as an indirect use case are they both in scope is kind of the question yeah but I think from from the feedback like I liked the sort of the change or that justement of considering the service provider being more that the trusted application repository in some sense or provider and if you see it that "
  },
  {
    "startTime": "00:33:43",
    "text": "way I think the answer to your question is whether this is just the device administrator that\u0027s just a subcategory of service providers for David\u0027s comment this is know so so yeah I could say that I said it\u0027s different but my opponents say I say altar server provider or used the party furtive and it maybe is just in your scope the wilder me traitor say there\u0027s a word itself I\u0027m the minister to myself whether I should be in scope it was out of scope I think maybe just I would just the higher that the TA supplies Sol provider case okay so we can move on and make those changes another one another topic was real we had a discussion on what did I do that but to get a software update here right no it doesn\u0027t work anymore okay so another discussion we had on a list was regarding the terminology used for keys so we had trust anchor terminology and drew of trust terminology and in which then evolved into a question about what are the key is actually being useful and here I copied the table from the architecture document and added some additional or try to add some additional clarity on what the different keys are being used for so we have the de key which is really useful at the station and when the terminology of trust anchors came in people are saying or you can\u0027t use the trust anchor terminology that I actually copied the reference from Russ\u0027s from one of Russ\u0027s RFC\u0027s because because of the special use of those keys for attestation there\u0027s also this other key beer which is used in force for signing and potentially for encrypting of the software which is separated at and also needs to have some keys or should associate with it so different proposals on what we should do about it so they they\u0027ve came up with a somewhat detailed proposal on how we should distinguish those two terms and on the other hand suggested to just remove the trust anchor terminology and then we don\u0027t have to worry about the "
  },
  {
    "startTime": "00:36:43",
    "text": "distinction between those two of course the trust anchor term is used to out the document I thought it was a pretty I argued that both terms are very similar I didn\u0027t want to go into the details own or have separate just because we use the keys differently because they are described or the key use which is described throughout the document anyway including the table that had just shown so let me give you a quick glance on what the term is that they proposed I\u0027m probably not going to read it out to you but Russ you want to do you have or David do you have a specific up so if you would back up to the table sure it appears to be the case that a certificate authority is involved in all of these cases yes and so if you want to just reference 5280 and say validate the cert like described over there you ought to use the words described over there yeah which is trust anchor which is what I did that\u0027s what that was my that was my thinking actually um so I\u0027m not sure that it all this is Dave wheeler from Intel um I\u0027m not sure that in all cases you do have a certificate the table yes the table may be wrong but I may have a different opinion okay but but I think we need I think we need to talk through that or carefully because in in some cases in trusted firm where I may not have a certificate associated with that key I also think that we need to think we need to make sure that we the cardinality here is correct as well because I think if we have multiple devices we might have multiple t\u0027ee keys but it\u0027s also possible that he may have multiple attestation keys in order to provide anonymity right so so I think we need to think through our use case here and and whether they are signed under a CA and what the commonality is and talk through some of those whose key s so the first one on the trusted phone where key that is really sort of left over from what I mentioned earlier so maybe that should actually not be so prominent in in that table or throughout the document in the first place because it related related to the issue that I mentioned from earlier currently there\u0027s only one at the station mechanism defined in sort of the architecture which is based on a per device ki ki Pia and that\u0027s that\u0027s why the cardinality is right so it doesn\u0027t "
  },
  {
    "startTime": "00:39:43",
    "text": "talk about group piece or other at the station concepts where you ship the same key pair to a bunch of devices to provide some anonymity just to explain why the table is as it is Brussels Li what I think Dave was talking about is whether you validate a certificate or you validate a signature directly with the public key that is stored in the device that\u0027s the trust anchor versus something else is right okay so we address that same issue in a another protocol called tamp trust anchor management protocol so again we could just grab the same terminology and not have the argument yeah but actually currently the document really focuses on the attestation mechanism is literally assuming a certificate it\u0027s not just a Rakhi so daysailer so part of the discussion is part of the issue is yeah you\u0027re gonna pick one or the other or maybe both or something but it\u0027s better to pick one of the other okay but because we have multiple communities regardless of which one we pick we need to explain that it\u0027s the same as what the other community is used by the other term and so for example even our Charter says we have to give a good relationship with you know TCGA and global platform and so on and TCG and global platform both use root of trust for X as their terminology okay so whichever one you if you let\u0027s say you choose trust anchor that might be fun using the document as long as there\u0027s some place that says and this is the same thing that these other community mean by root of trust for X okay and so in that sense you\u0027re using them both but you\u0027re using one of them only in one place and using the other term everywhere and the question is which term you want to use everywhere and the other one you\u0027re going to use only in one place which is like in the definition or something nice and maybe um I I wonder what it\u0027s good to sort of like you know very generically refer to DBMS because many of them as we had discussed earlier actually don\u0027t allow that functionality we are talking about here they are sort of hardwired so any of this is sort of not applicable so I I guess it would be up to someone who is really into that organization to sort of refer to the right terminology to the reference technology that actually allows even the use of the odo TRB and the update of trusted applications and so on so ya mean PI are two points first of all about the public key versus certificate current document as in Scorpius will require certificate request certificate purpose of that once a time to know what made too many public "
  },
  {
    "startTime": "00:42:43",
    "text": "keys that are like it just from where all the public isn\u0027t managed by tap that tunnel scale that\u0027s who purpose we want to you say certificate there won\u0027t come well it didn\u0027t many devices that\u0027s a limitation so we\u0027re very important the choice there second point is about your ability that was wrong that you can have multiple T keys per device I think we need update that one CA versus not a certificate whatever goes take that to the list since that hasn\u0027t been discussion list yet and so let\u0027s tee that up as a question to be discussed yeah and also how to support other forms of these skip this one Oh security domain concept so currently we have this this concept where there\u0027s an isolation concept at least where the on the de site where trusted applications recite in a security domain and if two trusted applications in that security domain they are able to share resources that sort of like the definition from from the from the document and there are messages that allow you to create those security domains and then put the trusted applications in there so the question is that arises is or that came up is what happens if in most cases they\u0027re just one trusted application per security domain what is the implication on on the protocol exchange can can be actually get away with having always to go through a separate security domain establishment when you actually want to just have one application burden per security domain as it is the case in some technologies that\u0027s something that we we still have this struggle with that\u0027s it okay more architectural discussion later in other presentations in fine and infinitely worse so this is now the protocol part so architecture may won\u0027t change I think a lot more discussion that thrive in the solution document right so just briefly talk about the most part do not need 30 minutes for that one so it should give a quick status update or that one and talk about the changes we made in the document which a private document a little bit to talk about today architect the program map here it\u0027s roughly it\u0027s a so far consistent but we are the more features into architecture as this discussion is see they will accompany change a practical part so I think in the timing alone would be the architecture so let\u0027s give you a quick update that one so we had a draft approved by workgroup or in a much much "
  },
  {
    "startTime": "00:45:45",
    "text": "that meeting then officially get in a I in April and the mighty change right after name to look for name and a few comments to change our or that one they were made their wishes oh it\u0027s a that is when we produce the architecture document no we\u0027ll make a change it\u0027s a travel documents take on some contents that was it to mature architecture oriented and the way to live what shuttle a royal to certain overlap in there and there are things documents very much general then original itrp so that\u0027s change let update that wrong so here\u0027s a quick word for a show like how many people have a read and the OTR P is a draft if it was theater yes okay chances are how quickly will fresh here right for people news that what they it is right so you know architect aqua know what rocket-jumping and so assume you already know so but a cool to average here\u0027s our Archon is a little commander I just talked about architecture design purpose use the case each other choice and architecture they\u0027re in the protocol part so now the use of cases and architecture move to architecture draft like a larger moves draft and this one what\u0027s the mass of the particle there\u0027s what\u0027s AP is yeah so if undercover the protocol easily miss of the protocol the mystery protocol mister party first message exchange between a PE and time time is a trust application manager trust layer manager we choose to use Jason face a message for now there were other comments also desire to go to more compressed more finally Merced if I\u0027m at residence all so well major choice or else that\u0027ll we use a symmetric key and a certificate like I was certificate or like admission or earlier asymmetry certificates too make it more efficient for the moocher translocation between that device and civil provider which which delicate trust through a trust application manager at time remove cells like a time and the rice you need to communicate I talked about here we introduce this agents right over those discussions that name is looks different now will make change to the proko connector or something all right so that\u0027s a really Rolo message repent the lice and tam someone we may ask why you need such a connector just noted i but many of you "
  },
  {
    "startTime": "00:48:46",
    "text": "know he fell out of a capability to handle transport so at least the trestles on te implementation it doesn\u0027t know how to talk outside of it so you must have a application in rich world in another word to facility that that words is introduced right normal occasion like a mobile phone case you know my application your couple time utility you need something that it\u0027s not always introduced at the part of architecture huh and we add that alone to support transport idea that it means between tb20 and the time time needed something you ever wear with some messages which application instead of whatever this agent new target time so what the protocol should you use so roost appearance a supporter transport layer like toh soona ssso on yeah so this is a glimpse of were the messages we have seven API so each API means some messages same ApS used it today your ad because the first one is if the local Claire so core what\u0027s the wisest idea how many chess application running in the rice and what he did what he it is and what shows application running and what\u0027s a circuit them as you have alphabet it\u0027s just a to set well Megaman api\u0027s first major circuit domain so secret the music central to the concept of this protocol it\u0027s a critical domain you can participate domain and it to leave a secret domain so when we map to the other te like STX we\u0027re also a distinct pattern this concept and apply or the what - the means that oscillation of the T applications just applications so major was about chess obtain major one that\u0027s a big target right eventually secure promise isolation but they will have the Union status application was installed life cycle is really the life cycle management Union status application after the first application to be trans application so that\u0027s it automated goal okay well you could ask years others that ultimate one so you have a application either one there so that\u0027s a related product out the plan is try to cover and it is significantly put a scope right say you have messages with the phone message protocol but between T and a time between T at time right now you\u0027re the most Aditi fine no we have this convo kotfe agent this is a may not be precise word so this was used to "
  },
  {
    "startTime": "00:51:48",
    "text": "transport it\u0027s a really for city transport so you have some messages from time you need some team and you have responsibilities you need send a pattern right they kind of there\u0027s no connection you can establish some thing here need to do that job and as I got a note EAP agent but they are say you\u0027ve got transfer connector the subtle sounds it may be closer to the update functionality it is so it needs to give a flavor of the message is this is a standard to json measure using it for api car quite a circuit on a request and a cricketer no response those will be cheerful messages but the message you need be signed and encrypted and assigning the encryption uses standard tears on spec you see all right is to officer for that one okay that\u0027s a within a way you don\u0027t wanna get reading with this it\u0027s just use whatever you obviously already specified the chat akira for level what it how to look like it changes look a quick one here it\u0027s a remove general architecture specification to the arcade draft and it will change it over your part so the protocol part of change yours wait it\u0027s just the instruction part we a little bit Chan movie or the instruction change so now I say is that a follows that architecture draft that\u0027s all some talk my update for that not really ready ready for the change we refer to terminology we will move it out to the terminal section be the world if I wanted one architectural community found that one will use the same terminology or no repeated but it will attempt no say integer relationship and a key type of saw because that was and it has been what the OTR be used as a solution right and architect dogmas refer to that one you see this to you will be consistent but it was terminology and architecture realization so they\u0027ll be no API level change and no message change because that was a call protocol part there\u0027s no change it more part of the document that complies but a room changing was about trust of firmware trust for more part as a request that it should not be required so now I will make it optional okay what\u0027s the option on now time has a decision to make today say you receive a message from tae Vee it may offer you include some other social imperative transformer order from Renault transform where so it\u0027ll be decides I\u0027ve trusted it or not trusted "
  },
  {
    "startTime": "00:54:48",
    "text": "it but that is a backward compatible also can support other cases and then we also have some coming up at a terminology once a in part to this us sick you put a module and that they will give it a comments item we have to load a 207 so we just keep the one and got a choose to use the trust from where this one\u0027s I think I take stock Martin I will not repeat here so this also there\u0027s a caps today because new features a kind of multi you support t upon or distribution pipeline application those kind not being designed in Saudi Pia Parker yet but will continue to work on the architecture what\u0027s a real solution for that one then we\u0027ll put into the protocol March Oracle pod so this is the mall for that one look at summer idea here just discussing how to a support multi BTE and then hope you get there were also talked about his Salida diagram right how to facilitate even multiple tes typewriter he already explained I don\u0027t know what repeated a song found a distribution there was some the finest talk about rather challenges we want to trust that because your honor inside a client application will challenge a few challenges are all repeater repeater here but it was also discussed will put in a protocol because there\u0027s an issue of support to the lifecycle management now the first one is the after that how to imagine to secure domain or how to update the trust applications are and then how to refer to the agent part so most to be continued to work I will expect an excavation will cover more in this aspect so yep that\u0027s a that\u0027s a part yet okay this is Dave Thaler as an individual participant and she\u0027s the chair over there so at hackathon there was no teep stuff like pre-prepared or whatever but since I was at hackathon I decided to use that as an opportunity to say what would I need to do to implement OTR P could I do it just by looking at the spec and so I started that of course I didn\u0027t get very far but I got far enough to generate a bunch of issues I should mention that I already have experience in writing trusted applications for both trust zone and SGX I\u0027ve done both in fact that done business logic that worked that can be compiled into both Ness X Enclave and a trust so and so I understand both issues and so I was reading code to try to be as not agnostic as possible but I was doing on an SGX capable laptop okay and so I didn\u0027t have trust owned hardware in hand I had s Jack\u0027s capable hard to enhance so anyway this is a hackathon report where I was the one active coder "
  },
  {
    "startTime": "00:57:49",
    "text": "there there were other T people in the room Hannes was sitting right next to me and Nancy was just within earshot so so there are several T people in the room but I was busy coding all right so then anyway this I sent to the list list of ten issues I\u0027m not going to go through all of them because at least one or two of them David Weaver\u0027s going to cover in his presentation but I\u0027m going to cover some of them and so I\u0027m just gonna show up there what they are and I\u0027ll focus on a couple of aspects in there okay so the first one is that the first step that happens and I\u0027ll show this on the next slide is that something reaches out to the Tam to provide it a here\u0027s the TA that I need the OT RP document does not define any message syntax for doing that in fact it implies that\u0027s not part of out here P but it\u0027s ambiguous so I couldn\u0027t actually implement the first message in the exchange so I made something up and you\u0027ll see that on the next slide right I made something up that actually does not require that message because it doesn\u0027t say what it is right okay so the second issue and dave is going to talk about this one is the Tam needs to keep track of what TAS are installed and so I\u0027m not going to talk about this in more detail because Dave wheeler is and we keep seeing Dave\u0027s in a cover this sometimes people me and sometimes people men wheeler okay so the third one is there\u0027s an extra round trip and so I discussed this in the list and that\u0027s where I\u0027m gonna get to my slide here okay this is what the draft says okay step one this is an example flow I found the example flow section be extremely useful I could use that to say here\u0027s step one step two step through this is what I will implement okay what it says is that something gets ahold of the TA or the reason so step one is not a protocol thing it happens sort of out-of-band you figure that out right you now know that you need to install this rich application and it depends on the following ta whether that\u0027s bundled or not it gets the metadata okay what then it says it says I reach out to the Tam I know which Tam it is based on meditate or whatever and say I need ta X with no syntax defined okay this is not an encrypted OT RP session it\u0027s an unencrypted unauthenticated untrusted message at this point the team can now reach out to the OT RP client using an encrypted trusted session that goes between the tail and to end the TE e that says hey what are you in what th do you have and the response in the step six is oh well I\u0027m a food te and I have TAS a and B so there\u0027s these three messages that at the end of the day this is used to figure out that there\u0027s a desire to stuff install ta X in the food to EE okay and so that\u0027s one issue is that there\u0027s three messages and and whether you have well here it\u0027s inferred because I need ta X well I have a and B I didn\u0027t see X in this list therefore I need to put X on you okay and so there\u0027s work on the Tam to say take this and see if it\u0027s in this list okay and then secondly this notion that the rich app has to be running and the drish app has a tam transport it does not say that that\u0027s mandatory that\u0027s just how it was described and so one can infer that is "
  },
  {
    "startTime": "01:00:49",
    "text": "mandatory because it doesn\u0027t say so this is what the dress says as an implementer here\u0027s what I wanted to do what I wanted is I wanted there to be something like an app installer like an app store thing that talks to you know steam at the Google Play Store or the Xbox store or whatever it is that goes and grabs stuff and gets manifests and that has the facilitator code in it so but the rich app doesn\u0027t have to be launched if it is going to fail because the dependency is rejected okay and so what I want is I wanted one message that says I\u0027m a foo and I need ta X so here there\u0027s a different flow that\u0027s what I wanted where I wanted the facilitator piece in here to start by saying hey ot RP client I have a dependency on ta X this thing can then initiate in the other direction so in other words the first message ogip message goes in the OT RP client to the tam as opposed to how it\u0027s defined right now with the first otome message goes from a tam to the to the down to the TE right and so as those backwards in terms of the first message this is what I wanted to implement but I couldn\u0027t do that in the current spec okay and so the what I wanted was one message instead of three to get the information this doesn\u0027t have the problem that David wheeler is gonna mention talked about which is I have to keep track of all the installed TAS over here it doesn\u0027t have that requirement and if he says reject then there\u0027s no reason to even launch this rich application the future I don\u0027t have to worry about installing the rich application if the metadata says that dependency is a heard dependency okay so that\u0027s what I want and I couldn\u0027t do that but this is my use case as to what I wanted to implement and so I started implementing the closest thing that I could and that\u0027s where my comments came from okay okay next couple of issues I mentioned that there Oh OCSP stapling data there\u0027s no normative reference I\u0027m not a no CSP expert I didn\u0027t know where to look and so I skipped this part I\u0027m saying remember the task was could I implement it from the document not having any extra knowledge and I found no I couldn\u0027t do that okay the next one I\u0027m not going to go into much details other than there\u0027s this field that says that it is there to make sure that the message was received by the right device so the OT RP client and the t ee parses it said does this have my device ID in it if not it must have been destined for the wrong person the wrong entity and to me this seems redundant because it came from a te across session or whatever that that could go away I think but if it can\u0027t then it seems to be missing from some of the other messages that Ming had on a slide and so that was a point of confusion in a document I wasn\u0027t sure exactly how to deal with that okay the next one I think Andrew responded on the list that there\u0027s some blue boolean ish fields there to find the strings and Andrew pointed up in the list that actually the document itself was internally "
  },
  {
    "startTime": "01:03:49",
    "text": "inconsistent in some places it says the same field is of type boolean and JSON and other places it\u0027s a type string quote true quote false even for the same field and Andrew said yeah that was an oops but I wanted to be boolean types not strings because if you do allow zebra or encoding Ming mentioned it was Jason right now there is an individual document that\u0027s the Seabourn coding proposal I think it\u0027s known folks from Carson or whoever else if we go that way in the future then having it via type gives better compression it is implementable except for the point where the same feel that\u0027s discussed as being contradictory in two places okay the next major issue when worth drawing a picture anyway one that I want to talk about is number seven which is this extra round trip to create a say a security domain all right I mentioned before the extra round trips necessary to initiate it right where I couldn\u0027t implement the first message right and so I wanted to have a diagram on that one and I\u0027ll come back to number eight which is also worth mentioning so here\u0027s what the exchange says right now but Tam says creating a security domain and it comes back and says okay here\u0027s a key that you can use for subsequent operations and then the Tim says okay I\u0027d like to install this ta in the security domain here\u0027s the key that I have for the site and it says okay done because these two steps here now in the common case there\u0027s exactly one ta per security domain that\u0027s not the only case we care about it\u0027s just a common case okay in other words because the scary domaine is providing isolation among TAS like Hannes mention in his slide right and so if every TA wants to be isolated from ever the ones including ones from the same author right then you want there to be a separate and so this notion every time I install one of these I need to create a new security domain is two messages to do the same operation which is to install stuff and so I said wouldn\u0027t it be nice if I didn\u0027t need to send this message it could just be done by sending this message because if you look at the inputs in here and the inputs in here they\u0027re the exactly the same things in that message the only exception being that did field that I was mentioning the previous slide that I found confusing okay and so I said could you optimize this out to say the first one of these does this as a side effect if it isn\u0027t there create it okay could that be a side effect for optimization again that\u0027s still backwards compatible you\u0027re just providing an optimization that says if it hasn\u0027t been done yet do it as a side effect so we had this exchange on the list where I think it was Andrew was explaining oh but this key that you\u0027re getting is is the main thing okay because what this key lets you do is if you choose to encrypt the TA binary or the data associated with it with information that is unique to that device like only that device can decrypt here\u0027s the data that goes with it okay when this key is useful here so he\u0027s saying if there\u0027s encryption okay so first of all encryption is not mandatory so there\u0027s two cases okay if you\u0027re not using encryption then of course it\u0027s "
  },
  {
    "startTime": "01:06:49",
    "text": "redundant information at just an extra round trip okay you can implement this yes it\u0027s just inefficient I didn\u0027t like it but I could implement it okay so it doesn\u0027t carry additional information and it\u0027s just less efficient right so it could be done so let\u0027s take the case that he was talking about where you require encryption so the key that you\u0027re getting out of create SD right now is a different key for each security debate the architecture document explains to the same security provider can have any number of security domains like if you have five apps in the device you could have each one have its own security domain so I\u0027m the security that the provider I got five apps and therefore I have five security domains because I want them to have no memory protection from each other hey that\u0027s my choice and so how many keys do I have if I create a new security meaning for each one I have five keys if you go back to that table that we were commanding on with Hannes and Russ and I it was labeled as a service provider key that was create a main key so what\u0027s the granularity here is it one key first security domain where there\u0027s multiple per service provider or is he just one per service provider so I claim that bundling the notion of the service provider key into a per SD message is not the right granularity that was my conclusion and thinking through this okay as it may not be the right message to do that operation in or maybe we need some other variation of that exchange I don\u0027t know what the answer is I\u0027m we\u0027re saying that was the issue is that I end up with five keys even though the architecture document or the the table says they all need one size mismatch okay and so my recommendation is don\u0027t convolute key creation by the service provider and isolation boundaries those are two separate concepts don\u0027t you security domain to do both purposes that was my recommendation as an individual participant to the group okay there\u0027s ID fields that are under specified and I think even Andrew agreed yes they\u0027re under specified I just says they need to be unique it doesn\u0027t say what they have to be unique within do they have to be globally unique they have to only be unique within a particular session between the t\u0027ee and the TAM right for example can I use a sequence number or not if I use a sequence number it is not globally unique it\u0027s unique within my session it didn\u0027t say right now they\u0027re both right now they are strings and Andrew said oh well that means you could use Goods if you need global uniqueness this is good you can use Goods if you only need per session uniqueness extra complexity that\u0027s overkill tell me I can use a sequence number okay the document doesn\u0027t say right now so I didn\u0027t know how to implement that and so that\u0027s kind of where I started saying what do I do here and making a guess and which could be wrong okay so if it only needs uniqueness within a particular session integers would be much more efficient but that\u0027s something we should collectively decide as what\u0027s the intent of uniqueness for the request ID in the transaction ID I could not as an implementer think of a reason why an integer would not be sufficient okay "
  },
  {
    "startTime": "01:09:51",
    "text": "and I seem to think that Google\u0027s would be useful but I can\u0027t think of a use case for uniqueness beyond a session so if there is one let me know otherwise as an implementer I would prefer an integer here okay and then lastly this was an editorial issue I found it confusing that this what looked like the same thing was referred to by two different strings in here you can see the only difference is the te e and t BS in the middle of it there was an explanation I think it was being posted to the list that I didn\u0027t understand it also I still understand this one but this is purely at a trial there\u0027s no technical issue here I could implement it no matter what I just found it longer to implement it cause I had to flip back and forth between places to figure out what it was talking about and then lastly this one is kind of architectural specific as I was thinking about how to arrange code it is unclear in the document at least in the places that I could find when I was looking at the time whether a rich app is allowed to depend on two ways from different Tam\u0027s my hypothesis is yes and whether a TA can depend on another ta including one from different ham where my hypothesis was yes now since then I think Ming or somebody else post on the list that there may not be a use case for that or whatever and so I wanted to comment on that because I think my last slide here that when writing forget trusted applications for a second when writing applications that are distributed in various types of app stores and things it is not that uncommon to have a dependency on something that has another dependency okay this is not uncommon my claim is that the way that the more trusted applications to get developed the more and more likely it is that that same model will translate over for the same types of reasons as people do it for the rigid location dependencies okay so I fully expect this to become common even if it is not common now I don\u0027t think the protocol has to change significantly to accommodate this so I don\u0027t think it\u0027s a showstopper to say that yes a TA can depend on another ta it\u0027s just another way of expressing dependencies right okay but again Brescia and dependencies is outside the scope of the protocol so I think the existing protocol messages can be used to do that okay there we go I think that\u0027s my last life happy to take any questions otherwise I\u0027m going to pass it on to David wheeler to talk about SGX implications yeah okay great I mean she can take whatever talking about but I\u0027m not the chair for this discussion yes how much time before David was a lot of time if we have questions I\u0027m okay "
  },
  {
    "startTime": "01:12:55",
    "text": "so if you have questions on my stuff like five ten minutes and then we can use the rest of the time I mean I\u0027d like five minutes to go back to these and discuss these now now is a good time quick someone comments here so you can audience come on art and good to share this mainly and I started from yes a backward at least from pink go back to one this one yeah in a long time no last one okay last one that was I think he\u0027s actually it\u0027s a one it was like a and ear it was not any original scope right much Matias Cheney relationship so now a TA install not ta that was not is that I think we need to discuss offline little bigger a little bit the scope chain nine nine euros replied say at the wires muhammad wa t so get it the worst state response consider at least of get authorities dead TPA responses that was a relationship okay one yes a list of others okay that I did not find that clear in the document so this is number nine is purely editorial Heidi look I see you so firstly thanks to David is really important we will get feedback from people working with the protocol to raise these issue I do want to cover the point about the encryption of the ta being optional which I think you I think David he was saying that the a encryption was optional and for the case where it wasn\u0027t required the message protocol could be important I believe right now in the protocol document the TA encryption is mandatory yeah okay okay continue here okay let\u0027s just jump on this issue so today yes I think that\u0027s a you made good a purple I think there\u0027s a optimisation case you know before the cool part was soon right the very very population a tip under itself it will be always encrypted so that one pass former supply to te no Manmeet are you including any client applications you never see the finer self so that they couldn\u0027t reverse-engineer so ever that is a valid use case I don\u0027t know why that should be some use the kids they don\u0027t care they look upon do it then maybe I think they will leave an option here I think is that for that one perhaps we should clear your on what encryption means confidentiality or that\u0027s right confidentiality issue it\u0027s cookies comedy song if you know you go "
  },
  {
    "startTime": "01:16:04",
    "text": "back which one 87 okay there yeah intercept it uniquely yeah those who one size away at the other coming alright so that was a more consumer then that cameras off to track this request I sent when next unit station responsive company I can link myself it\u0027s a really unique within Pam do it within a session multiple sessions at the same time and I could come I\u0027m gonna say my okay say one so today there was a design purpose in the beginning so when your application says I want even start yeah maybe it here already installing twice so it is an upgrade or Sydney reinstallation that\u0027s why it to make a round trip to time first time said tell me do you have the TA already not if you do its upgrade not installation so that was the intention saying I think you meant you asked the te e what\u0027s in there you said ask the tam-tam I said no time in kernel one because it corridors that cloud application talk with a time first I said no time initiate the first request get the one state it as T tell me what years you already have if you ought to have the TA I was sending us an update yeah no say you thought yeah that why that was a gated on stage there was always a first call secondly other than the appropriate adversely new installation decision it\u0027ll make this also integrated part there may be multiple controller station here already installing benefit I do all because of some a second attempt now if you sit command is another young story should be up correct so that where the clean state is important for time to know it doesn\u0027t need to maintain it don\u0027t have stored but they need to ask for it so gonna neutralize that was a design your patient income phone call a lot of five right I think the most important thing that you said is it doesn\u0027t need to store it you know needs it within the cannot change but it does not have to retain a list that\u0027s right that\u0027s where what the document says is different from what you just said and I think the way that you phrase it is better and David wheeler is going to talk about for everybody else why that\u0027s the case yeah yeah I think it just get clarified there Y in this equation papa right yeah come on okay I think that the ass is that one six unique identifier that\u0027s it\u0027s a twice TRT is a device identifier it hash offer that was certificate so we know it\u0027s always a recipients wants in the back same thing to quick it\u0027s optional value by the way it\u0027s optional on it all right my main point was either I should be in all seven of those messages or n 0 of the messages and use an underlying identifier for all seven of them I don\u0027t care which but it "
  },
  {
    "startTime": "01:19:04",
    "text": "seems odd for it to be in one and not seven yeah it\u0027s optional okay four yes I think we need a normal voice there I think you\u0027re already answered yeah this one I the time I\u0027m actually on trip the main thing to talk about is this diagram right here yeah people think that this is a useful model to other implementers right agree that this is a model that they would like right first on I like the concept here is that have an installer the installer that actually good the ones that applicator solved I need to the job it can dedicate you some installer is a more sensitive manager device but undercover as a concept the product part still there and if you sell it at Hawk where would he have a client party the job right install it does job for the client application it\u0027s just a beta management model or another option I agree that that\u0027s why I I don\u0027t I\u0027m not trying to say that everybody should use model - what I\u0027m trying to say as a mentor the document is written for one and I wanted to use model - and I wanted a document that would allow me to use model - you okay I don\u0027t believe I\u0027m asking for anything that could not be perfectly backwards compatible if you had an existing implementation right I just mean that you would be using different message or using optional fields you\u0027d skip some messages like create SD or whatever it is all right yeah and the man okay okay go back almost like with each other here yeah you say we lack of syntax now I doing interesting what I think we as a public discussion yes I\u0027m fine with no syntax defined there because I didn\u0027t need that message at all right yeah what this is I\u0027m a I\u0027m a pig say ta right I\u0027m a fool right now yeah yeah from this T and now that become new message correct I think that it\u0027s difference between this line yeah and this line there\u0027s no syntax defined is only the fact that this one is no trp message that a sign and originates in here as opposed to one that is the untrusted one I\u0027m saying I don\u0027t care about the syntax for an untrusted one neither was a new Oh Cherokee message that was assumed little that was left of time providers they manage that relationship was that client that was our channel school site the transport session because not shown here it was on your slide on the slide we had earlier the track work session in general has to be initiated outbound right because it could be far away and stuff here is only outbound will work that means if the connection is outbound here it\u0027s not a burden to have the first message be in the OTP right client to the Tim if a message were to find no so should be as an implementer for reasons including the ones that David is going to talk about earlier later cuz I want to see what\u0027s under which I have the "
  },
  {
    "startTime": "01:22:04",
    "text": "same issues as he\u0027s going to talk about right because I mentioned I was doing this on an SGX capable laptop and wanted to work for either I wanted this message and couldn\u0027t find one so yeah yeah not go back at their first line okay so I think we won\u0027t talk about the individual put it together don\u0027t talk about units in the next presentation yeah number one they say encryption say they have different Andrew is commenting on multiple oh yeah accord st this one oh yeah i to get ready here without me just assume it so we don\u0027t have a separate you could be keeper st it\u0027s a per SP like a procedure provider safari oh he s p AR k anonymous encryption key it\u0027s a newly generated one it\u0027s on first secret to my creation Eugene or SP you option key and a sender packet Pam infusion silk and a secret no man you don\u0027t need that so you already know it has there so that to it that is the current document have a separate one so I think we need to move on before we start with David I want I just wanted to call it a couple of logistical things so uh no I don\u0027t need that you can give it to these so given that you\u0027ve listed out the ten issues right so I think we need to start keeping track of this so my suggestion is to start and github put the documents in there David wheeler has also volunteered to help be one of the editors for at least the architecture draft we can talk about the solution draft later so unless the group objects and I\u0027ll announce this too and in their email we\u0027ll start tracking the issues and put the documents on github all right okay so with that let\u0027s keep moving forward great so my name is Dave wheeler I\u0027m from Intel I\u0027m going to talk some about the issues in looking at teep in SGX I\u0027m not going to satisfy all your curiosity about SGX there\u0027s some references these are posted so you can go look more about it so I just ask if we maintain our questions focused on on teeth I\u0027m going to talk a little bit about what SGX is and then talk about some of the problems from that perspective with teep I\u0027ll talk about the trusted computing base and how that has impacts to teep and then I\u0027ll talk about attestation I\u0027ve got some other slides too to talk a little bit more in pictures about some of the flows which I think will help more of the conversation so I\u0027m gonna go through these first ones pretty quickly and then we can have "
  },
  {
    "startTime": "01:25:05",
    "text": "questions over the pictures because I think it\u0027ll be easier to talk through that way so SGX is very different from trust owns and perhaps other tes instead of having some sort of kernel or think something like that Ollis Jex\u0027s is really some enclave page cache some encrypted memory and what an application does an application in includes the enclave code and then loads that through some processor instructions he enter and and re-creating things to actually create the Enclave and so that that Enclave is actually part of the client process the operating system manages the page tables but but can\u0027t do anything to them because they\u0027re encrypted so it\u0027s one process and for one Enclave to talk to a different Enclave there has to be some some special things going on so when an Enclave is launched the application executes an instruction that talks to a special platform service called the launch control and that does some integrity checks on the Enclave itself to make sure it\u0027s properly signed and with a key that\u0027s signed by the launch key so all of this is kind of very different flow than what T kind of talks about from an arm perspective so the first piece is the trusted application isn\u0027t separate from the client application so typically when we deliver an application that all the TAS are bound into it and you don\u0027t have to go searching for a ta-tas don\u0027t get installed separately from the client application itself now it isn\u0027t the case that you you couldn\u0027t change that because a trusted application acts just like a dll and so you could have the DLLs outside of the application and actually install them but the unclothed doesn\u0027t exist until the code is actually loaded so there isn\u0027t something for me to go ask and say hey do you have this TA or is this TA loaded that really is a non-secretor in in SGX there is no security domain because we\u0027re not we don\u0027t have a large t\u0027ee that we\u0027re separating for applications @ee is basically instantiated in memory for a particular Enclave so you could consider that security domain of one but you know I think we need to talk about what what are we trying to get out of security domains and I\u0027ll talk more about that a little later and and so there is no really internal agent "
  },
  {
    "startTime": "01:28:06",
    "text": "watching all the enclaves I don\u0027t have some registry somewhere where I say you know I\u0027ve got these 27 TAS installed somewhere on my platform and these three are currently running there there isn\u0027t really that concept an application can have one or more enclaves running within its process or it can have none and one Enclave isn\u0027t aware of what other enclaves are particularly doing so when we talk about install and uninstall that that really doesn\u0027t fly in in the sjx world there really isn\u0027t an install or uninstall command Dave Thaler and I talked about some some options for this his perspective was it\u0027s it\u0027s kind of onerous I guess in in current sjx to to go get your application signed you\u0027ve got to go get a key from Intel and get that signed by the launch key we\u0027re working to make that a little easier but this concept then of I\u0027ve got to have a key that allows me to operate on the platform and if I have different platforms with different keys then then that can become kind of interesting that\u0027s where a Tam might come into place and might be very useful so that I don\u0027t necessarily have my ta sign for that platform I used the TA to do that so I say hey ta I want to run this or Tam I want to run this ta the TA will sign it for you and return it back and then it will be able to launch on the platform I thought that was a really interesting idea there also isn\u0027t really a start-stop or things like that the application the client application has control of the so let\u0027s switch a little bit to SGX the trusted computing base and and this really goes back to some of the things we had talked about on the mailing list we\u0027re not tied to secure booth so the perimeter on the your right hand side you can see what s Jack\u0027s attack surface is it\u0027s really just the hardware sjx is implemented in in microcode in the cpu so it\u0027s security perimeter is the cpu package all of the memory if that\u0027s off package is is encrypted so so that\u0027s outside of the the boundary the BIOS and any of the secure boot is also outside the TCB it\u0027s true that the BIOS does set up the memory for how much memory you have in the Enclave page cache but the only thing that the BIOS can do is not give you memory so it\u0027s a denial of service it doesn\u0027t have control of the keys or any of that the OS is also "
  },
  {
    "startTime": "01:31:07",
    "text": "formally outside of the TCB it does control the page tables and and things like that and can do denial a service but it can\u0027t actually do anything with with your data so again we we don\u0027t really depend on secure boot and in fact if you\u0027re using SGX on a platform you may not even have secure boot turned on so to go ask for a measurement of how your platform was booted it may not even be possible sjx has its own trust routes and its own keys for verification and measurement and so forth so now whether secure boot is on or not you know that\u0027s that\u0027s maybe more of a personal decision and at am as Ming pointed I think it\u0027s a good idea to make that optional and then a tam can then make the decision do I really want to run my application on this platform if it doesn\u0027t have secure boot and and I guess this as another point what I\u0027d like to do talk more about maybe using eat tokens as a way to give us more flexible attestation capability in in teep and and then allow the claims to then be decided upon by the Tam and say hey I\u0027d like to have this kind of token with these kinds of Atta stations and and then that that would give us some more flexibility I think going forward but whether we want to tie those things together is this something we can discuss so the last set of slides here is on attestation there\u0027s two types of active station that happened with SGX there\u0027s a local and in a remote attestation so between two enclaves on the platform I can do an access station between them and that uses an a ESC map key so it\u0027s just like an H map construct and the CPU is really the trusted entity between the two enclaves and provides measurements between them so you can have two enclaves set up a trusted channel or shared data or or whatever if you want to do an attestation outside of the platform we call that a remote attestation and that uses an algorithm called epic if it is an elliptic curve group signature algorithm I\u0027ll talk I have another slide to talk a little bit about that but what you do is you and an unclaimed would do a local attestation and then provide that local attestation outside of the TE e to the rich app the rich app would then submit that to the quoting Enclave which has access to the epidote give access to the epic eita to any application right because it\u0027s kind "
  },
  {
    "startTime": "01:34:08",
    "text": "of a sensitive capability and so then the quoting enclave would then take that local access station and sign it with an epic a and then that can be used to get verified off platform my days Russ just clarification clarification question you\u0027re a ESC Mac obviously it\u0027s a symmetric thing I\u0027m sure you did that for performance reasons understand that but it does are these pairwise keys or can there be three cooperating using the same key that\u0027s a good that\u0027s a good question that\u0027s an SGX specific question so I\u0027ll answer it very briefly and then remind everyone I don\u0027t want to have those conversations here so each each Enclave gets keys derived from some internal parameters and then gets a symmetric key that\u0027s unique to them in their state when you pass that report off to another Enclave what is included in that report is information about the Enclave who sent you that attestation and then that information is then passed to the CPU which creates that key or verifies that key for you so that he\u0027s just symmetric keys on unit either Enclave really has access to the key itself correct yes otherwise you\u0027d have a forgery issue yes absolutely okay so what\u0027s relevant to teep I think the the primary thing is as we we look at the crypto in order to be able to do a test ations to at am and outside entities we need to be able to support epic as an optional algorithm I wouldn\u0027t say that that\u0027s something that we need to have mandatory but for Tam\u0027s and TAS and service providers that want to interface within SGX on they need to support method in order for us to do that we could look at the local access station as a way to simulate security domains depending upon what security domains function we want to actually use in in protocol other than you know just peer separation I\u0027m gonna just quickly just say these are the patent rights about Epidaurus \u0027td I\u0027ve done my best to find out information but I haven\u0027t gone through all the legal stuff I\u0027d Intel to say that this is completely accurate but it\u0027s the best information that I have available right now as we also look at crypto algorithms what one thing I\u0027d "
  },
  {
    "startTime": "01:37:09",
    "text": "recommend is that we look at post quantum I know Intel is very is trying to make sure that all of the products and things that they\u0027re pushing out our our post quantum secure to the best of the NIST recommendations I listed some algorithms down here based upon some reviews I changed some of the things that we talked about at lunch the other day and adding in the epic group things obviously that\u0027s something that we can discuss more on on the mail list so let me transition more into some pictures where maybe we can have some more conversation about this so so out of these things with with some of these SGX idiosyncrasies discussed you know what what\u0027s relevant as far as teep services goes right so if we had t p-- on an STX platform it would operate quite a bit differently maybe then some of the flows that are currently described the t p-- agents counterpart inside the t ee would have to be an enclave just like any other enclave and it wouldn\u0027t really have this omnipotent universal knowledge about what\u0027s going on inside so the only thing that we could really do is a best-effort if applications cooperated with some ree service that was the the t p-- agent or broker or whatever we end up calling it then then that agent could respond out of the Enclave to a tam to discuss you know what bubbly installed and what\u0027s probably available but really because of the way that STX is normally packaged today that may or may not be real useful it the most important information that would be hey how much memory has been allocated to to SGX how big is my page cache because I don\u0027t want to have a hundred and twenty eight megabyte page cache and trying to download a 200 megabyte a ta but so there might be some things that are limited but what what I wanted to let\u0027s see do we have the other oh this is not the latest set of slides it doesn\u0027t have any of the pictures in them yeah this is the last slide okay yes "
  },
  {
    "startTime": "01:41:19",
    "text": "okay yeah so let\u0027s go to then slide 14 okay sorry for that folks the the right slides are online so we\u0027ve talked a lot about sort of how applications are packaged could you go up to the toolbar and do the plus yeah that\u0027s good okay so so we\u0027ve talked a lot about how TAS are packaged and and some of this has to do with how they\u0027re signed so I spent some time you know thinking about this from an SGX perspective kind of folding in some of Dave\u0027s ideas and things and so as I look at this or as I think about this I see kind of four quadrants along the top I\u0027ve got my TA package with my client app and on the left-hand side the TA is fully signed so it\u0027s it\u0027s got the right signatures for the TA to actually be able to be deployed and run on the platform on the right hand side the TA may be signed it\u0027s signed by an SPE or developer but it doesn\u0027t have the right signature for the platform and so this is where it might be interesting to be able to for the rich app or for ot RP to be able to send that that bucket of bits that the T that is the TA and say hey can you sign this for me so that I can run it on this particular platform along the bottom you have sort of the more the more common ways that we\u0027ve been talking about TAS where they\u0027re they\u0027re separate and you could have the same kind of situation as well okay all right so so in the case where the TA is packaged with SGX you would install the application by some means whether it\u0027s a USB stick or something like that you get that onto the application and then the client application has to run and it would have to talk to some teep agent or broker or something and say hey is my TA properly signed if it is then the application would just load it and and run it and there\u0027s no need for for Tim interaction the teep agent could do sort of a courtesy registration and say okay now I know I\u0027ve got this this TA that\u0027s that\u0027s running there\u0027s no really security domain maybe it\u0027s a security domain of one if if we choose to look at it that "
  },
  {
    "startTime": "01:44:21",
    "text": "way when the client app goes away the TA goes away if it crashes the teep agent may not even know that that it\u0027s gone there isn\u0027t really an uninstall or an update or a delete ta because it\u0027s very etheral the goat goes along with the the client app so go ahead to the next slide but what if the TAS weren\u0027t bound to the client app or we chose to treat them that way right then we could use teep as sort of a TA registry which is more in line with the way that I think being you\u0027ve been then looking at it right and so the client apps could ask for a particular type of TA and the platform\u0027s registry this would have to sort of be done through an untrusted interface and and one of the things that\u0027s leaving me a little uneasy is when I get that TA back to the client app how do I know that that untrusted part of the T pagent didn\u0027t lie to me you know maybe the Enclave gave the right bucket of bits back to the t p-- agent but the t page and lied because it doesn\u0027t like me and and sends me the wrong bucket of bits so the client app and and this is an issue because the client app is the one that has to instantiate it right in in the Trust\u0027s own side when you ask for a TA it gets instantiated by a trusted agent inside trust zone but in in sjx it doesn\u0027t work that way the bucket of its kind of has to come out and then get put back in so it\u0027s good to the next slide so so the way I kind of thought about this is so you install the app and then in step two you say hey I need these to these TAS right and so I showed that I\u0027ve got some dependency it\u0027s probably a manifest that\u0027s signed or something like that and and that would go into the heap agents Enclave and then that tip agent Enclave would would go and talk to the Tam now obviously that does have to I didn\u0027t show it here because it gets a little crazy it would have to go back out to the cheap agent and the cheap agent would have a socket right out to the Tam and then that Tam act interaction would either get assigned ta if it wasn\u0027t in the registry the the teep agent the Enclave could maintain a registry of TAS just like we do in in trustzone whether we want to do that or not becomes interesting as we talk more about you know normally the SGX enclaves are tied to a particular application and that\u0027s because keys and secrets and things like that are sealed to the Enclave so if we share if Hannes and I share a TA then or an enclave in "
  },
  {
    "startTime": "01:47:22",
    "text": "the SGX case then I can see Hannes keys and misused them because I\u0027m an evil guy and then I could you know sign him up for a big debt or something like that and get the check so there\u0027s reasons why we probably don\u0027t want to sign duty share TAS that way and that\u0027s something we can can talk about us as we move forward but if we did that this this would sort of be a way to allow that to to occur in that in this case then you know uninstall an update and delete of TAS actually makes sense because you\u0027d be talking to to this registry I still think we have some sort of issue with return when the teep agent Enclave returns the in in the last step returns the TA to the untrusted app or the client app it has to go through the teep agent and and that\u0027s where the TA could be could be attacked and that becomes problematic not not so much that the TA itself could be changed because the integrity will be checked on the load by SGX but if I don\u0027t know what specific ta I\u0027m trying to get it might have other functionality in it that would allow someone else to do something that I don\u0027t want it to do so we have to sort of talk about that and that may require the client app to do some additional verification like I said in yellow there right do some sort of secondary verifications this really the TA that I want to check the hash check the developer signature on it check the version number and like that so you know and as we as we kind of use some of these sequences to talk about like the the T IDs and the our IDs if I\u0027ve got multiple TAS talking to the Tam I don\u0027t have a I may not have a universal agent right talking to the Tam so how we do that how we get that the our IDs and things like that to work become interesting and then though the next slide I think is the summary so as I as I thought through this I try to reduce down what I think we need to do I think we still need lots of conversations about how the app is is packaged and what T messages apply to that and how what security implications we tie to those but other than that you know that that\u0027s sort of that ta delivery within a client app we have to talk about how that works and make sure we preserve the security efforts to be supported as an optional algorithm we "
  },
  {
    "startTime": "01:50:23",
    "text": "should look at post quantum key sizes and and increase those because I think they\u0027re they\u0027re kind of the smaller sizes and at least make those optional to support I think we already talked about the secure boot stuff I think one of the things we haven\u0027t talked a lot about being and I think we need to have that conversation is what is the security domain really doing for me what what do I get from that I understand sort of the container aspect but do I get access to shared keys do I get access to shared data what does it mean to package to TAS and one security domain other than just ease of management right ease of management could be one thing but what does that mean inside the t\u0027ee and make sure we crisp up that definition and if we\u0027re going to continue to use that and I think it\u0027s fine to then say in some instances like an arm there there can be a security domain of more than one on STX it would would likely be just one and then we\u0027d have to look at if it\u0027s valuable how do we simulate that because I think we could do that if we needed to and I think we\u0027ve already started to address some of the platform specific things that that are there so so that was that was really fast through SGX if you see me around and you have some questions please feel free to you know ask me I\u0027d be very happy to talk to you about it some more but maybe there\u0027s some questions over what what we\u0027ve talked about we can go back to some of the other slides if we need to now it\u0027s the time to speak up so procedurally dave has put the list of the recommendations and I think I don\u0027t remember if it was Hannes or main so we\u0027ve already talked about having support of the ta delivery within a client application so I guess rather than reading each one of them again since dave has already gone through them the question that I put here is are there any objections to the musts and shoulds that are on this list two comments the first one is about eep-eep and in some sense you raise the question of like how do we accommodate for different attestation mechanisms because it\u0027s not just the algorithm it\u0027s it\u0027s more than that right and and you propose or do you sort of brainstormed about the idea on the a token usage and and maybe that\u0027s a way for it depends on how that\u0027s moving along but it\u0027s it is a need an issue that will have implications on post protocol document "
  },
  {
    "startTime": "01:53:25",
    "text": "but also that the architecture document in in supporting those since we talked about the key usage so that\u0027s a I would say a bigger change the other aspect you refer to post quantum and I always at least for me I associated with post quantum algorithms more like the stuff that Russ is doing with hash based signatures not so much with longer ki lenses like as you had pointed out I think those are recommendations for today\u0027s usage and maybe we need to really like I think it would be great if we could just have ICS CF Archie recommendations in general because that pops up in different groups I just had this discussion recently in the in in the ACE group on what key lens and what algorithms should be used and is that is we use this P 256 r1 now and to be recommend for something else for the future and so on and so on it seems a topic that is across working groups so I would prefer to just defer this to some other group and just make that recommendations and be done with it yeah I think that\u0027s fine Hannes so if I were to interpret what you\u0027re saying for the third bullet I don\u0027t think you\u0027re objecting I think it\u0027s just the question of how we move move forward so again the question on floor is because of time please only speak up if you have objections because we\u0027re getting short on time things on this line Hank yeah I agree with disagree with tip should not require secure boot attestation I would agree that steep should not require the deprecated six-year boot and then now current it is to offer to get a boot because that is what it is now I would strip the term attestation from secure boot entirely every what chip must avoid definition and of operations is okay and definition operation secure boot again is deprecated it\u0027s authenticated Buddha okay so you\u0027re really objecting to the fourth one I\u0027m I want to cure boot as legacy and authentic authenticated Buddhist current and I would not attire attestation to secure boot because this makes no sense and and again I\u0027m just trying to get the clarification and of time what I\u0027d like to be able to do procedurally is for the ones that we need objection or clarification we\u0027ll put them back on the list keep them as an issue track okay right the other ones just to get confirmation otherwise I don\u0027t want this to go on right thanks the first was a question a second bullet you piti remember actually use it but I saw there\u0027s a inter has a pattern art so with didn\u0027t you see in the beginning so we wanted on the past adjust you see a I know you have the key you to play the "
  },
  {
    "startTime": "01:56:26",
    "text": "same role I think that there\u0027s many ways to allow algorithm agility including ways that include things like I Anna registries and so on and so there are ways to allow vendor to do vendor specific things have been done another protocols and David you\u0027re saying should there be some way to allow a vendor specific algorithm here because there\u0027s a use case for that for using epital be nice if there was some way for that vendor to use this protocol okay okay yeah that\u0027s yeah muscle suppose I don\u0027t but I think in a sort of pull later I said a pony I say should support quarter AB selects a it\u0027s all it does but I say that was to me is that sure to support our maturity and our maturity we can post more quantum as a harness away well same page right it\u0027s a really Alchemist all right you see a nice is broken by a quarter more potentially right so sighs we all have a charity there I think our maturity as a requirement say the sport ago must support our community I think we already do that today but they\u0027re okay I\u0027m not hearing the objection so yeah so what we\u0027ll do is well we\u0027ll put the fourth one as an issue yeah we\u0027ll put the other ones as confirmation on the list and it sounds like you know what I would ask for those that have spoken up is to make clarifications Honus and named right to the third one for the post quantum to put the recommendation for how we could move forward to them hearing on no judgments sorry second then third okay any other is is that okay thanks Dave okay any other well I know I I can I can ramble but no we\u0027re down to one and a half so last order of business that everybody signed the blue sheets okay so just come on up and so look for the github and then once I guess one of us we\u0027ll set it up we\u0027ll start working through the issues there for each breath thanks everyone "
  }
]