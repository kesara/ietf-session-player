[
  {
    "startTime": "00:01:10",
    "text": "all right okay and let\u0027s okay welcome everyone to the first session of faith and we have two sessions a one today and the other one is Friday morning Friday morning we have two hours and now we have an hour and a half so let\u0027s get going I think that is that note well bye-bye now hopefully you\u0027re familiar with this so in the blue sheets are out there already we\u0027re looking for EM javis pride many taker volunteers jabber or many take anybody amis don\u0027t even know what is yeah yeah net are you all in jabber no no anybody in jabber no okay anybody can help us with jabber no nothing you just need to relay a question yeah just just relaying questions not going to type anything it\u0027s easier thank you okay let\u0027s get going so our agenda and we have ten minutes for a chairs update and then Daniel will talk about the office workshop for five minutes in a dick will entertain us say about reciprocal or off after that Daniel will then talk about "
  },
  {
    "startTime": "00:04:11",
    "text": "security BCP and then Justin will will entertain us this time of what\u0027s really a lot transactional authorization and hopefully we\u0027ll have enough time for Anibal if if we can\u0027t get that we\u0027ll have to just squeeze it into Friday we\u0027ll see okay okay so let\u0027s get started with that without date thanks for to Roman we had made lots of progress recently hey thank you and and to that authors too and so um it the first one we\u0027re gonna talk about this in later a I think on Friday that which is the the access talking dot in the profile for that Vittoria we\u0027ll talk about this on Friday in that browser based app we\u0027ll discuss this - on Friday a device flow I think it\u0027s say in the editor queue and there are some editorial changes it\u0027s hopefully will be done soon a I don\u0027t think there is anything blocking there in incremental authorization I think that this is something that we the chairs will will have to pick up a name and write up on this one I think that the document is ready to move on but we were kind of trying to clean up stuff because we had lots of faith other documents and don\u0027t know what the latest willed it with this one the jar Roman I think it\u0027s it has a discuss if I remember and right oh right so this is the long-standing document that was delayed we didn\u0027t have enough balance where there is an issue cut with the state then has put a discus on it so we need a follow-up to discuss that that had so I think we\u0027re gonna need a new draft to address this Kaulitz okay I\u0027m believe the hops here okay yes look at you yeah it\u0027s really terrible what this document things through so far yeah Jana Jana okay enjoy we\u0027re putting all their oath because I\u0027m a tentative job concern was all up between the choke place so they "
  },
  {
    "startTime": "00:07:18",
    "text": "get closest to the mic yeah so this is that second right so the discuss was about the concerns between the child claims and all the parameters both Lucas parameters because your oath because parameters are recorded inside the jumped so there has to be some kind of coordination between Diana ratios or Lucas parameter and jolt and that\u0027s what we have that Campbell thing at one point the same issue was raised with respect to effectively the same document and the open ID baby connect working and I understanding was that it had been decided there that that document on morado sir the most commonly used cleanse those that were most likely subject to collusion in the ANA registry for OAuth parameter names did that did that ever happen or is that being considered as part of the solution it did it it did not I\u0027ve gotten two different answers so I don\u0027t know dozen I don\u0027t know but they have not even Denikin\u0027s registered alexia so should that does that need to be considered before we do something else with their registries to try to combine them but the scope of what you said they\u0027re not was a little bit concerning so I\u0027ll definitely look into that all right so it\u0027s two separate registries right yes there has been some fixed advising died and the coordination because so it\u0027s what I should actually register all the authorization trainer authorization paradis into the JWT is this something you guys could sort out during this week and come up with a sort of an idea I think them till the next session how is that reaching we would really like to finish this awesome in Picasa this was for sure okay um thank you a BCP oh yeah gotta discuss - "
  },
  {
    "startTime": "00:10:27",
    "text": "okay or that in Iran\u0027s document Mike you Mike what\u0027s that what\u0027s that Elly just literally BCP what\u0027s what\u0027s the latest on that document it has a we believe a discuss like what\u0027s the first plan for that yeah we have reviewing the comments there\u0027s responses but she created just some of them response to the rest of them it wasn\u0027t the kind of discuss that you know it\u0027s at the tenor of we\u0027re going to stop the document it was the kind of discuss where we\u0027re trying to improve the exposition of the text okay and so here create responses to that discussing progress okay awesome good thanks Mike okay um I think there was the good progress with the introspection response documents I think they have it\u0027s waiting to anything there were some changes made based on my review all the issues were cleared but there\u0027s one minor finesse okay MPLS I think you it\u0027s a idea of last call already right yeah so the key distribution one is an interesting topic because last time I talked about this briefly and then there was this question that came up of what in a case where the key that the client is presenting for inclusion into the access token it\u0027s not the same that is being used for authentication by the client to the authorization server and we tabled that issue and a co-worker of mine did a formal analysis of it in which concluded that it\u0027s fine from that point of view and I he posted it to the list but there was no follow-up discussion on this afterwards so maybe this is also a topic that a few of us Daniel and and and I and maybe who someone else who who is into that topic "
  },
  {
    "startTime": "00:13:27",
    "text": "should discuss to me we can come up with a story specifically in the context of people because it touches on that aspect as well and if if you guys think we should nevertheless sort of have a separate mechanism to prove possession of the private key from the client to the authorization server in the specification which is currently not they are currently it\u0027s only from it would be done from the client to the resource server then we need to do that as soon as possible because this is a document that\u0027s fits into the ace work where we tried to make alignment and you may remember all these discussions that we had with the ACE group and so this is sort of the HTTP part of the counterpart of what they have been doing in coop so we need to figure this out I understand that this is maybe a little bit beyond what most people want to look at form an analysis of specifications but I think it\u0027s a good good thing that we do that Robin do you have a plus-one anytime we can Alice was actually something that we did a tutorial on at the our security workshop which I think Oh a security workshop and will again be covered later okay good thanks and okay reciprocal I often talk about later on a resource indication I think it\u0027s a idea last call a skills topic we\u0027ll talk about this later on and and how can exchange a same thing it\u0027s a thing idea last call is it now token exchange has progressed it\u0027s been approved by the I USGS is the editors cute okay quite close okay awesome good and kill him okay next let\u0027s move on how do we get amethyst no that\u0027s not what was how do you accept this thing okay okay Danielle do you wanna come up here please yeah yeah yeah screen it go try now yeah thank you as many of you know we have this Roth security workshop since 2016 the fourth edition of which we held in March in Stuttgart Germany the security workshop is a place where we have three days of talks and escape "
  },
  {
    "startTime": "00:16:27",
    "text": "discussions we have lots of time to discuss is discuss issues in death much more than we have at this event it started out as a venue to discuss security topics but nowadays of course we also talk about many other topics in the earth space and of MediConnect space at the latest iteration of this workshop we not only had a pre-scheduled schedule but also an unconference time which I think was very useful people can upload a lot of interesting topics and a lot of also spontaneous ideas to discuss stuff now the question is where do we want to hold the next event and so as you can see the last ones were in Korea Germany and Zurich in Switzerland train to Italy an intricate in Germany and I would like to find a location and a time for the next event where can we do that well I heard two proposals regarding that first one is Stein enorm he proposes to do something in Norway there are multiple locations possible for example Oslo at run time of course they are also much more remote places in Norway where we could go which is essentially a trade-off between travel time and location quality thanks Robert what\u0027s that yeah and we can also do that and stood that at the group of course as they said they would at least fill in if nobody else would do that they could host the event as well when would we do that well if we have it in Europe then maybe not we don\u0027t attach it to the ITF event 107 which in Vancouver but we might do that and may where the EIC is Munich or close to the ITF 108 event which is in Madrid Spain I do an assent that Spain is not exactly close to Norway but I think it\u0027s close enough it\u0027s the same continent exactly okay does anybody have another proposal something that is in favor or against one of these locations so if you if you have some contact to universities or if your company is willing to host such an event and we are talking about like a 50 person pair of events s say 70 was 70 then you want to go to the microphone oh "
  },
  {
    "startTime": "00:19:35",
    "text": "yeah the computing science department at UBC is quite likely to want to sponsor something like that so if people want me to pursue it then I can I like Norway I have reason to go to Tron time so I\u0027m sound with that make uber is also not well but very cool study I see I may be here it\u0027s good so um please think about it and please ask your employer or friends from the University we would like obviously start planning fairly soon yeah if you want to host there okay Scandinavia going strong send us a letter that\u0027s Oslo I should eat says that she can check on for drug sponsoring first all UK in terms of places that we\u0027ve been Scandinavia is more diverse than Vancouver yeah that\u0027s right okay so if you have a good ideas or know somebody who\u0027s willing to sponsor this just contact me we are probably make a decision here soon thank you thanks Daniel dick lower everybody so the last time I talked about this Hans was confused as to how it worked so I put together you were I was giving you the benefit of the doubt about other things but it wasn\u0027t clear at times I get confused thinking about it like who\u0027s doing what and where is it going because it\u0027s you you\u0027re you\u0027re switching back and forth quite a bit and so I added to the draft ASCII art diagram "
  },
  {
    "startTime": "00:22:35",
    "text": "which I\u0027ve got in Nice art here is that big enough people can kind of see that people in the back can you read it ok excellent that\u0027s beyond my graphical capabilities but also the ASCII art then is in the text version also as opposed to not and I already grew it so this was easy to do in keynote so this is just your standard Oh awesome how you go and you get an authorization request to the resource owner you get some kind of grant back and then make a call with that grant and then this is the one place where things change which is the authorization server says hey I would like to go and get a token as well optionally and can go and put in a request of which scopes it would like to have at that point the plans really starting to change to be the resource owner and it\u0027s saying okay well here\u0027s what the reciprocal this is what the other guy wanted if he asked it otherwise it\u0027s potentially pre-configured what the other what party he wanted and then the resource runner calls the Aussie server did you have something you wanted to add Mike okay can I can I start again thank you Mike so that it hands over the grant and party B knows the context because it\u0027s getting back its access token and so that\u0027s why we can sort of do this behind the scenes because you\u0027ve got context there before the resource owner sends out over there\u0027s likely some interaction because from a user experience point of view if you\u0027ve if you\u0027re going through the browser you\u0027re back over at the party that started off making the request and then you can ask the user is it okay for the other party to acts do these things with you and so you would be getting consent from the user at this point before you make this call over and so you make the call over the other side knows which user it is because the access token and ends a grant over and the client then goes and does the reverse of essentially what was see there and oops oops I was I pushed the wrong button back and then it gets back it\u0027s access token that\u0027ll make sense or is it still confusing okay so that\u0027s not about it which hopefully makes it more clear to people what is going on in the process I think last time people made a "
  },
  {
    "startTime": "00:25:35",
    "text": "couple of comments on the dock which I didn\u0027t take his notes and and I didn\u0027t put him in there so if they could make those comments again well actually I think I did take him as notes but I don\u0027t have that laptop anymore so they went away and everything is it Gordon you too obscene I know but that\u0027s something I don\u0027t know that it was in the minutes of the meeting it was something I wrote down okay so I think maybe we\u0027re ready for last call on this or people people to read it over and look at some knits of anything so can we can we see shelf hand to read this document diagrams the only main difference two three four okay was that you half read it Brian yeah so yeah I guess okay we didn\u0027t see any significant kind of changes or requests to change something so I it seems to me so so yeah it seems to me I think it will force also people to kind of look at it again so I I think we it makes sense to call for a wake up last call and see how that goes right so it\u0027s it that\u0027s we think we\u0027ll be doing here good is it launches into this diagram immediately so there\u0027s no like a one paragraph introduction and then there\u0027s this diagram it\u0027s something that would be helpful I think is to just prepare the user with a you space right in the in the introduction you have this sort of generalized here\u0027s here\u0027s why we\u0027re try to do this right but I think before we get to the actual flow which is great by the way you know kudos today but I think that we\u0027re really helpful to have a use case as something that the reader to use the flow to read against and I know I did say this at one time but I I know there\u0027s nothing to be done here but I hate the word reciprocal because we have a mutual draft and now we have a reciprocal draft and the mutual draft is all gone right and because that does "
  },
  {
    "startTime": "00:28:37",
    "text": "this funds as well if there were another word in English that you can think of that wonderful but that\u0027s just a suggestion Thanks now if you have a no less adjusted word since we did move from mutual to reciprocal yeah to keep the different mutual because it\u0027s otherwise confusing right go ahead Dana what we\u0027re talking about at least if there are two resource orders or just one in this case it\u0027s just one resource or in doing these authorization from for the both parties right did you have my question I understand the current thinking the use cases I think of there\u0027s one resource owner but I\u0027m thinking there\u0027s situations where there may be more than one but I\u0027m not sure so I don\u0027t know I don\u0027t know yeah let me let me think about that\u0027s a good comment yeah yeah and then I\u0027d have to change your diagram and just say resource owner instead of a and B yeah that\u0027s a good comment as was the the suggestion to add a use case I will do that thank you okay I think if if you can update that the draft with the latest comment just to address those and then we\u0027ll we\u0027ll call for a wittle blast call now that bogans okay so it\u0027s good okay I will do thank you thank you okay yeah that\u0027s good yeah I think Daniel well use the browser well this is Friday let me just asatyam the first slide is not that important so it\u0027s me again hello so I\u0027d like to talk about the author security best card practice it\u0027s currently your working "
  },
  {
    "startTime": "00:31:37",
    "text": "group draft and it\u0027s very close to yeah finish state what does it what\u0027s in the draft well this BCP refines and enhances the security guidance that we already give for example in our c 68 19 and also in the security considerations of 67 49 and sixty seven fifty the important thing here is that we have a updated and more comprehensive threat model than before we have described many attacks that were discovered recently over the last years let\u0027s say and we have concrete actionable recommendations for implementers of oauth2 to defend against these attacks what did we do since the last ITF well I have not been to many changes one changes that we now discourage the use of the resource owner password credentials grant we say it must not be used I think the reason is pretty clear this grant type exposes credentials to the client it\u0027s essentially a plant men in the middle attack it increases the attack surface that users exposed to our users credentials and it\u0027s not are not easily adaptable to many modern authentication mechanisms like two-factor authentication web authentication web crypto and the mighty self authentication that you have for example at Google we say the resource on a password credentials grant must not be used the next thing is input by via madam he noticed that in some rare cases a client may be able to impersonate a resource owner that can happen if there\u0027s a confusion between this cell claim that is used for a client in the client credentials grant and the sub claim that is used for a resource owner in the authorization code grant this may happen if for example the client uses dynamic registration and the client itself can influence its sub value that is later used by the AES for that client yes just how the client is not allowed to choose its client ID in dynamic registration so with us anyway it to essentially influence that ok so just if it\u0027s a live set some other field and then it I would recommend that that language be very clear that it\u0027s not talking about "
  },
  {
    "startTime": "00:34:37",
    "text": "picking client IDs yeah that\u0027s right yeah I think I think it should be a fit but we can\u0027t talk about them yeah ok yeah and then the yes so the subtle value might be influencing them confused for a set value of a resource owner so the recommendation is clear the client should not be able to select or influence the set value that is later used for the client the next batch of changes is around pixie we encourage the use of the pixie mode sha-256 instead of the plane mode this is because the authorization request might leak to an attacker or parts of it might lead to an attacker or whatever so it\u0027s a really good idea if the pixie challenge is a hash of the verifier not the verifier itself therefore we say that the client should use a pixel Coachella or should use pixie code challenge methods that do not expose the pixie verify and the authorization request which currently is the sha-256 mode essentially we also say that authorization service must support big zoo because pix is super useful optimization service should publish pizzas abroad we go back to that point in a moment and we say that under certain conditions that we define in the BCP pixie may replace state for CSF protection and if pixie is used instead of State for CSF protection then you\u0027re free to use state to carry application state or whatever you want we have defined the conditions under which client may opt not to use state but pixie for CSF protection because it\u0027s very important that the client knows what a does in this case is so yeah so we have essentially two open topics that we\u0027d like to discuss the first thing is do we want to make meter data so our sis 84 14 is metadata mandatory the background is a client can rely on the protection that pixie provides only when they know that AAAS supports pixie so in particular if line need to know if the air supports pixie for example when they want to drop using state as a CSF protection so the question is kindly we say the AAS should use metadata to "
  },
  {
    "startTime": "00:37:38",
    "text": "announced support for pixie but we could also say the AAS must use metadata to announce the support for pixie and because we also say that every a s must support pixie this would mean that the metadata our C essentially becomes a mandatory to implement for or authorization service in your opinion would this be a good idea I think that maybe mandating the use of metadata no matter how tempting it may be for some of us might be a step too far I think it\u0027s probably okay to say if das doesn\u0027t advertise Pixy units metadata or have a metadata you can\u0027t assume that the server does pixie so it\u0027s not safe to rely on it yeah that\u0027s essentially the consensus yet so I think that\u0027s probably okay yeah Victoria rzf looking actively our physicians have a sidewalk with I don\u0027t think about these would be reason enough to catch your to actually adopt metadata mostly because most of them are already use the open and he committed for the information that we needed to publish such as signing keys if value suppose it claims and signal so if you wanted to meet what they already have if you find a way or bottom visa to they open at the connect metadata she\u0027s ecstatic at it but why we use banana you could I think you\u0027ll have more success in trying to get people to know but the official server method if I haven\u0027t seen a lot of people would go to the lecture just reveals yeah John there\u0027s no reason why it is same metadata entries can\u0027t be in the open ID Connect metadata that\u0027s sort of the world normally works anyways and we have this sort of pod situation because of get off my lawn the way that multi-tenant metadata works is slightly different between open ID connect and a watt but in general it\u0027s the same I am tracking from octo would it be another alternate to say that it\u0027s he should be announced in documentation with that like be an acceptable way for "
  },
  {
    "startTime": "00:40:38",
    "text": "clients to know whether the AES supports it documentation like one knows which is talking about seems like that it\u0027s other things yeah actually I so this is a bit abbreviated sir one solution could be to write that all the the text that we would use would be AAS must use meter data to announced support for pixie or another way that is implementation specific which could be the documentation okay okay so I any other comments on that no okay so yeah one one solution would be must or so must meter data or another implementation specific way okay and the next topic is an attack that is possible on the earth under certain circumstances that we discussed them stood guard briefly and that I\u0027d like to discuss a bit more here because I\u0027d like to write something on this attack in the BCP because we know of this attack we need to write something and yeah the question is what we write it\u0027s called the pixie chosen challenged attack although it\u0027s not a direct attack on pixie that it circumvents pixie in a way in order to launch that attack we need an attacker that can read the authorization response there are many ways in which this could happen for example costly your is leaked or locked somewhere maybe because there\u0027s a mix of attack but all this component used on the mobile device which leaks this your eyes or something like that and an attacker needs to be able to bring his victim to open some arbitrary URI and now the attack works as follows the attacker starts a session with a client and gets the authorization request your eye from the client so the attacker just starts okay says just start a new session get the authorization your I now the attacker forwards that authorization UI to the victim unmodified and a victim will open that your eye and see the authorization / authentication dialog at yes why would the victim now authorize / authenticate well maybe because the victim was expecting something like that but maybe for a different map so the "
  },
  {
    "startTime": "00:43:38",
    "text": "victim might be tricked into authorizing the client the victim doesn\u0027t even see anything regarding authorization authentication we\u0027ll get back to that in a moment so the victim authenticate and authorizes the client to access our data and then the redirection back to the client happens but now since we are new users browser not in the attackers browser the redirection back to the client will not be accepted by the client because the client doesn\u0027t have a session with that user and as I said before now the attacker can read the redirection response the authorization response so the code leaks to the attacker and the attacker can send that code and whatever else is in that URI through the client the client will exchange the code for a token and will use that token from now on in a session to which the attacker has access to so the attacker can use the grants associated with that access token through the client okay so essentially what happens is the authentication / authorization part is out sourced by the attacker to the victim so what can we do against that as it turns out none of the existing defenses involve help against that we could use token binding yeah but there\u0027s the lack of support famously in some browsers we could use the form post response mode which would be a relatively big change depending on what your implementation looks like it\u0027s also not suitable for apps we could check the origin or referer header at bas so that the hess would see that the authorization request comes from a different religion unfortunately the authorization request is a get request and the fetch specification says that there\u0027s no original error in such a request yeah and that\u0027s essentially the end of the things that we could do I discussed this with John yesterday and we came up with a new mechanism a relatively simple mechanism which could defend against this attack and I called this mechanism eyeball which may or may not resemble the Scandinavian furniture but it stands for integrity verification faltered and authorization requests the idea is as I said relatively simple das needs to "
  },
  {
    "startTime": "00:46:39",
    "text": "check that the authorization request actually comes from the client itself not from the attacker so the attacker didn\u0027t forward anything to the users browser how would it do that the idea is that the client in its metadata publish a so-called I value or I the client then before redirecting the user through the authorization server Stross the authorization request URI in the web storage of the user\u0027s browser in its on its own origin of course now the users being redirected to the a s and the a s then opens an iframe from the I value RI and sends a post message to that iframe that post message would just contain the authorization request URI as it\u0027s seen by the a s the I would check the local storage of the of the client because it\u0027s running on the clients origin would then see okay there\u0027s an entry of that URI and would then answer okay and if it doesn\u0027t answer okay das doesn\u0027t continue with the authorization flow so what we\u0027re doing is we\u0027re ensuring the integrity and origin of all the data in the authorization request your I and while this seems like a big change I think it\u0027s actually not such a big change because for example if you don\u0027t have JavaScript enabled you can safely fall back to a mode which doesn\u0027t provide provide the protection by Iowa but still works we can we have integrity / origin checks for not only the pixi data or yeah anything so we have the full authorization request URI that is checked so state nonce request your I if you\u0027re using that and also the redirect URI so is and we\u0027re also getting rid of many or most of the attacks targeting the redirect URI and this is this mechanism protects against at least three attacks that I know of the pixie trolls and challenge attack attacks using a manipulator redirect URI and at least one very end of the AAS mix at attack another person so this is this is value as I said I came up with John and I came up with the "
  },
  {
    "startTime": "00:49:39",
    "text": "idea yesterday so I wrote a draft on that and I\u0027d like to hear your feedback so sorry is that a separate draft or is it both of this that\u0027s a separate raft so in the security disappear we would probably make this informal reference because we would not say you have to implement that but we this is one way to do it you could also use token binding if you know the browser supports you could also use the forum post mode if you are willing to change your implementation or you could opt for not doing anything like this if this is not in your attacker model this is the best idea I\u0027m not proud I\u0027m not don\u0027t feel clean about it or anything but it is anything it\u0027s pretty much the only effective thing that we could think of without token binding so combining would be a better solution this does run the risk of being blocked in Safari by apples somewhat over actually I don\u0027t think so so I I checked some of the documentation that is available and they say yeah at some point of my church because we\u0027re doing something using post message with iframes cross-site it could get swept up in anti tracking technology in the future so it\u0027s not without risk but it\u0027s something you could do so the current status regarding its islets I read some documentation on the and tracking protection mechanism by Apple maybe there\u0027s somebody who knows this stuff better than I but as far as I understand the current policy is that if you interact with some website and then this website is used in a third-party context then then it\u0027s fine so cookies or web search will be preserved in that sequence of events what\u0027s that an umbrella yeah so top-level window contacts your interact with the client that\u0027s work that what we see here and then it\u0027s loaded in a third party context that should be fine with the current stats I understand Chrome and Firefox also are supposed to be blocking local storage when third-party cookies are disabled so this is not just a Safari issue given me increased attention on things like third "
  },
  {
    "startTime": "00:52:39",
    "text": "party cookie settings this strikes me as any solution that has a very short effective lifetime yes sir as far as I know the blocking again effects cookies set in a third party context this cookie / rep stores would not be set in a third party context but read their cookie settings generally block reading as well otherwise they\u0027re pretty ineffective from all origins so that\u0027s also just can\u0027t speak to specifics but yeah I would I would be very nervous about this surviving future reservations it you may need at least no sorry later wasn\u0027t it it looks like you you\u0027re like a bunch of stuff like you\u0027re a cookie or and a lot of other stuff relate to do it is being sandbox that\u0027s how it appears to the browser right so you it looks like you have a cookie or in your hammer as locals or is sometimes but if nothing ever persists so you know it\u0027s like an empty it\u0027s an empty object always so you know it\u0027s not gonna it\u0027s not gonna be it\u0027s not me to experience yeah hi yeah if you can\u0027t redirect the user to like a main browser window in the flow then this proxy wait to the mic Philip says WebKit\u0027s IPT 2.0 is famous for blocking cross-origin access to local storage so disabling javascript isn\u0027t the only case it is in the only case of fallback would have to run for our set that\u0027s what so disable javascript isn\u0027t the only case a fallback would have to run for yeah let\u0027s write all the details of the technics really not how to\u0027 combining with citrus I\u0027m wondering aloud there are a great number of similarities between token by name works in an alternative technically runs into the same crossover Chenin issues etc because you\u0027re trying to use it in the browser but what this does is Gerren provide the IDP a guarantee that the request from the client is coming through the same browser that the client said at the request to Deepak was not bound to the browser so it will just say "
  },
  {
    "startTime": "00:55:39",
    "text": "this is this is from the IP but it might be in a different browser well the sentence essentially the goal of token binding because you have the refer token binding that signed by the browser coming through so you get it provided in the referred token binding at the a s and when it goes back you can make sure that it went into end through the same browser etc so this is this is doing sort of at the application level a cookie thing that emulates referred to we can maybe we can do a say site session on that at a later and discuss yeah mitigations also remind us that rendering a blank page on every authorization endpoint do you execute this just blows a nice UX that might concern so yeah you could hide it something not sure anyway so we need to wrap this session up so what I will do is I will describe this attack or my planners to describe this attack in the OAuth PCP security PCP and also discussed some of the mitigations which might or might not include this mitigation but we need to talk about the attack because we know of the attacks are we shouldn\u0027t yeah just leave it out from the BCP but other than that the BCP is almost ready for publication so there are no big things we need to change and was it yeah yeah Vittoria sorry one thing about they must not use wrong ice apartment but I think it would be nice if we\u0027d have some kind of answer for some of those scenarios where people have absolutely no alternative like missing area where I stumbled upon very often in the last few years when we were trying not to make visible was a secret connection strings that imagine that you already are a wealth of states that to be the last 20 years you want to be able to use Wall Street Aziza yeah but no opportunity whatsoever of throwing anything at all because it\u0027s a connection stream so we can serve with that people don\u0027t use property but people will keep having to use these kind of things enemies the attempted use of physical servers as they are an authorizer it\u0027s very so those guys will be in non-compliance so if it\u0027s anything "
  },
  {
    "startTime": "00:58:39",
    "text": "at all that we can do for both scenarios that we deem wins matter than then we should hint that otherwise we\u0027ll just tell people you guys are orphaned we put all your way from the house of a father you cannot use ourself yeah well it\u0027s not like it\u0027s not like everything on the web needs to be your arthritis no it\u0027s that solution might just be all of the XS so I suggest we can watch people now saying if you wanna be self-sufficient that autism for example instead of leaving people in these people in which they really want to do the right thing that we even know yeah so we should just get splitted saying yeah sorry the your scenario you can\u0027t solve this Nadya using X there maybe you could propose the text for the that\u0027s fine now just for the through Google Translate any hope you guys yeah I feel a little bit uneasy about the fact that you just discussed this attack we had done it\u0027s very brand new baby no it\u0027s not then we first talked about that attack about one and a half years years ago well presented a PC or a security workshop but essentially might take away from the discussion sofa is like the beep it\u0027s a new document that you knew solution D the other solutions are not really why ever yeah but that document is essentially out of the scope of the DCP sir why is that so it\u0027s it\u0027s an old attack and we decided we would address it by using token binding for the request response and given that that may not be an option for a large number of people we came up with an alternative so the what\u0027s new is the alternative not the attack but we do need I see it is ready for publication in front of me and I feel sort of uneasy about sending the document over to Roman and say oh here\u0027s now the best current practice and then he would look at the dis lights of this meeting and say are you really sure and I\u0027m not um you know what I\u0027m what I mean well it\u0027s not like we don\u0027t have any mitigation we do have you know the oh the spec that we have that uses token binding provides a mitigation for this which we thought would be would cover it we can say use that also this will probably not be so unfortunately not be the last attack that we ever discover so "
  },
  {
    "startTime": "01:01:49",
    "text": "simple and actionable recommendations [Music] declaring the ECP a lot of conversation we said and so that is so we have to so we have to continue that conversation try to come up with a good story but it is thanks for for trying hard and using the time yesterday come here a few something okay think we are running out of time yeah yeah we do okay thank you Thanks all right can you feel screen that please can you can you fullscreen that please thank you all right well there\u0027s is another yet yeah it\u0027s not there yet so if it did now there we go except the clicker is not working yeah there we go okay we\u0027re good sorry I\u0027ve got about 18 minutes for 68 slides so we\u0027re gonna do what we can I\u0027m going to talk about who\u0027s who I don\u0027t shut up dick my name is Justin richer I\u0027m gonna talk what [Music] okay thank you stop talking now dick so we\u0027re gonna be talking about transactional authorization because if you look at where OS started about a decade or more ago we had two rfcs and the world seemed nice and simple but today it looks more like this there\u0027s a lot of other stuff that\u0027s going on in the world that you need to understand in order to understand what\u0027s happening with OAuth and it\u0027s arguable that a new developer needs to be able to thread their way through all of these and that\u0027s why we\u0027re building so many different DCPS to help people guide through all of this space in addition to that as we were just hearing there are a lot of cases where auth doesn\u0027t fit and so I\u0027ve been thinking that ooofff - as we know it and as we have it built today is really starting to reach its edges so over the last year or so I\u0027ve started to do an experiment of trying to see what it could look like if we kind of started with a new base so something that was not specifically OAuth 2 compatible and that has led me to the XYZ project so named because on a lark I bought the domain Oh XYZ and that seemed like a reasonable place to host this so that is a website you can go to and follow along during the talk I want to reiterate here that "
  },
  {
    "startTime": "01:04:50",
    "text": "this is not an extension to OAuth 2 this is not a profile of OAuth 2 this is not wire compatible with OAuth 2 and that\u0027s on purpose and I\u0027ll get - why in just a bit a lot of the problems that we have with OAuth - and a lot of the attacks we have are dealing with the front Channel and now the front Channel is a wonderful it\u0027s it\u0027s a wonderful innovation that\u0027s been used in the OAuth and open ID worlds because the user is there in the browser is an incredibly flexible platform but on the downside there\u0027s a whole lot of stuff that can go wrong when you\u0027re pushing information through the front channel now this is all reasonable to work with except for the fact that OAuth 2 puts lots of things through the front channel right there\u0027s a lot of stuff that goes on and this causes a lot of problems so many problems that we\u0027ve got a whole list and an ever-growing list of specs to close holes in the front channel so we\u0027re basically closing holes that we created in the first place so my proposal started with the idea of let\u0027s not use the front channel unless we absolutely have to let\u0027s only use it for very specific things and as I started to work on that I tried to take a step back of how could we do that with an OAuth like protocol and I kind of stumbled into the idea of using a transaction as the key thing now o auth has always been transactional it\u0027s all about the client getting a token and then getting it authorized from using a token and Center and so forth what I decided to do with this project was make that transaction sort of the singular key element so this is the intent registration pattern people are using this in extensions to OAuth today open banking UK Sivas using it families got their own edition of it and what I decided to do was if instead of trying to build something with OAuth to build a protocol based on this concept to begin with now the client starts by talking directly to the a s in the back-channel and sending a JSON post because it\u0027s 2019 we can use JSON in a request yay and it contains a bunch of different information about what the client is trying to do first off there\u0027s this notion of what I want Torsten loader steps got a really great blog post that talks about structured scopes and the kinds of things we want to see there you on a garden path about the actual things in here because as far as I\u0027m concerned there\u0027s a whole lot of debate that needs to happen the important thing here is that those are rich objects there are adjacent objects that can describe in greater detail what the client is asking for next the client needs to be able to tell the authorization server how to recognize me now this could be something so the client is going to send a key or key reference to the server much like it does with with depop and related things like that now this might be a key that the server knows before and it kind of understands that there are certain rights associated with it or it could be a key that the client has generated on "
  },
  {
    "startTime": "01:07:50",
    "text": "device because it\u0027s a mobile application installation instance and it\u0027s able to create that key pair and started off the important thing is that the client has to prove possession of all referenced keys with every call that it makes to the authorization server we\u0027ll come back to that refrain I think this is a place where we need to be flexible the thing that I have SPECT right now is just take that post body use the detached jws put it in the header call it a day we could use cabbage signatures we can use em TLS binding there\u0027s a lot of different things we could do and I think there\u0027s a lot of good innovation we can do there next up the client can say a little bit about itself so this is more the user facing information its display name its URI and stuff like that this isn\u0027t really functional information about the client because I found that in implementing this over the years so Ott\u0027s model of the client as an entity being a hanging point for a lot of things like what rights of access what types of functions you can do and stuff like that ends up being a little a little bit weird so in this case this is the client just saying here\u0027s how I describe myself how you recognize me what I can do those are all different things they may be strongly associated with each other but they are really different subsets of information this got brought up Vittorio actually raised this a little bit I think we really need to have a separate way to say this is the information I know about the user this could be an assertion this could be a set of verifiable credentials that I\u0027m posting this could be a user name password this could be any number of things that I\u0027ve collected to know about the user that I want to be able to tell the das we need to have a flexible way to assert that information to the EAS and let the AAAS make its decisions and finally and we need to be able to describe to the a s how the client can interact with the AH with the user so this is where we bridge to that front channel there are two parts to it and it\u0027s basically how can I get the user there and how can I get the user back in this particular example I\u0027m saying I can send the user to an arbitrary URL and when I get them back I\u0027m going to be doing a redirect to a URI that I host the canonical auth code flow so at this point the AAS has all of this information and it can decide what to do with it it may very well decide that it has everything it needs to do to issue an access token because that\u0027s the client credentials flow that\u0027s a lot of the token exchange flows that\u0027s all the resource owner to flow there\u0027s a lot of cases in OAuth where we\u0027re already doing this but we\u0027re doing different specialized things in order to do that or the auth server can look at all of that and say hey this isn\u0027t good enough and I need to talk to the user I need to talk to the user myself so I am going to send you to a an arbitrary URL that I host this URL needs to be unique for the given transaction request so this is not a an authorization endpoint URL that the client adds stuff to this is something that is generated and handed to the client just in response to this request because each step in this process needs to point to the next this closes the mix-up attack and a lot of other things "
  },
  {
    "startTime": "01:10:52",
    "text": "that happen in the OAuth discovery space because the client starts at one URL it gets pointed to every next step that actually proposed this in the OAuth world like ten years ago or something like that we decided not to listen I don\u0027t know why the client then sends the user over to that URL and it does not add any query parameters it does not have a client ID it does not add a state it doesn\u0027t do anything like that alright any information that the client needs to register for this is all sent in the back-channel before any of this happens so that all the client needs to do is say hey I\u0027ve got this URL I\u0027ll get the user over there and the authorization server looks up the transaction information based on that unique incoming URL that tells us what client we\u0027re talking to what keys have been verified what\u0027s being or maybe even information about what user we\u0027re expecting which can close a lot of the the attacker problems including the the pixie based attack that we were hearing about before if the client knows something about what use the user is user does everything that you would expect here and then they get sent back right now I\u0027ve got a separate state parameter that the client had pre registered with that transaction request and an interaction handle that comes back to the client and then the client needs to validate that state value and send that back to the authorization server now something that I kind of glossed over before was that when I got back the interaction URL I was given what\u0027s called a transaction handle that transaction handle is now used by the client that\u0027s the first field they\u0027re in saying I want to continue the transaction that I had already started and to prove that I actually sent the user and went and did something I have this trans I this interaction handle this is analogous to the authorization code right the client still has to prove possession of all keys that it referenced when it started the transaction even though it\u0027s now just presenting that transaction handle it has to have be able to show that it still has control of all of the keys it had when it started that and if this auth server decides that everything is all hunky-dory it can send back an access token and we are good to go now I can keep talking about this notion of handles and so far we\u0027ve seen how that they can be used for the for continuing the transaction these can be used actually all throughout the system so it might seem a little funny to people that like we\u0027re doing kind of a dynamic registration thing every time we\u0027re always sending client information we\u0027re always sending key information stuff like that that\u0027s kind of silly right I agree because the server can issue in response to either an initial transaction or an out-of-band interaction with the developer a client handle and key handle that the client can use in lieu of the the actual JSON document and the transaction request then looks more like this so instead of sending an object I send in this case a string because it was a bearer type handle it might be a hash of a string or any number of cryptic ethically bound operations that we could do with these things and I send those "
  },
  {
    "startTime": "01:13:54",
    "text": "over and the auth server looks it up and says oh I know which client this is referring to this is effectively replacing a client secret but not giving up that key binding right the access token itself can also come back with the transaction handle and why would we want to do that well in olt we decided that access tokens can now expire and so we had to invent this weird thing called a refresh token which was kind of a bearer token but kind of not and only in some circumstances and stuff like that well I got to thinking that what is a refresh token except saying that I want to continue this transaction that I had already started with you and I already got approved so we can use the same transaction handle mechanism that we use to get the token in the first place to get refresh tokens so I\u0027m just saying that that whole thing that we did before if you still trust me then I\u0027m just asking for the next access token that\u0027s associated with this transaction and again the client has to prove its keys every time what if I\u0027ve got a really trusted client and I want and the a/s decides that you know what you\u0027ve done all of these claims maybe it\u0027s not the resource owner but it\u0027s a third party requesting party kind of thing looma has this notion called the persistent claims token we can use the user handle in this protocol to do the same kind of thing that\u0027s that\u0027s a different rabbit hole we\u0027re gonna go quick and next up is scopes a lot of the a lot of the discussion around Torsten x\u0027 structured scope example is that the simple scopes are all are still really really useful but I got to thinking what is a scope except a shorthand way to say I want this actually rather complicated slice of API well if we just extend this notion of a handle representing an object with the client would otherwise send we can now have an API decide that if you want this particular set of API rights use this magical string which also happens to be human readable and typable in other words it\u0027s an OAuth scope one of the coolest things about this though is that you can combine the string based scope with the object based sort of more detailed requests which is something that developers have asked for four years in the OAuth space and there are clear semantics of how those things stick together because each of those simple strings unpacks to one of those objects and that\u0027s something that you need to be able to deal with any way inside your API very very quickly this works for the device flow as well I\u0027m basically going to say I cannot send the user to an arbitrary URL so I\u0027m gonna instead send them to a static URL that maybe has been configured on a webpage or is in the little sticker that came on my box but I can chirp out a user code and send to the user so okay that\u0027s great I\u0027m gonna tell the user go here enter that code user shows up does everything that you would expect enters the code and then the off server can "
  },
  {
    "startTime": "01:16:54",
    "text": "look up the transaction based on that user code because it can no longer do it based on the incoming URL because it\u0027s no longer an arbitrary runtime URL meanwhile the device can go and poke the server and say that I want to be able to continue this transaction are we ready yet and the server anytime it gets poked with one of these transaction continue messages can basically say yeah we\u0027re not done yet you know we\u0027re still waiting for somebody to go click a button or something like that hold off wait 30 seconds and by the way next time you talk to me here\u0027s a brand new transaction handle this has to get rotated every single time through this was something that we found in the to protocol this closes a whole bunch of problems when you rotate this kind of thing same thing by the way with the refresh token analog every time you would continue in transaction there you rotate the handle any time you come back from an interaction if it\u0027s not ready yet or you can do more things you rotate the handle so and since we had this discussion with the device flow what about a combined URL well what is a combined URL except saying that I can send the user to an arbitrary URL except that now I\u0027m saying I can send them there by painting a QR code instead of by you know sort of artificially mashing these things together you should be able to use these things side-by-side with each other there are two different ways that I can get the user over to the server to to interact all right what about identity and just wrote a Aaron correct you just wrote a great blog post about this I think that we can pass identity assertions back just like we\u0027re doing with OAuth today we can protect an identity API just like we\u0027re doing with open ID connect to know off today and we can also send identity assertions like I said at the beginning in ways that it really hard to do with OAuth 2 we can also bind tokens and very deep Popish kind of ways and OAuth M TLS kind of ways because we have a mechanism for the client to be able to present improve keys already to the authorization server we can extend that and say that this access token that\u0027s coming back is no longer a bearer access token is bound to a specific key that I can then reference and you have to use the same proofing mechanisms to do that a lot of the concepts of OAuth 2 are there they\u0027ve just been you see a lot of like underscore handle going on here because there\u0027s there\u0027s really a lot of abstraction that you can gain from this by stepping back from the sort of syntactic details of both to itself and trying to look at things a little bit differently if you really want to get down to it this came from a conversation I had with Chuck Mortimer over at Salesforce you could send in your client ID or client secret as your client handle and use it as your key handle you can send in your scopes as resource handles I mean a lot of this does kind of collapse into the same same types of concepts but in ways that allow you to also do it in a more rich and robust way without losing the simple expressivity "
  },
  {
    "startTime": "01:19:55",
    "text": "huge bunch of pros and cons I think there are a lot of pros to this I started working on this in earnest maybe about a year ago trying to hack apart or off and see how it could be a little bit different it out of the box does a wider set of use cases I mean them and the more legacy use cases that I throw at it the more I find that stuff actually fits uses some multi modal JSON in order to make everything you know fairly clean and and you know expressive I can do static and dynamic things there\u0027s a few moving parts which is generally better for security cons biggest one it is not backwards compatible this is not a off - it\u0027s just not we can do a lot of the things that this protocol does with OAuth 2 as a base we\u0027re already seeing it with happy resource object registration we\u0027re seeing it with deep hop a lot of the bits and pieces are ideas that are pulled from these other things but it\u0027s drastically simplified when we start with a different syntactical and more importantly a semantic model base to build off of alright it is a huge huge drawback that it is not a lot too compatible but I do think that these things can be deployed side by side with similar or related backing systems so you can have one registration system and you know a transaction endpoint and an OAuth token endpoint that kind of live side by side a downside is multi modal JSON because that\u0027s kind of tricky to parse and some in some cases but I will say I have implemented this in Java which is one of the most annoyingly strongly typed languages out there so if it\u0027s possible in Java I think it\u0027s possible in almost anything and my codes up on github it\u0027s linked from the site so it\u0027s you know you can do it we don\u0027t know how this scales yet there\u0027s a lot of questions about statefulness and statelessness and quite frankly we don\u0027t know what\u0027s broken yet but with that I\u0027m gonna ask that do we want to make this a working group item I think that OSU is fantastic and it will continue to live for a very long time because it solves tons of use cases really really really well and I think a lot of the extensions that we\u0027re doing to OAuth make a lot of sense we should keep doing that I am proposing that we work on this as well as a sort of future edition of authorization and delegation protocols I\u0027m already building and deploying this with at least one of my clients probably a couple more because we are hitting use cases that ooofff cannot solve and so we\u0027re looking for something new I think you put a lot of work into this it incorporates a lot of the extensions that we\u0027ve done it a lot a wife will not live forever much like WS bed may not live forever on Cano B I think it may be useful to adopt "
  },
  {
    "startTime": "01:22:59",
    "text": "this as perhaps experimental at this point and work on it get the experience so that at some point in the future right you know I don\u0027t think that we necessarily want a signal people that you know this is necessarily maturer yet oh it\u0027s not I\u0027ll tell you that bring it in as experimental and say this is stuff that we\u0027re looking at for the future we want to develop it so that by the time a watt starts people start hitting real boundaries with a lot that they can\u0027t do maybe we will have something that can be deployed so I think it\u0027s something that\u0027s worth the work we\u0027re tracking okay thank you no Jenkins past mail I just wanted to say I\u0027m sorry can you speak of course I think a statement sounds really good mrs. Flores is worth more and the particularly kind of continuation token idea in fact that you have yes that the handle process where you kind of managing a state machine almost everything right down to you that\u0027s a model that we use which allow authentication phones like that and find it very advantageous I think all right thank you yeah I mean the idea of it being a kind of a state machine is absolutely not new to this but it\u0027s more it forces its explicit it forces it to the foreground because I mean I\u0027ve written like a half dozen oh i\u0027ll server implementations at this point in my life and that\u0027s what you do anyway exactly right exactly thank you that\u0027s the idea hi weird you did you as the eg so figure they want to tackle one thing or not my quick squint is that we wouldn\u0027t need to talk about the Charter okay no that\u0027s that\u0027s a great point and about Batman Amazon um yeah I think this is great work and something we definitely want to dive into I want to call attention to the fact that none of this overall idea of handles and and we\u0027re closing what not is specific to authorization and I think there\u0027s sort of an underlying protocol here that has is more broadly applicable and worth breaking out as its own thing all right so questions to the ID maybe we should consider an XYZ working group if this if there\u0027s wider applicability I don\u0027t know absolutely christened drawing box yet is there specific things we\u0027re doing relative to you Oh odd polish a kind of security right this is not that you can yeah I\u0027m just gonna quickly elaborate on what I mean by that sense might not be "
  },
  {
    "startTime": "01:25:59",
    "text": "clear to how I\u0027m thinking about this but essentially what you have here is a mechanism for kicking the end user out to another context to do to do something secure fashion right um usually and especially in this base 50 of that as needing to authenticate or authorize something but that could be any number of things such as needing to fix up an expired credit card because a credit card on file is expired and thus the API call that the device tries to make fail right anything where the end user needs to be punted to a different context in order to do something interactive this was a positive yeah thank you for that example and the that kind of thinking is exactly why in the straw man that I\u0027ve written so far I\u0027ve called it the interaction URI and not the authorization URI because if you actually look at the uma to specifications the requesting party gets sent to interact and provide a bunch of claims and umas very very hand wavy about what that means it could very well be entering credit card information there and so yeah that is that is well within the boundaries of my thinking on this as well and whether that means that this is a larger thing than just authorization I don\u0027t know but yeah we use a very similar pattern internally for look at using it between like authorization services and the authentication stack those are separate and then essentially within the authentication stack breaking up parts of the authentication process into independent workflows that operate separate from one another and have their own trust boundaries around them right so I have three minutes so please cut the card so a few questions few comments darling is this working group started off working on OAuth 1 and then moved to when I was working on Goa - we tried to keep a number of the semantics and thinking that we didn\u0027t break the it wasn\u0027t an extension of OAuth 1 sort of like I think for the same reasons you\u0027re saying it needs to break I would agree with those I wish we were smarter back then and was abused more of a back-channel handle the reason we didn\u0027t is we were sort of following on what we thought did work in O\u0027Laughlin yeah and taking the parts that didn\u0027t work out so I myself I\u0027m a big advocate of that I think that the challenge is going to be people got a lot of stuff deployed right yeah one advantage of it is that the model about how I\u0027m a API "
  },
  {
    "startTime": "01:29:00",
    "text": "calls doesn\u0027t change which is where most of all the code is yes it\u0027s just changing how you go about getting those right I wrote this comment on the list and I think for us to get traction of people being interested in working this ended up being like some Perl 6 forever project that who knows what it solves which I worry about them with the let\u0027s capture in the use cases what we\u0027re doing one thing is addressing issues with OAuth 2 and I think even more importantly would be one of the use cases this solves that we can\u0027t easily solve with that a lot too because that will drive adoption of people using it and they\u0027ll say oh and it\u0027ll also do everything I must and was about to so I\u0027ll just use that all the way right I think that solving new use cases will enable us to bring a bunch of energy I\u0027m working on it as opposed to fixing something that could be better but already works yeah I I couldn\u0027t agree more and what has been driving my implementation of this is is a set of use cases which would be happy to talk with you offline about spaces where os/2 doesn\u0027t work because of the nature of kind of where the user and clients sit in the process don\u0027t fit with OAuth twos model wait not offline the rest of the group also knows about that okay that\u0027s the summary I think that listing idea and then decide which things are in scope and which are out of scope because one of the things we\u0027re working groups really go sideways everybody is on the same page of what we\u0027re solving and someone says well it doesn\u0027t solve my thing and I want this and right we\u0027re really arguing for down in the technical details even though we haven\u0027t got a lineman arm which yeah I agree and I really think that the the sunrise of this is in the new use cases that don\u0027t fit the old model I\u0027m with him so writing writing those down I am absolutely right now sorry guys we are running out of time Jim ordering and doing the work here rather than a new working group because because this is so much building on what we\u0027ve learned in in doing oauth2 I would be afraid of the new can group losing some of the what good knowledge here thank you yeah okay thanks yeah this is something that we need to take with Roman and discuss offline okay awesome perfect thanks thank Justin appreciate it [Music] [Applause] Friday oh thank you guys [Music] "
  }
]