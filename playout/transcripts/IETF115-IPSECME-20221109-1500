[
  {
    "startTime": "00:00:05",
    "text": "not positively okay my clock just turned to 1500 so I think we are going to be starting this is ipsec ma working group I'm terracividen and my co-chair is there in the big screen you can say hi probably oh you could just be okay that's fine all right so we have a faithful agenda today we have five minutes overtime in that agenda so get closer to it and take the mask off so it makes it easier all right so just a note well you'll probably see have seen it several times already and and we have already have two note takers that's fine and there's links for the you know meteco and notepad if anybody else go to that page and you can actually add especially if you are making comments on the uh you know uh microphone just go there and check out their comments are properly or or type them in you can even type them in before you actually make the comments that makes you very all right so we have a full agenda uh any comments on the agenda or any I I pretty sure we are not going to be getting to the last two items which are if time permits because there are so many other items in the before but any other any comments on the agenda any bashing note we go forward so our current status is so that we have four four drafts that in the RFC editor queue that should be out at quite soon I guess and uh let me see okay and then we have two documents that are still in the IST or ITF last call one still waiting for the chair review and write up uh Paul is complaining about that all the time yeah uh Paul voters yes I would like to"
  },
  {
    "startTime": "00:02:00",
    "text": "complain about that because it actually has been in the um the shepherd's review was was added in March it is now November yeah I will do it after ITF yeah yeah yeah but um yeah please do this in the next couple of weeks all right nothing next week but in Colorado after that go next week sorry you Mumble there could you be more specific and clear I will try to do it before the end of the year Valerie you have some comments P2 is uh in the last call too but this last call is lasting for I don't know more than half a year and uh it is still waiting for more reviews and I remember that uh a couple ATF uh meetings ago a few people volunteered to provide the review for this draft and I just determined it's a friendly reminder for those people who volunteer it that it is still not too late yes so g i question two there were several people who one of those are actually commenting there well other things that are not done a promising to make a review and haven't done that so yes that actually would be and I it's also in my list to do the review one more review and then push it Forward regardless if you get more reviews or not but I hope to get more of those uh there's this working group last call First ADI which I completely forget so I will actually push that one to be say I think we are going to be pushing that one out and we have a couple of comments waiting for the you know adoption course which I think are also going to happen Okay Valerie more comments uh yes just forget I think that also knows is quite ready for last call because uh I don't"
  },
  {
    "startTime": "00:04:01",
    "text": "know I I read it recently I uh actually I don't see any issues and probably if you uh if the draft is a last call was issued uh more of you will be for this draft and yeah I'm not planning to change it anymore so all right I I don't see any issues right now so we have labeled ipsec which is should be going to the you know publication requested very soon if I get the charter review there are a still rebutron uh we have open group plus code for Ada Ike which is done and then we have an Ike analysis announced should be going to work into plastical and giac version 2 which should be going out from the working group last call after we get a couple of reviews Paul and me probably until we go out and if anybody else has any comments on it please read it and check it out all right so then we go to the presentation so the first presentation is Paul the next slide sorry um so there's a brief history um you can read it if you want um basically the last version only removes the special fallback I say this was the essay that we said always should be up so that you always have one essay to send a packet over people didn't like the fact that it was special so we removed it and basically now becomes an implementation specific thing if you really want that functionality it is just not specified in a draft but it's like implementation specific thing you can implement that required a little change for the no device to be sent and um there's no more issues left that I'm aware of so hopefully this will make Valerie happy and uh well actually so to be fair Valerie and Taro didn't like the fallback I say so um other comments were not outstanding so if there are any please let us know as soon as possible"
  },
  {
    "startTime": "00:06:01",
    "text": "oh there should we have more slides oh sorry yeah and it's implemented please use it all right so we have it so next step is working group adoption call and we get some comments on if there's two people in the queue so go ahead for Paul first hi uh Paul Thompson from Cisco Meraki so we are actually facing the similar issues and we completely agree with uh the problems based as you're facing for performances with this draft we just want to raise a concern we have which might be that by adding more essays we could face some scalability issues on big uh hub for instance ipsec hubs but uh yeah yes sorry so you're using um one disadvantage of this solution is that you get more essays more than one I say per tunnel and that has a hardware implications um and use the queue by the way for those people who are coming up to the mic use the queue before you come to the mic because we have remote people there okay it's not in the case where you would have like a few more essays but I think in some situation you might have uh a lot more child let's say that you would want to create to benefit from the the performance advantage and in that case if you already have a lot of already existing tunnels that could multiply the number of essay by a significant amount okay so so let me comment down in general when you have a a lot of clients and a lot of tunnels and you're already spreading those over your multiple CPUs so then you're not really gaining much more from adding even more tunnel so that you have like you know each of your 10 tunnels uses 10 essays for the 10 CPUs because your CPUs will be maxed out right so there's no point in putting multiple on them so in general the expected use case for this is that you"
  },
  {
    "startTime": "00:08:00",
    "text": "fill up your CPUs with tunnels and if you already have like 10 CPUs and 10 customers to different tunnels then you're kind of already filling that up recover I'll try to cover a bit more of the problem we're facing at the end of the session sure correct so the next one is then Valerie I just want to say that I support I would support the option of this draft as a starting point and we also have some implementation experimental implementation with small TSA that is slightly different became a then the draft defines so my I think that we can make we can try to make the draft so that it will interoperable with implementations that implementation it implements slightly different approach to the multi-say so anyway I think it's it's a good starting point so thank you okay next one Daniel so um I I think it's a problem we have to solve I would have wished that we I mean that I think I think a more complex solution would end up in the creation of the multiple essays um and I I think that is a something that should be added to um to this negotiation and and I also I don't want to talk about uh regarding the presentation that's going to be um done at the end um but I think we should also try to to limit the the number of creation uh of essays so"
  },
  {
    "startTime": "00:10:02",
    "text": "um to the last presentation all right then Christian uh I was just excited to hear you have the implementation do you have the link somewhere it's in the draft it's an implementation section awesome all right so I think that was still comments we had from the that documents so we will probably start an adoption call after this uh meeting all right so then we go to the next presentation which is the ipsec workshop report Stefan okay yeah hello everyone okay hello everyone this is a report from the IP secret shop that was held last week here in London next slide first some background about that event that event is funded by the ipsecant network security Association there's a yearly event and it was held first time in 2018. it will somewhat seeming public event because we tried to limit a number of attendees below 20 to be able to run all that in Workshop mode with discussions and so on topics are usually ipsec implementation protocol but also other security stuff that comes up as welcome next so we started a workshop with a discussion about fips requirements for a Year's GCM Paul came up with a question and he were asking if we can use the same key for more than due to the"
  },
  {
    "startTime": "00:12:00",
    "text": "the issue packets in fips mode so we had a discussion about it looked at the specs and finally we agreed that yes that's possible even in fixed fips mode but there's one limitation so if your IV is on icv is only eight octaves then you're really limited to two to the 32 but in all other cases it should be possible to use more okay next so next topic we had was decorated policies and how to avoid overlapping policies tiro presented about that he gave an overview of what D Colonel policies are gave us some examples and showed that just gives a rather nice flat SPD data structure where you don't need to use priorities to find actually the right policy and that makes lookups much more efficient okay next one yeah next topic we had it was presentation and discussion about a full heart rate data part of flow for ipsec Ian romanovski presented about that and the point is we want to do all lookups encapsulation and crypto operations are flow to hardware we have an API for that that and Linux and currently the melanox Nvidia CX-7 card support that type of offload so if you use Linux with that kind of card you really can run the full IP set data path in Hardware currently next okay next topic was about a forwarding fast path with packet parking in Linux the idea there was we just take out a net filter flow table with with that as possible to skip the entire L3 data path then we are creating packet box so that each bug consists of packets that are"
  },
  {
    "startTime": "00:14:00",
    "text": "matching the same as a and with these packet piles we are running small code Loops that are rather cash friendly and we were able to show that in our test setups we got a performance uh booster Factor five compared to that what we had before okay next then Michael Richardson presented about anema and the use of ipsec there he gave a brief introduction about what anima is and how ipsec is used there and presented the problem that she was unable to cross network name status with vti interfaces we discussed that a bit on a proposed solution is to use XM interfaces those interfaces were created to replace ETI and Linux because vti has uh well vgi is basically broken from most of the use cases so we intervented inventor text frame interface a couple of years ago to get rid of that so next okay next was Chris presenting about iptfs he gave an introduction to that and showed us the state of the Legends implementation So currently aggregation and fragmentation is supported thanks Chris uh what's still missing is the constant rate sending uh but we hope that Chris will help us there too and we're getting eventually just also supported in the nuts next slide please okay I think well Paul talked about that one I think I can skip that slide next so then we had a longer discussion about reassigning efp so during the last time there were quite a lot of proposals around you support the multi-cpu use case quality of service classes Hardware flows and so on and so forth so and all that boiled down to the fact that we kind of need some separate anti-replay windows there are quite a lot of false Solutions"
  },
  {
    "startTime": "00:16:00",
    "text": "some where it take some bits from the SBI or from the anti-replay window or just add a new field to ESP or whatever additionally to that Google came in April and published the PLP crypto protocol which also looks pretty similar to ESP but it's just not it so we agreed that it might be time to rethink ESP put everything on a table and eventually try to create the new ESP V4 version with that but well time will show next okay then we talked about beat mode the beat mode draft is rather old just from 2008 and it's still unfinished and uncontinued but actually um beat mode is implemented in Linux and people are really use it so we agreed that could be a good idea to continue that work that we can eventually finish beat mode and get it to a proposed standards so next okay that was it okay so that was the report from the Ibiza workshop last week I have to say it was a rather productive event thanks to all attendees and looking forward for Workshop next year that's it from me thank you any comments on that Chris are you still in the com queue in the last time or are you okay I will review all right so any comments on that if not then we go to forward next one next presentation is IP comp extension uh hello everyone my name is harsher and I'm going to talk about an IP config extension which excludes the transport layer next slide please yeah first some background on the IP count is a IP field compression protocol it's just a compressed IV payload to save some binder weights and the"
  },
  {
    "startTime": "00:18:01",
    "text": "compressor payload is prepared with an IP comp header the ibcon has A3 part the first part is the next cutter and it puts the original next header in there and the second part is flex now it must be zero and ignored by the decompression side and the third part is the compression parameter index to indicate the compression algorithm used and is maintained in this and registry now it's only for file next entries yeah and we see there is a two problems with this ipcon protocol the first one is that is incompatible with the network functions because the layer 4 information I mean the the source port and destination Port is compressed so you cannot put any network function which relies on this information for example the firewall nity or some kind of HCL so this will limit the the IP count deployment science means oops yeah so we propose the first extension to solve this problem uh the statistic extension is very simple it's just excludes the protein info from the compression range to do that to basically we have two options the first option is that we can change the flags to to add one bit indication to say this compression will exclude the source proton destination port and the second option that we can duplicate each compression algorithm code point for example in in this table we can say the the CPI value one is the idcom or UI and there is another CPI value to indicate the test the same compression algorithm but the four bytes"
  },
  {
    "startTime": "00:20:03",
    "text": "which contains the source port and the destination Port is is concluded from the compression next and the second formula of the IP company that it may cause some kind of odd order processing basically the reason is that in the IB count biopsy is specified that if a package is the compression is not effective meaning the compression May produce a longer pay node then the packet is sent uncompressed and the results the ipcon header but in the compression side a packet with the ID card will go through the decompression code processor first but if a calculate does not have the idcom header it will be forward directly so it is the process has is different for the cost out of order out of order is very bad for the open air protocols such as the TCP no no the same thing so we propose the second extension to solve the auto order from the uh basically we uh we can change the behavior to to add the ipconocator email if the payload is sent uncompressed so to do that we can use a new CPI value for the uncompressed packet basically this news API means this packet is sent uncompressed that next sense Yeah so basically that wasn't what our drop is about and we also would like to talk about the IP comp the relationship of ID compound ipsec currently the CPI code point you don't know created in the ip7 Regulatory and is negotiated using Ike but actually the"
  },
  {
    "startTime": "00:22:01",
    "text": "compression is not related to the security and the CPI value does not have to be unlocked by Ike maybe there are other control plane protocol can be used so maybe this can decouple from the ipsec and for the transport layer it's including this L4 information we want to hear your opinion about whether we use the CTI or you use a new flag thank you all right comments there is you are first yeah Channel some stuff that was said there on the zulup for most ipsec implementations ipcon well it wasn't really removed but it's kind of deprecated hidden in a d player in the GUI so kind of as much deprecated as AHS so um uh if you want to decouple it from ipsec I think that's a good idea I'm not sure if it's I don't know how useful it is outside of the context of ipsec and they're not even a commenting the asset chair if it's decoupulated from ipsec 10 it doesn't belong to this working group it's closest somewhere else yeah actually with some musics travel to the sixth man because we think it's an ipcome kind of go into the maintenance mode but someone uh Samsung guy in sixth amendment is IP IP sexy it's also in go here yeah to to hear your opinion all right next poll ockos so so one way how this issue goes away is to not use ipicom so the question becomes why are you using ipcon when if"
  },
  {
    "startTime": "00:24:00",
    "text": "it's for the MTU then boy we have a new solution for you that's coming up soon it's called iptfs no it's not about MTU you just want to save the batteries because some very high quality 90 is very expensive so we want to send as needle data over that as possible everything and the interior ad and we just get a draft over there which also compressed directly over the IP layer it's called Chic over IP that's a draft you may want to have a look at it as well the ratio for compression will be much higher okay thank you so this documents as well commentators there's also you know if you think about the cases you have this uncompressed payload that's using the IP competitor there even the reason why they didn't into this is that that expands the bucket which makes the MTU problems start to appear when they didn't appear in the beginning so that was the reason why they made it so that it can't expand the bucket so this solution is actually not very good for that yeah actually uh first uh uh first this uncompressive panel is secure IP comp enabled payload uh flow so it only affects a certain amount of load you you personally need to match your flow to to the ipcon so I'm I'm seeing here the top of order is happening in the IP I becoming enable the flow not any other package okay so the next one is Daniel yeah so just to complement with um Eric just said uh about chick we also have uh one protocol which is die tsp which is about compressing um"
  },
  {
    "startTime": "00:26:00",
    "text": "um some of the fields in the um in the I mean well ESP IP packet um and it's um it is expected to interface pretty well with Chic as well I mean that that that's what we should work on also okay thank you so I think we get entered of Q then so that's all for this thank you thanks a lot so the next one is new like version two for portal payroll formats Valerie hello uh next slide please so uh uh you may notice that there is an um uh a question in the title so uh the purpose of this presentation it is not concerned with any with any particular draft is to go to an interest in the working group of their wise and likely to openload format so uh for existing payload format we have some limitations first uh the landfill occupies only two bytes so it's below its size is limited to 64 carbohydes okay to both so um it made me not enough for some use cases especially for post Quantum algorithms that have large public keys and I must note that there is no problems there is a message size itself which which is limited to four gigabytes so the next piece and the other issue with the current format and both with generic format and some particular formats is that they have a lot of redundancy so we have uh a lot of not a lot but just a noticeable"
  },
  {
    "startTime": "00:28:02",
    "text": "number of reserved fields that are always zero and never used a load field always occupies two bytes and most payloads are smaller especially notified pillows and most parameters in say pollute also occupy uh to buy it so while very few numbers very few will you satisfied so far this is just an example so before I say below uh with these parameters uh the lens is 48 bytes among them half of these bikes are zeros so the next please and why it is a good sin to leave to 64 kilobyte size limits so it would allow using some cool post Quantum algorithm with some public keys and signatures uh and uh currently nist approved algorithm have a smaller public key size and signature but for example classic make Elise is still an Eastern for candidate and it is also recommended by some national state organizations like BSI in Germany and there may also be cases when we need to transfer that chance of data for example in configuration below and it's and why do we need to make a lot smaller uh it would decrease power Network bandwidth consumption which is important for iot devices and it will also decrease the chances of Ip fragmentation in I can say anything changes and recommendations that follow exchanges and these chances grow especially for you can say you need when we Define more"
  },
  {
    "startTime": "00:30:01",
    "text": "and more new transforms for example for post Quantum algorithms and the full combination of such will make a simple little clutch larger and larger especially if you take integration uh set but Quantum algorithms may have different parameters as the next piece so uh what do we have now there are a few existing proposals uh first a large internet key exchange version 2 payload draft uh then beyond 64 call limits on my equator pillows and compared for much of IQ products as latest draft is currently expired but uh it was active for quite a lot as the next please so uh I will try to analyze to Quick analyze uh all of these proposals so a large internet key exchange version took a load IT addresses only 64 by its limitations it is a generic Solutions it is suitable for any preload and uh below it in all the different light can be mixed in a message and this feature is explicitly negotiated a re-exchange of 95s for this reason it cannot be used in initial Exchange and it is a relatively easy to implement but it depends on the basic with your code because if you if implementers uh just uses uh 16 beats for reload size inside the chords it may require some effector but otherwise it's it's pretty easy to implement and I'm not aware of any implementations uh yes please so beyond beyond 64. gigabytes a limited 950 loads it also"
  },
  {
    "startTime": "00:32:01",
    "text": "addresses only uh 64 capellites limitation it is suitable only for sample loads so for those that most probably will have a problem with post Quantum algorithms it's key exchange authentication and set certificate and existing bullet format is fully preserved but encrypted per load is mainly somehow to make uh possible to have a message size greater than 64 kilobytes so there's no explicit negotiation and duplicitly this which is negotiated when peer negotiated an algorithms having large public keys it also cannot be used in initial exchange at in Reliance on mandatory use and hypermentation and a relatively easy to implement and Implement some implementations exist so the next please and compact format of 502 payloads IT addresses redundancy a fight with fight pillows and this proposes suitable for any preload uh but some preloads are well compaction centered pillows can be mixed in a message sample loads have special extremely complex format there is no negotiation and a new initial exchange is used instead alternative I can say neat uh this is semantically equal to I guess in it but allows uh for compact below to appear and there is there is some kind of negotiation because again initiation can also can always relate to it because they need if if it receives a fatal error or uh timeout of descending initial message it is a moderative"
  },
  {
    "startTime": "00:34:01",
    "text": "difficult to implement it can be implemented as post uh procession of reproduction of the standard iq2 messages and an implementation exists so the next so uh the question which is a working group do we want to provide cycle load format if yes then what problem should they address or should you address uh just make it possible to to help the Lord greater than 64 car or decrease Mass Equity message redundancy or both and it is not in the presentation uh if both then should it be in a single solution or should it be different solutions so is there any interest in this book something else please well there are some backup slides but uh Sergeant is very tight the backup slide just proposes some way to address both uh both problems uh some preliminary approach so if the time permits I will show it but if now that we can go to the questions foreign I think it's interesting um one of the questions I have is that um when we decrease the redundancy do we end up in something easier to pass or um something more complex oh well uh it is a bit complex sense that's a simple solution but I think it's moderate actually the draft was written that it can be implemented as post-processing of the ready ipt messages and preprocessing of the received messages so it is it can be"
  },
  {
    "startTime": "00:36:02",
    "text": "yeah relatively easy uh built into the current implementation without breaking it but it requires well some some amount of work but not much from mind well at least the 60k limitation is something we we may have to address so the question to uh chairs oh what do you think about this work so to start again and so um I think both of them are actually separate items in our Charter so with actually the 64k limitation is coming from the you know post Quantum algorithm and I think we need to solve that and I hope we get one solution for that not two so I would actually like to have you know people to discuss of those two because we have to implement it two different drafts for that so I would actually like to have a people to actually discuss and and agree on this of those proposals to go forward and hopefully when we can decide on one we can actually go forward with that and I would actually I think it would be better to have a solution that would actually work for all payloads because there's some other like like somebody was saying you know having a configuration payload covering the whole networking structure of the company which is completely messed up uh by bike week or more than 64 kilowatts which I think is usually provide that the Enterprise you know ID department is not doing very well based they have to have that many networks separate Networks but anyway so so I think it would be useful so at the compression or or or small things I think that's a separate issue and I think we should be probably keep them as a separate also and and for that we also have multiple I"
  },
  {
    "startTime": "00:38:01",
    "text": "think we have a diet a couple of diet versions that we have at least I think we have multiple versions of that also so I would try to have an outers to actually try to find a common ground and common solution well uh so if I try to write a draft uh and present it to the working group easy to uh okay yep okay thank you and I I think as I said they're both or in Charter so I think there is there has been interest and I think they're still interest yes just the mere existence of two separate drafts is some evidence that there's some interest at least yeah let's give it a backup file slides yeah and the next one is Valerie so uh this presentation um was presented a few ideas ago and I just want to raise an interest to this problem and to to to get an impression where this problem should be solved or should be ignored so the next slide please uh well uh this is uh this diagram shows synthetic using cookies in iq2 so according to RFC 70 to 90 96 uh the most recent I can say need request message is included into the output load calculation I think that it goes exchange so uh in this diagram it's it is a request to impose initiated and responded so it is standard way so the next please but what happens if we have some packet loss and the original uh well these there are two possible problem scenarios and both are concerned"
  },
  {
    "startTime": "00:40:02",
    "text": "with the responded States change in the middle of I can say you need request for in this uh problem scenario one uh first the responder since that it is under attack and request a cookie but this message get reordered and before these the initiators sends another request and at this point the responded since that is no more under attack and it just responds with a usual response uh response uh rest to and uh one of the message well the one of the message get lost from the initiator and after all of that both initiate and respond to end up with a different View at what was the most recent only received track one so authentication would fail it's next please and tonight's a problem scenario if they responder changes a secret key that is used to produce a cookie in the middle of I can say neat exchange again this is very simple to prevent a scenario some packets are reorders and someone pick it is lost but the outcome is the same the most recent I can say I need requests and by initiative is rec3 but I'll respond to other only received a rec2 so syndication fail again so the next please and so since the problem is that I can send requests can be sent several times there's different content depending on the respond to state and uh if there is high probability of packet loss and Georgians and B is my complete I guess I need exchange having a"
  },
  {
    "startTime": "00:42:02",
    "text": "different view of what was the most recent and like I say any digress and this request message is used in calculation and if PSU is different messages for the calculations the education would erroneously fail yes please and what is about severity of the problem uh there must be some precondition for the problem to become noticeable so high package hyperability of packet loss and delay and a relative frequent frequent change of responder state and in a real situation it's extremely rare but on a stress tests that we performed a few percent of the essays failed due to this problem and I think that the most problem for implementers for vendors is that customer would want the voice education sometimes failed with with absolutely proper credential this is just the flow in the equity protocol so it's the next piece and uh how can we fix this so we can Define the reverse cookie processing by excluding notified per load containing cookie from the hospital calculation and I think that it it will not bring a new secure security issues because the cookie was already verified by the responders so there's no need to verify it again but including inside records and foreign can be negotiatable let's please so negotiation uh so if responder supports a wise cookie purchasing it"
  },
  {
    "startTime": "00:44:01",
    "text": "will Center wise cooking notify in the response of the I can say need along with cookie so it is only the case if it requires cooking and if the initiator uh also supports the Civilized cookie process and it will include the include the content of the cookie notification into this new upload rice cookie and so the reporter I would know that the revised booking processing is needed so the next please and if yes agrees to you to to go with the revised cookie processing that uh no change time to antiquality function of cookie and uh responded still send steak is Cookie but uh when uh house politics calculating uh the way it is done uh so initiate the sign of tests uh is equal to real message one and non-state and marked ID for initiator if Cookie plot is present then we change a real message one with a new construction in the next slide next piece so we just exclude uh from this message for the purpose of the calculation of icos of holes below uh we exclude the notify containing cookie and also uh make a modification to next reload in Arcadia and message learning and that's all if we do it then the calculation will be equal even in the case that uh cookie is different because it was something"
  },
  {
    "startTime": "00:46:00",
    "text": "different like Ascent responses so my question is is this problem is most to address and if so that it is possible to issue a call for adoption of the draft because draft is around for a while so so they're still coming so I think this is that I'm talking about some individual chair so uh this is a little bit you know questionable if it is worth of addressable I think it's it's a flaw in the protocol so that's why we should fix it uh the question is that if it's a flaw that doesn't affect security it only affects you know funny error messages now every now and then when you are doing stress tests and fixing it we will actually you know of course a completely new you know quite a you know big modification the authentication system I would be very hesitant but I think we can actually find a solution that actually is so works better one of the problems what you are doing here in out I say calculation is that the those two messages might not be exactly same we say that the repeat retrospectors must be bitwise identical but there is nothing not nothing they are saying that we can't for example add padding or put a you know uh payloads in different order in the cookie message or or or or you know when you are actually adding cookie or not adding cookie so that's actually would be a different way but what we could actually do is when we are uh where is this one this case for example uh the real issue is the authentication file or a notification if you could get the separate notification saying oh Cookie changed in the middle"
  },
  {
    "startTime": "00:48:00",
    "text": "uh then the you know any theater would know oh the cookie change in the middle I start from the stretch I start again and everything works take a time most likely okay so one solution would be that that the initiator would in the last you know Ike out it would include the cookie that is using for the out calculation so it would have a repeat the cookie there now the responder can verify that the cookie is saying that he thinks that he was using if it's a different he probably just returns an error message saying that cookie changed please try again he could in theory go and modify your initial pocket but there we have the same problem that if the cookie changed you know the some of the paddings or something especially if you know cookie length is different uh there might be you know different amount of paddings because the cookie happens to be you know 17 OCTA slang along and somebody had some padding somewhere or something stupid so that's why I was thinking about it this would probably work better in that way so we only modify the code in case you actually detect this issue and it would be actually optional to you know people to actually implement it and it would be very easy for the imitator side to implement it they just need to repeat the cookie and it's a notification you can add there without any notifications without any you know uh negotiation beforehand you try to add uh no cookie copy in the ike out and everybody will just ignore it because an unknown status notification a responder can either do or not do the you know do you think this one would solve the problem and do you think this would be suitable solution for this also or instead of date here um I would I think that sending uh cooking aikos is a good idea but uh if you go further and use the respond to notify and notice that the cookie is"
  },
  {
    "startTime": "00:50:00",
    "text": "different in the in the I can say in each and I goes then uh well what what what should we do then so my my easy proposal I would say that you said there's other other notification error notification saying that cookie cookie changed that would be a lazy way of doing it of course you could try to you know if you have still the original edit there's a full packet you could actually go and try to switch a cookie to be the one that they used you know check out this authentication track seeds but that's quite a lot of work for very Corner cases so I probably wouldn't be in my implementations I wouldn't be doing that I would just take a easy way out and say oh separate error message that is not how the education failed for me well well it's possible but it will just complicate it's the right stick machine because it will a new non-fital errors that you must um handle gracefully just to repeat and if you are sending a cookie notification sorry cookie copy then you are you know already know that you you are approached you can actually process that notification okay Paul I think um I I it seems that this idea is actually a nice idea so I do like it um so if you need volunteers I can help Valerie um I I was um on a few slides I can start a few slides forward you had some statistics about how bad this program became I was running what that was based on was it based on the error condition one or the error condition two because I think the one where the secret changes couldn't responder who might remember the last secret and the current secret like C like if that is the case or not like like is that really a case that happens because you know that like you cycle between two Secrets basically right so if the first one fills you try oh maybe this was a cookie from the old"
  },
  {
    "startTime": "00:52:01",
    "text": "team you are active as part of the cookie you prefix a byte that says this is secret current or secret or one or two and then if you cycle between one and two then you know that that cookie was generated with the previous secret so I don't think the secret case actually happens in the world uh it does because the world responder can verify cookie and it's okay with verification of the cookie but then uh the responder uses these cookies that is it it verified it uses this cookie um in the icons calculation instead of using the previous cookie so it should not verify it should reproduce the previous cookie that should that was uh actually generated with a different Secret and if it is possible to do it then well okay it's probably will help but it's it's not the problem that it cannot verify it's not elegant I agree yeah so so actually what we're starting to hate that video you know because it's cookies the irritator use things that we are using the first that's a you know in its out payload but the rest Pottery is only seeing the first one which has a different cookie and it used that as an out calculation Basin and so they do the out calculations in different cookies and there is no way of knowing of course you know if you actually have a cookie copy here then you know responder can see oh yeah we are using wrong coupon it could actually go and you know replace it but as I said modifying somebody else's scent packet is I take it back I was wrong thank you all right so so I think this is I would like to get some other people's feedback on this and and I would actually want to get people's uh"
  },
  {
    "startTime": "00:54:01",
    "text": "comments on the list and so on do you think this is something that we want to solve and uh do we actually want to solve it in which way so um the purpose of the presentation yeah yeah so Valerie if you can send an email to the list and ask for people to actually comment that and and request the comments of this document sure all right then we go the next one it is then what yes yes okay hello everyone this is coming from qinghai University today I will talk about the receive rpk and episode best as2s approach for social gradual Edition and here shows the document links in data clicker and our workspace at the GitHub next page please first I should introduce the source address relation problem as defined in RC 2827 Source address validation is used to defend the new or service or Tech well as defined in RFC file to one zero it has been refinished three difficulties that is vulnerability it is difficult to resist the attacks by disabling the IP Source address directly and the second credibility attackers could conceal location and identity by using a spoofing address and the second major ability it is difficult to realize building and other management through the IP Source address because they may use a supporting address"
  },
  {
    "startTime": "00:56:05",
    "text": "projects that about 20 percent of network prefix could be spoofed Distributing in about 40 percent as in IPv6 networks so does in ipv4 Networks uh next page please thanks so we promote and desire is safe in general we saved is a cryptographically based inter as source to address relation protocol it is ipki and IP stack to add a message or authentication code and source as for the router website and delete the max at the destination as for the router for validating The Source address here shows the main process are receive on the left picture first rpk process the five Regional internet regress piece authorized by Anna use their root certificate to send the certificate Authority that is certificate of the local internet registry which is used to authorize the autonomous system sometimes in indirectly without the internet service provider when they aborting their own CA certificate the as would sign an under entity certificate with the road origin authorization that is Roa which is a cryptographically signed object that states which as are authorized to originate a certain prefix this authenticity bounding of the as number two is IP prefix is published in the APK database this is the requisites for restave"
  },
  {
    "startTime": "00:58:01",
    "text": "and second ACS is certificate Pro versioning the ACs would need its own ee certificate for ikv2 this e certificate is required like the bgb stack realtor certificate funny RC 8209 and the third receive announcement each participating as announced is support for receive in the rpk database including the IP address of its as contact server and the IP address we call it as contact IP and the third on the first secret security or storage Association negotiation and delivery the excess uh negotiate and security Association using ikev2 after our synchronization all is for the routers would get the security Association including the second key and other parameters and the last highest tag communication receive your ID stack authentication header in transport mode for authentication of the IP Source address by default while s model router in ASA send the package to ASB it is established a reset channel to add the required as authentication header the export router in Sp while this authentication header to ensure that the package was not spoofed and removes the header after or validation next page please"
  },
  {
    "startTime": "01:00:00",
    "text": "thanks this part includes the enabling and disabling receiving control plane when you have when enabling or receive it includes the following steps announcing that let's as suppose we save and published in content at least and the last performing abstract session initialization that is ikev2 videos idiots receive announcement which is a stand object in the rpk Repository a receive announcements includes Awards as number the contact IP address and our Boolean type testing field for indicating whether the content IP is potentially unreliable each as is as content server which has a contact ID uh recorders that were accessed for operation ACS is used to present the whole as to initiate ake negotiation with other es ACS where a key negotiation completes each as for the router in one participate ins will activate the same functions and the next part is disabling is safe when disabling receives the participant team as would first stop requirements receive authentication of incoming package second remove Reserve or announcement from the article Repository third when the end is 24 hours and last stop sending receive and shut down the counter IP"
  },
  {
    "startTime": "01:02:00",
    "text": "well there may be a open question shall we use an authenticated permanent rejection options that helps to disable receive as we have Scan RFC 7 to 6 96 the latest iq2 protocol it has two nonification message tests that may be used here as RFC 6023 defense countless activity to supported option it could use PS are acceptable or no proposal chosen as an error code here which means for Ikea to client should not try and shouldn't try again after 24 hours next take place thanks uh let's let's introduce data planes when two participating as Communications it would add a receive header to each other package from one participating as to another participating as after receiving a package coming from another participated yes as for the router would check the SCV field and remove the receive header the headphone format depends on the mode it use transport mode are turning mode as it style has two modes the same also supposedly two modes in default we may hope to use receive authentic header in transport mode the only difference between the same Edge header and standard absent Edge header ask is that we save removes the sequence number field for its twist them to be a multi-centered security Association"
  },
  {
    "startTime": "01:04:01",
    "text": "this mode is only used for S2s communication here we think the endpoint is the whole autonomous autonomous system for distinguishing we save and standard abstract we single receive a security association should be indexed by SP SPI and the counterpart as number generally regardless of source of IP address and the destination I will address in assay database foreign router and the ACs content IP over another as each as border router should maintain its own assay database the index of assay is the same as the transport mode I will receive uh however we also think there is problem as you may know the isability of the USP is an optional field as it says in RC for oswego3 but here it should be our required field ESP doesn't protect the source IP in default so our package could be replaced by changing the source IP currently negotiate extension to ESP that covers IP header or could we always send from the contact key and encoded as for the router ID in the low bits of the SPI on next page please this this slide shows the possible extensions where is the possible extension for received here the force is head only authentication as a source"
  },
  {
    "startTime": "01:06:02",
    "text": "address relation we save basic layers on Max in the IQ field is that our tag so it increased the computation cost here for efficiency it could use the East this extension by just authenticating the IP Source address and IP destination address and other constant skills in the IP header but this tag for the same flow could be always the same when the K is unchanged so the attacker may we use this tank for launching our player tag this could only be used for some non-expensive traffic I think and uh the second extension is 10 best K rotation for elevating the about problem this is the 10 best resident machine key generating this will sharing the active time window of the key after receiving or security Association the two party will use the key in a security Association as their initial State and rotate the K periodically based on the truth and Status transition algorithm or the tag is generated as a set product the best way maybe to use the one-time password but it is not so easy in practice in sync and the last one is static static ecthk negotiation that is defining an RC 6 2 8 8 7. uh sorry 78 uh it would allow us to agree on shared uh circuits simplified by thinking synchronizing the rtk database also Ike"
  },
  {
    "startTime": "01:08:01",
    "text": "is also stateless as it is iudp button here's littlest simplifies the provisioning of as border routers as we may not use too many security channels for S models and ACS communication however this may require a new episode negotiation mechanism as a supplement the FC 6023 and that is cloudless initiation of iq2 security Association may be a good choice on next page please thanks and here is some security consideration operational consideration uh and uh about the security is consideration with with shows certain model in general we save six to provide us strong defense against arbitrary active attackers who are external to the source and destination yes however different real estate modes and the configuration of a different sequel properties underway is which shows two attacks one is replied and the other is done great attack and we single receive also has provides significant Security benefits even if it is not only deployed by a fraction of RS and we also think the series can comparable with current episode and even with other or social address validation approach and yeah option operational considerations we talk about a way questions about"
  },
  {
    "startTime": "01:10:04",
    "text": "reliability multiple uh as for the rotating synchronization and performance and until on the net scenaries uh next page please uh so that is the questions that we have in country in writing this graph and we need your help that's all thanks yes so I was gonna just um give three answers quickly for the things I saw so if we go to slide four um the question was just like video of an authenticated permanent rejection yes that's a delete it's up to each end where they will restart a total or not but those are independent decisions so if you delete the tunnel then then it it's up to both peers where they decide to establish the tunnel again or not there's no negotiation to say don't ever come back to me so next slide so uh sorry go ahead uh I'm a benchwartz I'm a co-author on this draft um I want to ask for a clarification there my impression is that the uh is that Ike the the ike authorization step also produces a child essay uh unless childless Ike V2 unless there's a child with like me too um maybe I mentioned us to the permanent rejection you mean not permanent rejection of the ike peer not of the child essay I know I do mean of the child essay my question is does delete"
  },
  {
    "startTime": "01:12:01",
    "text": "um is there a race condition basically where the ike auth handshake generates a child essay and then you have to delete it afterward quickly that is possible yes if if if you set up a child to say and you end up not liking it and you have to send a delete again right but in order to the only it is childless the only way to not set up a child essay yes okay yes but there are there can be several um reasons why you would want to listen the RFC mentions at least some of them thank you uh next slide uh the icv is optional uh I think this needs a clarification because the icv is mandatory for those ciphers that require it so if you have a uh AES Shot 2 then the ICP is definitely required because that's where your integrity is if you're using an aead then since it has a built-in Integrity there's no icv so you don't need it so optional is for the packet format but it's not optional to send the human gets to choose you have to comply to your cryptographic algorithm foreign how do peers Express a preference for a requirement for transfer mode you can only set a preference by saying use transport mode and if the other end doesn't agree with that you must use total mode and that was by Design and I understand that a lot of people hate this word uh thanks Paul uh if there's anybody else who um yeah I've got uh one quick comment about uh static static defeat Hellman one issue you run"
  },
  {
    "startTime": "01:14:00",
    "text": "you will run into with that is there is no post Quantum equivalent for that uh so unless you want to run into big problems in the future you're better off avoiding it okay thank you I want to emphasize that these are possible extensions they're not extensions that are actually uh proposed in the draft their their sort of notes to self about things we could propose if we if we find it necessary um I just want to briefly add that this is a very very early stage proposal and we're still uh sort of looking through the various ip6 specifications and trying to figure out which pieces fit what and what's missing and really this is very closely connected to to things like the anti-replay subspaces proposal this is fundamentally about trying to figure out how to operate an ipsec mesh really at very large scale and trying to figure out how to minimize the amount of state to make that practical all right so no more comments on that so let's go forward then and the next one is then raypan um hello everyone my name is go closer okay okay no yeah okay um next please um first I'd like to introduce the background of this draft and in RFC 72 96 section 2.8 it says that when we're keen the new child essay should not have different traffic selectors and algorithms than the old one so you don't"
  },
  {
    "startTime": "01:16:01",
    "text": "need to you can just resend the TS and the sa payloads but furthermore you can omit the essay and TS payloads during the key and it doesn't violate the RFC 72 96 and also it can save the bandwidth and reduce the CPU operations next slide please um so um this is the solution recap um it's it um after itf113 and there is no change to the solution and um um there was a lot of discussions um about this draft in the previous time and so after but the solution gets uh got Pure stable and mature um step uh since itf113 and the solution is quite simple first if the negotiating of the support for this optimization during the uh during the for the between the POS and uh next is to just send the new Optima notification payloads instead of the um TS and sa payloads for working the iksa and child essays uh next slide please actually just joking about the comment on the middle option is wrong because if you read the previous stage it says child essay it doesn't cover ICS IKS can have a different algorithms so the optimization for Ikea doesn't really apply but the other two actually are useful uh yeah yeah but uh yeah so"
  },
  {
    "startTime": "01:18:00",
    "text": "um um next about the updates the version 9 was updated for itf114 and there was no change and version 10 was updated before this meeting and only two types typos were fixed and the next slide please and for uh in the itf113 Ibis acne report it says this work might be ready to be adopted next slide please and in 104 report it says this should be ready for adoption next slide please so these document should say must be ready yeah next slide no no shoot blush actually next slide uh yeah so we sincerely ask for working group adoption of this trap because now we think they uh it's as clear and mature and also in the future we will do the interrupt test yep any other comments on this so I guess people are okay so there is a couple of comments coming so great hello I'm from Telecom I have questions uh did you have a deployed this technology in any operators network uh actually for our base station products as far as I know they have deployed this um this function yeah for the you know the 5G scenarios yeah to protect the because you know the base stations will need to use the ipsec to protect their Communications so uh they"
  },
  {
    "startTime": "01:20:02",
    "text": "have deployed this uh function yeah okay yes I think it is very useful in the network which deployed uh ipsec in large scale and uh yes in personal I'm very interested in this solutions thank you thank you very much all right next chain mailing mailing train from China mobile uh I'm a covers on this draft uh it's very reducing size and capability of i2v I gave me to exchange to optimize the IP set used by low power sensitive devices and that was concerned environments these two historical reports do call me back that the choosing this draft is ready for adoption so no matter Master urge you to be ready for the adoption I support this draft to be adopted by the Sun thanks thank you all right Valerie oh I read the draft and I think it it can be a good starting point because it's relatively easy to implement and it provides some optimization in many cases so I think that it's a pretty reasonable to adopt it is the issue a call for adoption thank you all right anybody else if not then I think I will"
  },
  {
    "startTime": "01:22:03",
    "text": "save and now it's in the working group adoption call thank you very much after the data tracker returns after the presentation thank you very much what data tracker seems to be slow okay the next one is uh IP secondary play sub basis and I got an error restricted access foreign and I'll be presenting the issue we have with anti-replay in the multi passage and multicore processing uh for ipsec next slides please so we have a problem that is quite similar to the one that is addressed by the um draft from power watches and other previous draft as well which is to do improve their performances of ipsec in the context of multi multi-core and multi-pass and Qs as well the difference is that we are trying to do it on a quite a large ipsec apps with 10 or thousands of ipsec peers and in that situation if we try to increase the number of child let's say for instance assume we have six path a cause aqs classes and it's still quite a conservative number so we get to like around 4 million uh child let's say we would have to exchange to establish all the tunnels and so we fear that this will add an unnecessarily load to the the ike negotiation and re-keying as well uh I've will have some issues with the the"
  },
  {
    "startTime": "01:24:00",
    "text": "cash and memory uh in the CPU to do that next slide please so uh what we want to do is uh try and to to change the slightly the entry play processing and because it cannot be done efficiently across multiple cores and in the context of multi-path it it is quite easy to have out of other packets that gets dropped because they're out of the window so for that we want to uh for a single child let's say I have multiple anti-replay material anti-replay window that we can spread across multiple Subspace ID and we just need to set the the sender we just need to set the Subspace ID in the ESP editor and when the receiver uh see the packets it just has to get the Subspace ID to uh use the correct anti-replay window next slide please so we want to start uh some discussion about that on the the emailing list the first one is uh the ike negotiation uh currently in the draft we have an address that at all so any input from the working group is warmly welcomed and next slide please the second one would be to where to store the the set space ID in the ESP Adder one option we started from was to use the sequence number field in the ESP editor but that limits the number of bits we can use and on High beat threats B trades link it can have some resync issue and custom outage one solution for that was to use an explicit extended sequence number field in the ESP editor in that case we can use more bits and won't have this issue uh the second option would be to have an additional field in the ESP editor uh which like we would get for instance 16 bits uh to to"
  },
  {
    "startTime": "01:26:00",
    "text": "encode the Subspace ID uh but yeah next slide please the last discussion and this is already started on the mailing list was to have the fips compliance uh especially we talked about the AES GCM Phipps compliance so there is a maximum number of time you have to you can use the the key material so we need to make sure that you don't go above the 2264 usage allowed and for that we think if it's in the extended sequence number it's for free if it's not then we just have to divide that by the number of zip spaces you will use and we also need to make sure that the iv used every time is unique and but we think that is should not be a big issue and should be quite easy to do next slide please so uh we want like what we actually want is just the input from the the working group to see if that's an issue that other people would have and uh are there like how to solve it and come with a common proposal for for that so for that problem thank you if anyone has any soul for this for the GCM uh uh a nonce issue uh remember 32 bits are actually coming right now from the from the key exchange from the key exchange the obvious thing to do is take your Subspace ID and stir that into those 32 bits and therefore not Collision is impossible okay uh benchwort's alphabet uh I think this is as I mentioned uh one of the main problems that we ran into while trying"
  },
  {
    "startTime": "01:28:00",
    "text": "to draw up the resab so I would love to see a solution here uh I would prefer a like pure stateless solution it looks to me like option two is the one that's that that allows the recipient to be um basically stateless specifically the the really important thing is like the for the recipient to be able to lose all its state and uh and only lose replay protection and still be able to decrypt packets uh so anyway option number two looks looks like a good approach to me there are a lot of different approaches here uh the another one that we talked about was trying to uh trying to Hash the um The Source IP of the sender into the um using hkdf to to add the source IP of the sender into the secret used for decryption and validation which means that every Source IP automatically gets its own sequence number space so if you are if you know that you don't have Nats if you don't have to be Nat compatible then I think you might also want to consider that kind of design okay thank you um Danielle from Erickson um just to mention we thank you for for the presentation um we do support um this work um and we are happy to to find find I mean we are facing the same the same problems and we are willing to find a solution in that space too foreign so we already have 32-bit sender ID which tells what its reply counters use it's called SPI so having multiple"
  },
  {
    "startTime": "01:30:01",
    "text": "essays is actually the solution for dust uh the other thing is you have to remember replay protection the sequence number generation is mandatory the checking is not and I actually are very I don't think actually the replay protection in this kind of in the middle tunnels gives that much of benefits because they're gonna still be replaced happening after your ipsec gateway or before I pick this up Gateway which is not detected by repay counter so you can't actually really trust that there is no replays ever in the network so your upper layer protocols need to have a sequest numbers or protection from replace anyway so I'm not sure if it actually gives that much of benefit in this level so I would actually just you know generate separate spis for or separate child essays for each of these and then simply you know disabled or or or perhaps even disable to the replay checking if you have problems with that uh this this was our individual comment yes definitely go ahead I don't want to make a comment comment on any of the possible options to solve that but a lot of people have the same problems and this really shows that we should try to solve that rather sooner than later and so I would propose to do a virtual interim before the next ITF put things together with all the people that are untrusted and come up with a possible solution and Screen done we would be glad for that good evening Ben Ben Schwartz again uh just responding to tiro to say uh you know"
  },
  {
    "startTime": "01:32:02",
    "text": "this presentation proposes that the receiver might need to hold um it might need to be able to talk to four million different separate senders uh with their own sequence number space even without replay protection that that that um or that that recipient or that that that Pier or those peers would you know potentially then need four million child essays and uh no they need one one per each because I mean if you have if you are not caring about replay protection window you don't need to create a separated no you don't need to separate the you know different parts or different cores so you do because you can't use the same sequence number twice on any of those two so I if you yeah but I mean quality service classes require separate essays or Republic replay counters and the parts we only because uh they might come in the different order they are sent in the same location which means that they can generate sequence numbers very I mean sequels number generation is easy and it can be done on multi-core environments without any locks we just you know uh you know uh what one SPI because it's it's impossible to do that there's you know tricks to do that it's an implementation data but even if you actually can't do you have to have a course and you can't actually have any communication between the course you need to have and then you need to have one SPI or one essay for each score but then we come to the back to the what Paul was commented earlier that if you have 10 000 people or peers peers you probably don't need each core to have a separate uh you know uh a child essay for each of those ten thousand because I mean the ten thousand is probably going to be spread up with each core anyway yes but in the context of multipass you"
  },
  {
    "startTime": "01:34:00",
    "text": "easily come to a situation where you actually have you can't have one essay for a car yeah you can't specify that each channel is going to be on one specific call and so you have the issue of steering packets between the core quite easily that appears in that situation and so you would need like multiple like quite a lot of these essay maybe not all the four million but a number in the same magnitude than those next one can you hear me yeah hopefully it's working yes hi everyone uh yes so I'm here I'm one of the uh co-authors of the drafts I just want to react to uh some of the commands uh terra made the first is on entire replay um I think it's pretty much a concern I mean the replay of packets from an attacker the IPC Gateway or the ipsec route or whatever it's used to protect the internal Network entirely is actually expected from uh Standard Security standards and um you even okay the attacker could not create other packets but it could pretty much close or help close DDOS attack inside the the network if attackers could just send more um more packet more of the same packets it could it could help cause the Adidas um second command was about the SPI and we could use the the SPI to do that and so more shall they say really on that I want to stress even though it was mentioned that this has really serious security not security scalability concerned in the implementations right now um you know like I looked at the VPP numbers because they are public uh um the top uh speed can be achieved with"
  },
  {
    "startTime": "01:36:02",
    "text": "1 000 peers if you get to 10 000 here so 10 000 child essays you already get the performance um downgrade uh reduction um so if you multiply by 10 or 20 or 100 the number of challenges that you have then you you really lose performance um finally on the the spreading of the flows and the tunnels to the course so one aspect is that um okay so when you receive packets um those typically of one one tunnel typically goes to one specific core that's that's correct but when you want to transmit on a tunnel um then the flows that you want to put inside the tunnel they they get processed on any core that you're processing you don't control where the inner flows they come from so you you might have you might want to send packets coming from the 32 cores into the 10 000 tunnels that that pretty much happens because you don't control where the flows come from before utx so actually yeah we actually already 67 minutes over time and cookies are already gone so so if I think that's we actually managed to get to the end of the agenda we didn't have time for the extra items and there seems to be a lot of discussion look we should do in the list so let's bring it back to the list thank you thank you thank you everybody"
  }
]
