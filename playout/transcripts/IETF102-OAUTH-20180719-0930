[
  {
    "startTime": "00:00:49",
    "text": "good morning everybody dick okay so what welcome to the second session of us a we have 90 minutes so we we don\u0027t have the full two and a half hour so only that first day in 90 minutes and so this is not well a fill up from here with this make sure to look at it everything you say and you contribute is still under that in on well a thanks to a Dan for being our jabber describe and for Tony for a voluntold to our to be I mean it blue shirts blue seats will be and here\u0027s our schedule for the day so a Hannah\u0027s will start to talk about apop tokens yes they to do that then dick will talk about distributive and then John will talk about a security bcp and he - for this agenda and you comment about this okay let\u0027s get going test test so we\u0027ll see but it takes 50 minutes to discuss this may take two hours there let\u0027s see enjoy okay that\u0027s so who of you doesn\u0027t remember the pop token work oh man I mean that\u0027s not you guys remember okay but I will very briefly go through this so that the story was and you see that sort of manifested in in different documents is that and particularly also in there is also it\u0027s a little bit of an a so as a high-level introduction if you will see it that way then so they we had these two slightly different patterns for symmetric versus a symmetric keys if this start with a symmetric key version first when the client talks to dollarization server to get the access and the Refresh token it it made that "
  },
  {
    "startTime": "00:03:50",
    "text": "request and indicated that it wants over here he wants and a symmetric key version and there are few parameters that are pass along which I will describe in in subsequent slides but the important part is that the token comes back a pop token comes back and along with it keys that are sent from the authorization server to the client for use by the client the access token itself also has keys it\u0027s a pop-rock natural but those us are in sort of like they are so this is the usual pop token so it\u0027s actually consumed only by the resource server but in the symmetric key solution the symmetric key has to be sort of carried encrypted in that payload and we have that data structures defined for doing so in in all AHS we had all the work with the JSON web token and then the corresponding pop token extension has been long done and we are about to finish so if you attended the ACE session this week you saw the discussion about finishing the pop token extension for the CWD de sibour web darling okay Brian the asymmetric version is a little slightly different because the client doesn\u0027t need to have the authorization server generate the public/private key pair but instead it just the client shows tells the authorization server what public key to include in the in the bottle and that\u0027s described here and we use the same mechanisms for doing so and as the access token in this case just contains the the public key or fingerprint of it and there\u0027s nothing that needs to be sent back from the authorization server to the client because the client already has that public and private key okay and then of course then the client when he talks to the resource server it has to use the pop token in to demonstrate possession of the and the key and it does this in a variety of different ways and specifically in in work done in AIDS there are different ways defined to tie it to specific security protocol there\u0027s a DTLS based version as oscar version and so on and so on okay so unless I\u0027m in comparison to OS where we had this struggle with the HTTP signing in the core working group people came up with this the Oscar mechanism to "
  },
  {
    "startTime": "00:06:53",
    "text": "protect various headers and payloads you know for for co-op and they also we had that presentation a few ideas I go that group also believed that they have come up with a solution for HTTP but that\u0027s a separate topic that I don\u0027t want to go through here now so what\u0027s the status of this of all of this so in in the ace of our specification there\u0027s a there\u0027s a framework document which builds on on OS as the name indicates and it uses it uses the pop token functionality only it doesn\u0027t use bearer tokens and it also has this points to the CW teen instead of the JWT for efficiency reasons and as I mentioned earlier there are also other protocols used in HTTP we have also worked on other protocols in OS on other than HTTP if you remember that the sample is AP gssapi for email that was a little longer ago there was actually I wasn\u0027t wasn\u0027t done in hours but then under the supervision of in any case in one of the use so the different use case isn\u0027t there so long a use case document available in is that tells what you could use the whole framework for but one of the use cases is where the client for example is a smartphone or tablet that talks to an IOT device and to control it to configure it and do something and their client the OERs client uses HTTP to talk to the authorization server just a regular OS authorization server that supports opto can you such a instead of since the authorization server can issued tokens with different types it can in this case for performance reasons can issue CWD pop tokens but then as the client gets all this stuff it passes it on to the IOT device for example using coop or some of the other IOT related protocols like imputed ease and so the current status is that in that document which is going to end the working group last call fairly soon in I think Jim said in September it defines parameters for that exchange with the bop tokens and I\u0027m going to talk about the parameters in a second it defines them for coop and HTTP to cover those different use cases so that text is there and some of it has been taken from at that time expired key distribution Bob key distribution document that we have in our working "
  },
  {
    "startTime": "00:09:53",
    "text": "group additionally it turns out that the web RTC guys they have also defined and dokin format it was one sent for review to the list and so they have a binary encoding that is not C bore at that times I think CBO didn\u0027t wasn\u0027t finalized or this met up so they have a separate but open format then of course o us allows different formats so that\u0027s perfectly fine and we did a review of that and they use this with their thumbs turn fireball traversal technology great so more usage in this web RTC real-time communication on the web mechanism and I provided a little bit more details of that work also in pointers in the link you can see on the screen in any case what that means is that we are trying to at least in two different groups outside of us trying to finish the pop token work which was in this in this working group a little bit underappreciated at least with respect to that document we have worked on other pop token solutions so there it does that I tried to update the documents with the help of my co-authors and get them in line with what the latest statuses and it turns out that we ran into three issues which I would like to get some guidance on from the working proof to actually then execute those changes I didn\u0027t want to surprise you all with suddenly totally different documents and the three issues I believe are maybe there are others the HTTP based parameters which were previously in in in the document and now in the ACE document is that something you guys are comfortable with or where should they go should they go back into the oils group form and I will talk a little bit more about this the other one is there\u0027s this there\u0027s some misalignment between what\u0027s in the bottle can distribution document and what\u0027s in the Azores document the different parameters used and and maybe one is better than the other or maybe those are equally fine or talked about those things and then finally there\u0027s a there\u0027s a question about the encoding of the key transport that\u0027s that those are the main issues are haven\u0027t and happy to hear others this one let me very briefly summarize in case you haven\u0027t read the a source document recently the couple of parameters defined and I mentioned the first one in previous always working group meetings there\u0027s one the audience are parameter and there are as the name indicates and we had discussions and contributions and drafts in this working group are before this parameter is useful when you for example in a symmetric key solution when you when the "
  },
  {
    "startTime": "00:12:53",
    "text": "client wants to tell the authorization server what the target of that communication is going to be which resource server am I going to send this token finally do because the read the authorization server needs to have that information in are doing crypt the symmetric key that goes into the the CWD pop token otherwise it doesn\u0027t know how to do that unless it uses some some other some other mechanisms so but that\u0027s where we use that parameter now the second parameter is this conformation parameter which is used to carry the keys from the authorization server to the to the client and also to provide some parm I think parameters to the public key fingerprint from the client to the authorizations onto other systems also as a shoe seller there\u0027s also one other R parameter that you may not have seen before this is called RS underscore CNF this parameter gives the client information about bra public key to be used with the by the resource server okay I\u0027m not going to talk about this one any further but just to let you know there\u0027s a there\u0027s a Kumpf and CNF in the RS underscore CNF in case it\u0027s confusing yes a chat question from Phil hunt I think the Block in the OAuth working group is the final step how to do message authentication HTTP request signing seems impossible Honus are the techniques from the other groups that could be applied more generally yes so um so the other so in there in the 8th working group the focus is obviously not on HTTP so there are other protocols used in the ID context where solutions have been worked out on how this request signing looks like and maybe you can elaborate on that but the mechanism that was defined for co-op is apparently also applicable to other protocols that use a restful paradigm including HTTP that\u0027s what the presentation was about some odd years ago when this topic was brought up on the mailing list you may remember I I can post a link again to the presentation ludwik sites but there\u0027s also the in ACE the the Els profile which defines how to use this conformation keys in the detail s handshake in order to prove the possession of these keys and I would guess that this is applicable for TLS as well I mean there was a draft in off by Samuel and me recently saying how how we did that and there was not a lot of "
  },
  {
    "startTime": "00:15:54",
    "text": "interest in itself we dropped that but basically I assume that the stuff we do with DTLS is really really easy to transfer to TLS couple of observations from the token binding work making changes to the TLS stack and exposing the ekm and all of the other things that might be easier in other newer environments is really really hard to impossible so if you know it probably reusing token binding which is already going through all the pain of exposing those additional parameters maybe yeah is a way of doing it the other yeah and we already have work going on on that the other thing Brian and I put out a draft on resource which replaced audience we discovered that in practice audience AUD is a parameter to the token endpoint is really really problematic so yes we need the parameter it\u0027s just don\u0027t call it audience that it causes all sorts of issues once you start sending a jot to authenticate which has an audience which is it the audience of the resource server in the jot or the audience that\u0027s supposed to be the the the token endpoint it just we need a different name so you suggest to correlate the resource yeah that\u0027s that\u0027s what okay that proposal was calling this audience will endless confusion okay so yes we need the parameter that\u0027s just a really bad name as it turned out and so since that parameter has been defined in the ACE working group which is defined for both HTTP as well as coop as a parameter do you see that that\u0027s a problem yeah basically you can\u0027t generically use that because the parameter already exists for the token endpoint in some of the authentication methods for no raw or sorry at the authorization well at the token endpoint and well you know if we\u0027re know I was after of something different do you see that if we change the name of the parameter to resource in a specification it will be applicable to both co-op and HTTP with that would you consider that as a problem so this was actually not one of the issues that thought it would be an issue Brian Campbell I think that is potentially a "
  },
  {
    "startTime": "00:18:55",
    "text": "problem because it\u0027s it has completely different semantics in in ace so and there\u0027s only one registry so I would I would prefer that it doesn\u0027t get used up but why is that a different semantics if I\u0027m a client des which the authorization so which so I but when I read it it was a C bore and coded saying but before it\u0027s a seaborne coded thing for the for the coop as a for the point when it when he\u0027s transported or coop but it\u0027s I don\u0027t remember what what the encoding is for HTTP so they\u0027re different different encodings for different protocols as I may have read it wrong it\u0027s read very much the parameter definition read to me like it was seaboard to the authorization server we changed that that\u0027s at some point through the lifetime of the document so but but the intention is to have our all of those promises surrounded talking about dia if they encoded differently depending on whether they go on HTTP verses to go on on co-op okay my mistake done apologies so assuming we can sort that out resource would be better than audience yes if that was your question no the question my question was do you see a problem if we define this in the ACE OS document for also for HTTP as well as co-op not again it probably depends on whether maybe the problem with having it in co-op is that other things make people may not find it etc as part of of OAuth I\u0027m not violently opposed to having it defined there but that may confuse people and or cause it to be attempted to be reinvented any number of times it may be better to define it as a separate separate speck in inoue because we have a whole bunch of things in of\u0027 that are going to want to use that this isn\u0027t the only use case for that parameter so it\u0027s not unique to pop tokens no no way how the Braniff is different is it\u0027s more generic you choices you could just says the resource I\u0027m I\u0027m going to duck it so it the the identifier that particular parameter probably deserves its own document so that it\u0027s easily referenceable from other other aspects or burying it down in in a co-op document may be in an SOS talking to our ace right so we don\u0027t need to sort that out now particularly but we do okay we really do because if we\u0027re sorting it out now I would say for the sake of "
  },
  {
    "startTime": "00:21:55",
    "text": "clarity let\u0027s put it put that parameter in its own document because again it\u0027s been attempted to be defined at least three or four times there there was and a loan document on it in the word Olaf working group right and that\u0027s actually the downside because we as I mentioned earlier the plan is to go to working group last call in September whereas this has been worked on in ours for whatever reason because of different objections are like four years and it would be unfortunate if then there\u0027s this dependency that where we start things etc well that\u0027s also have something to take into account if the two people that objected to it last time aren\u0027t objecting to it now than perhaps we could do this relatively quickly what\u0027s the one or the meeting min and Finn I didn\u0027t I didn\u0027t say his name don\u0027t know what do you think about this Phil do you have an opinion about this oh you want to briefly speak about this topic what what is your sense now a few years into that discussion he may have gone back to us now no reason we it\u0027s a middle of the day for him you know it\u0027s more early morning in Vancouver yeah yeah can you meet us we can\u0027t hear you supposed to be speaking yeah it says he\u0027s speaking but we can\u0027t hear you Phil Phil you may need to unmute okay okay a separate issue which is solution yeah Tony you want to come to the mic Tony Nidal and I don\u0027t believe it\u0027s a separate issue it could be an orthogonal issue but I think we have to figure this out at the same time I don\u0027t think you can agree to this in in-state signing we\u0027re gonna we\u0027re gonna totally forget about it this time well we are talking about a specific spec for adding a resource parameter to the token endpoint we could ignore it and allow pace to define it for us I\u0027m sure that that would that you can see that option I think Tony the question is not whether we are going to define that parameter unregistered I think we have passed that point that decision has been made the question is which document will it go and have two "
  },
  {
    "startTime": "00:24:57",
    "text": "choices ah yes a separate document order as to a so our start here and I go to senior thank you Tony so I think that it\u0027s a better choice I didn\u0027t understand John\u0027s point about token binding are you [Music] [Laughter] the point is that if we\u0027re going to have a presentment mechanism that\u0027s going to start messing with the TLS transport we already have mechanism we should focus on that rather than trying to invent a new if that gtp decision also has been made already well we know in in a you were just talking about well maybe it may be a sought to rican if ace is looking at doing a new presentment mechanism over HTTP then perhaps they ought to look at no not be using token binding rather than it is not using TLS bail mechanism it\u0027s not you it\u0027s not ace is not defining a new presentment mechanism over HTTP what it does is it uses the keys as one of the possibilities the keys in individualís shake to protect co-op okay okay so this is DTLS specific it\u0027s a it\u0027s a it\u0027s a there\u0027s a document that all right about how to detail s in coop right so we are not to worry about applying your CTL s because we already have a mechanism for that is my point yeah for HTTP GLS that\u0027s fine yes okay so good we we solved that issue that was I I would expect it to be perfectly I would expect to be used in doing co-op over TLS to the the same mechanism to DTLS that\u0027s fine I would this time I\u0027ve been expected to work his what it\u0027s gonna be this its permit from an API point of view is it is identical yeah um some time ago Brian Campbell wrote draft Campbell Oh auth resource indicators I was colossal fit and I think John was too yeah this already solves the problem I fully agree I think that we should now adopt that as a working group document and finish it well so there may be some stuff that from the other co-op ace document around encoding for other transports that you want to call into it but yeah that should be fairly quick work yeah I mean Brian\u0027s already done the heavy lifting we should just use it and I don\u0027t know when the chairs want to call that "
  },
  {
    "startTime": "00:27:57",
    "text": "question but it there seems to be a lot of people in the room who including yourself we think that we need this parameter it\u0027s already written down yeah so maybe I\u0027m maybe you can get the room but just on this let the cute yeah that\u0027s fantastic you\u0027re a gym shot I I\u0027m having a problem understanding John\u0027s position on that the using the name audience my understanding is that this is basically designed to be equivalent to the audience in a CWT or a JWT so using a different name seems odd well I\u0027m not saying use it as a different name in the access token I\u0027m saying that as a request parameter where it conflicts with the audience so when you\u0027re talking when you\u0027re making a request to the token endpoint adding an extra parameter that says audience which is actually the identifier for the resource server that audience and the audience of your request conflict once you put them in a jot and send it as a that is one of the can I can I try to clarify that because John\u0027s confused although he\u0027s sort of right audience has been a little bit confusing we\u0027ve used a Johnny we we\u0027ve used a Edie in our own implementation and it\u0027s caused confusion with people but the actual like conflict problem that John\u0027s talking about is related to the authorization request where we have drafts that define a JWT encoded set of the parameters passed the authorization request and thus and it also allows for the the audience then is a parameter value in the JWT so there\u0027s a collision with the audience name that I don\u0027t believe that\u0027s so that it\u0027s with its respected at initial authorization request and implicit tokens I don\u0027t think it\u0027s applicable in in the ACE world um so I wouldn\u0027t say that but yeah I took its if there\u0027s some already defined parameters I didn\u0027t realize that it\u0027s sort of defined implicitly defined by being a jock claim when the claims of the JA are used as the parameters of the request it\u0027s it\u0027s a weird sort of that sounds indeed with but so I think it\u0027s perfectly fine that there\u0027s a there\u0027s a claim with the term audience because that goes from the authorization server all the way to the resource server and that\u0027s exactly what we want we essentially want the client to say I want to talk to example.com in an audience when it parameter when it goes from flying to authorization server the authorization server supposed to then take that information actually dump it into the token and to pass it along this is a this is exactly what we want I understand the pattern young likely though well there\u0027s some there\u0027s some "
  },
  {
    "startTime": "00:30:57",
    "text": "issues around actually the the client being able to know and convey what the the actual value of the audience in the resulting token should be as where some of the complexity comes up at least in in a work we\u0027ve done but but the problem the the actual technical conflicting problem is around the authorization server when it when it says audience that that audience has multiple meanings in some contexts and with that that\u0027s sort of the root reason that you can\u0027t use audience at least in the broader ooofff context as a request parameter but then there\u0027s no other claim that there\u0027s one only one audience came as far as I know there shouldn\u0027t be any confusion whatsoever soon in JA the standard the audience claim is defined Indian and that\u0027s the one we want to reuse well we want to reuse that in the tokens that are issued yes but there is a standard two standards actually to keep it interesting about how to use a jot to encode the request to the authorization endpoints and within that applauded IANS is part of the John you thought it gets overloaded as a request prior you talking about the jar what uh-oh Jenny BSI or okay close okay yeah no I said no I understand but does that mean we would have exactly the same problem with confirmations as confirmation is a field which can go into a a job to the extent it would be used on the authorization endpoint yes yes is it actually that mean that almost sounds like maybe there\u0027s a problem if the if the if that chant that if this are see that we are going to pass along because it it mmm uses stuff in her in a not appropriate way what which which frse become rc2 cha no Jar uses it as defined in job the problem is that we\u0027re inventing new parameters which are not those parameters in it we\u0027ll trying to call them the same name the problem is in these new specs that are trying to overload the existing semantics so this is the requested audience not the audience of the token so you just have to call it something else this is not the the confirmation method of this token it is the requested confirmation for the token that you\u0027re going to issue me we just have to have different names for them otherwise we will create endless problems for ourselves recites now I\u0027m really confused to tell the resource they\u0027re all authorization server to put a certain audience and a certain confirmation key and a certain scope in my token how do I do that I mean guys you must have defined that honestly just "
  },
  {
    "startTime": "00:33:58",
    "text": "use a different name Leveque dunk overload claim name that\u0027s the problem because some of the requests are going to be put in jobs and those claim names are already used in those jobs so don\u0027t call it CNF in your request don\u0027t call it AUD in your quest you could call it requested confirmation you could call it requested audience there would be no problem just don\u0027t use exactly the same string otherwise you\u0027ll blow up signed requests do you guys currently actually have that problem in your specs today because I believe stole is something that you can put into a request and is in a JWT no it\u0027s not part of it is it is it\u0027s not defined as part of the boutique by default but if you could you could create a problem with scope if you if you really for it yeah yeah please head and I\u0027m gonna cut the line after Ludwick so that last one here okay or no Brian are you in the line yeah after Brian so John Bradley yubico but the claims are in that are that are part of the job are fine the problem is that if you want to add a new you\u0027re sending a signed request in a signed object either a jot or a CWT because they\u0027ll both have the same problem yeah things are both defined if you try and say put some parameter of I want you to issue a token with these things as those claims in the token you issue me if you since both tokens can have both the confirmation method and and an audience and a issue or etc if you use the same parameter names you only have one it\u0027s going to be a problem the so we have this exact same problem when we\u0027re using J to be keys for URI signing and initially in the early drafts we use the odd for something very similar to what it looks like here and it confused implementers and the solution was really simple we moved it to a cDNA specific claim name that was specific to our particular purpose and we could define it however we needed to with whatever words were useful and it gave us the odd claim back which we could use for actually identifying with whoever was supposed to process the token Johnny I cut the line two quick things first of all I\u0027m not "
  },
  {
    "startTime": "00:36:58",
    "text": "opposed to rename stuff I just want to know why because it\u0027s for me that is more confusing like if I have a parameter name that is telling the auth authorization server to put another claim claim with another name into the token that feels confusing to me but okay I\u0027m not going to fight this this is not little I\u0027m going to die on and to make matters worse we define a scope claim so we probably need to rename that as well I guess we need a scope claim in the token Brian Campbell again a few few things John proxy and John I\u0027m sorry it\u0027s against the rules but he the the proof of possession stuff that we\u0027ve done to date in OAuth the drafts that are proceeding mutual TLS and token binding haven\u0027t run into this problem because the key material is implied by whatever\u0027s going on relative to that and mutual TLS is the client certificate took - no combining so there\u0027s none of these parameter conflicts it\u0027s just a point of observation that\u0027s how the the current sort of proof of possession work is proceeding the the name conflicting is actually a little bit more subtle than we\u0027ve talked about only Jacque claims which are sort of meta information about the token versus like more contextual I don\u0027t even know what to call it subject or contextual information so audience and CNF could potentially be conflicting to the extent that that jot needs to be audience to the to the Reese or to the authorization server and might have a confirmation in it about how its presented although there\u0027s no nothing currently defined for that there\u0027s no scope conflict because the way just the way that scope U is being used that it doesn\u0027t have context in a jot of like it has its own context in this presentation so it works okay even though scope is used in both places it\u0027s alright I didn\u0027t explain that well at all no it\u0027s a weird subtle sort of overlap of when you overlay a jot onto the authorization request claims that have context about the the validity of that JA audience expiration confirmation potentially then override request parameters that might have the same name so those are the ones you need to worry about so scope doesn\u0027t have that problem so my conclusion from this discussion is that we have to check for the parameter names and potentially rename the ones where there\u0027s a conflict I think it\u0027s good to point that out yeah and it should be on the registry which i think is coming soon because Mike\u0027s my and my last day one in the point I also come up captain like that I did have the resource indicators draft but much of that content or at least the concepts have been rolled into the distributed ooofff draft that dick is going to talk about here shortly which which itself also tries to find a resource parameter so "
  },
  {
    "startTime": "00:39:59",
    "text": "we\u0027ll have one more place to talk about it yeah but I think that would also be confusing to reference the distributed OS in a chest for a parameter like it\u0027s as confusing as referencing a source I don\u0027t disagree okay so so I guess I get the feeling that most people kind of in agreement that we don\u0027t want to use that audience parameter and we want to call it some some something else and do I think maybe we need a home of that because I\u0027ve seen some nods not clear about this maybe maybe there is still a people I\u0027m not clear on this one so I would ask for a hum for this and and maybe just to continue with this is that that fair enough god maybe do a hum after I present talk about the use of resource and distributed OAuth and then people can see that there\u0027s multiple places they are needing it that\u0027s fair enough Mike are you going to do the hum to adopt draft Campbell resource indicators is working group document that would be one of them it probably comes after that but I just want to make sure that people understand that there is a conflict and agree that is on conflict first right and that\u0027s my sense of that of the meat of that of the room that most people agree that that is the case but I want to just make sure that this is the case right so maybe we should wait for then for dick to present and after that take that that hum and I\u0027m fine with that okay okay um that took a little longer that was supposed to be a trickster um okay so profile the profile topic so in ace the profile has a specific meaning and it just to summarize in case you haven\u0027t read the document so in there are different protocols being used and security mechanisms between the client and the resource server because there are just different deployment environments and in the way how this was approached in the ACE working group was to register a profile string with a specification that defines exactly on what the mechanisms and what the procedures are so for example I listed one here which is the DTLS a co-op underscored idealist profile which as the name sort of indicates it refers to a specific specification and that happens to use coop secured by DTLS and it is finds on how the keys that come "
  },
  {
    "startTime": "00:42:59",
    "text": "out of the US I associated with the Bob talk now used in that to secure that exchange that\u0027s what what is called profile it turns out in the key distribution document we had a different parameter at that time which was called algorism LG barometer which allows the client to tell the authorization server what parameter it is going to use or planning to use or what it supports actually it on the uplink it\u0027s what it supports what algorithm it supports for use with the resource server back then he was motivated by the work that Justin did on the HTTP signing and it supported different algorithms so their authorization server was basically in charge of figuring out or knowing what the common or what resource of algorithm support is and then it would tell first of all during the key generation but also it would know what parameter to select so it would basically make that determination and it would send the corresponding parameter down to the client that was the meaning at that time and of course it was used with the token in context of the token type because if the token type indicated that it was a very token and that didn\u0027t make sense so it was if it\u0027s a pop token that that was applicable jim-jim shot I\u0027m not sure that I actually see a conflict here if for example in the ACE world you were using a profile of a score of co-op our score is your profile you may still want to be able to specify an L to say which algorithm in aw score you want to use so I don\u0027t know that there\u0027s necessarily a conflict in terms of that okay those are actually be different parameters right now you couldn\u0027t specify the out one but that would make sense okay so maybe maybe that\u0027s uh maybe the solution is not either-or but both um okay maybe that\u0027s a that\u0027s a solution micros are objecting at least to the idea of the profile our parameter so I try to elaborate on what is actually needed to successfully establish the communication session between the client and the resource server so first of all a couple of different profile protocols being available different ones used there\u0027s the tokens come in different flavors as well so currently we have three standardized token format defined in the IDF most prominently the CWT JWT and then there\u0027s also for the web RTC guiity debased encoding there is different security protocols currently from the ACE working group there\u0027s a "
  },
  {
    "startTime": "00:45:59",
    "text": "DTLS / TLS there\u0027s also an application layer oscar solution there are different trenches torrential types used which need to be somehow indicated and and I talked about the problem the algorithm sent the parameters already so there\u0027s quite a bit of information and that needs to be somehow either avoidable out-of-band or needs to be conveyed in the in the protocol exchange to make it make all of this work depending on the security protocol you use for example on DTLS that goes in here details can do a lot of negotiation on TLS negotiation for you so you don\u0027t need the authorization server to pass this information along for the profiles some of that information is fixed so to speak at the specification time rather than literally negotiated during runtime but deployments may have a different different solution so the question was what\u0027s the story with the ID in their profile so is the profile myq you had a strong view on this and and I\u0027ve just heard chips yeah just just compare before Mike goes on so five minutes you\u0027ll be able to pop okay mm-hm god Mike yeah profile is in the earth world typically something that is known by both parties via an out-of-band mechanism I know of no deployed instances in which 100 auth client uses two different profiles which are selected at runtime and the only purpose of sending this as a parameter is to select profiles at runtime so I think that this is you know not even in the 10% case this is in the beyond the 1% case and you should delete the parameter it is it it is an optional parameter at the moment in the into a so ah Stockman yeah but it\u0027s still encouraging people to think of something really complex as a normal thing to do and I think it\u0027s a terrible thing to even attempt to do I think it\u0027s encouraging complexity so it should go and do you have a number of documents do you have a perspective on the area under idlers and parameters well you would you also consider that out of an information or would you have a different I would do that in Discovery I wouldn\u0027t necessarily send that but the discovery would be it would be a discovery of what the authorization server supports rather than here we are is covering what the resource server are can use well if you\u0027re sending the information in a jar you know the "
  },
  {
    "startTime": "00:48:59",
    "text": "algorithm because it\u0027s in the jar so that the client a client needs to know what I person to use for per sentiment in context of the presentment I mean I this doesn\u0027t bother me very much because it is something that it might very unlike the profile which will never very okay John Bradley yubico I largely agree with Mike this is really a discovery and registration problem rather than a runtime decision problem maybe algorithm at runtime but it\u0027s that also seems a bit unlikely to me really we have to we have this general problem of resource discovery and allowing the client to magically know stuff and then tell it to the server you know we\u0027re just you know it\u0027s Turtles all the way down unless we actually deal with how does the client figure out what it needs to do to talk to the resource server either through the resource server or the authorization server yeah you do not going to have any of these parameters to specify you know the only the only time that the audience that kind of makes sense is if the client itself only supports a subset of algorithms then and you might have the same client ID across multiple client instances that had different cryptographic libraries but even that is a little bit tenuous so I get get the feeling that day but I guess there is no consensus on this is see yeah yeah I just want to let that work first three sites were just one comments you\u0027re now discussing stuff that we\u0027re doing in ace I would have appreciated that feedback quite a while ago when we were defining these things excuse me in October I sent a review of the a south spec explaining why profile was an encouragement of complexity and should be deleted because clients do not dynamically choose profiles at runtime and the review comment was ignored by the editors so we did say this in the ACE mailing list yeah you didn\u0027t do it yeah let\u0027s not move that\u0027s a signal I\u0027ll be the move forward yourself good way so which parameters okay so I guess maybe I will "
  },
  {
    "startTime": "00:52:05",
    "text": "take a hum here first do people I want to ask first if people understand that the issue in if they have enough information about and and and then later on one or the other and so the first the first one is just to ask if if you have enough information to understand the issue right so if you have enough info oh the parameters those parameters whether okay there\u0027s a removal or okay okay it is it is a working group item that is needed by two other groups and then this dependency we can of course shuffle content around that\u0027s what we always what we can always do but it is I don\u0027t think we are now getting rid of a concept that is coin is and also needed with web RTC or I use suggesting that Brian just because you you don\u0027t like it just in richer I\u0027m not gonna speak for Brian but having something be a working group item that is needed by lots of people all over the world has not been sufficient motivation for us to actually get anything done in the past and I am not convinced that it is still motivation so I feel that your counter-argument rings hollow given the attitude of this group in the past towards similar and in fact this exact set of problems while I think we should probably you know get our heads out from under the rocks and do this I\u0027m still not convinced that we are and so I agree with Brian statement that that is one of the open questions if we are going to do this or not I don\u0027t think it\u0027s settled so just instead yet so I\u0027m trying to find out what you actually trying to say is I hear you say that since the work is progressing in in ace maybe that works with all together that type of work the pop key distribution work should actually be done there I think that a should solve aces pop key distribution work I think a wall should solve a lot spot key distribution working to the extent that we can you know abstract things and use common structures and common parameters and stuff that\u0027s great but but the promise that we when Ace was started that was that Oh use OS because we can "
  },
  {
    "startTime": "00:55:05",
    "text": "reuse a common mechanism across the board and that\u0027s what we said it wasn\u0027t it wasn\u0027t all we do was here and then you do ace there because it\u0027s a common it uses a common technology it\u0027s not a common technology though because oweth is very strictly defined to http and the ace o auth is doing OAuth II kind of things in a different strata it I I disagree with thought that\u0027s what it was you\u0027re wrong I\u0027m sorry okay and that\u0027s your perspective yeah I could points to a book it\u0027s Brian I I don\u0027t not even sure what to say except that I think it to reiterate that I don\u0027t think the issue is well understood but which issue exactly issues which issue but that\u0027s my point even what the issues are there\u0027s no consensus you must be you must be joking there are three questions that are oughtn\u0027t to advance the document are three questions and the question are mostly about which document which working group should work put the content in a document that\u0027s that\u0027s the issue how complicated is that it\u0027s it\u0027s really complicated because we\u0027ll find out okay we put stuff into the the the ace document in but then we hear comments oh this should be done in OS and then some other people come along and say oh this we should work on this in OS because there\u0027s no energy do it in ace huh yeah so it\u0027s complicated okay so I don\u0027t know okay guys thank you I don\u0027t think we can take any home today I think we need more discussion and clarity on on the issues before we think any home so that\u0027s my feeling here I thought that was exactly my worry that we\u0027ve essentially bounced back and forth between the two different groups are the area directors unfortunately not here to raise their head which I had actually asked them to do so it\u0027s ultimately a decision about the area directors from where they won\u0027t want to do the work right it\u0027s like 50 and and I would like again I think I cut the line sorry guys we need to move on to two other topics because we are late already sorry purely process I\u0027m good I understand and I can I can understand where you don\u0027t want to make a decision not making a decision makes a decision for as far as I\u0027m concerned so I think it\u0027s in terms of of Aizaz as being in a chair my feeling is that that is confusion and not enough clarity to make a decision in the first place and that\u0027s so easy okay and that\u0027s the reason I\u0027m I\u0027m hesitant to take any any action right now thanks Hannes dick hopefully "
  },
  {
    "startTime": "00:58:25",
    "text": "this presentation will be a little less so well presented early draft of this and Singapore anybody got Singapore saw this yeah because I\u0027ve got something since Singapore Brian and Knapp joined me as co-authors incorporated you know what we\u0027ve been talking about here the resource indicator context into here and that had some stuff around metadata that we incorporated so the resources a URI and the earlier draft it was just the host added oh that didn\u0027t constrain it to only be client credential grants although it\u0027s unclear how the other ones would actually work yet or a use case for those and then using the link header for discovery so one of the problems trying to solve is in a more distributed environment the authorization server for resource may not be known previously and so it\u0027s discovered at runtime which enables you to sort of change a resource and you\u0027re more of a dynamic configuration so you guys can just read that or I can read that does anyone have questions on this what the problem is like here\u0027s a picture of it and so here a client might be calling resources and really what are different geopolitical areas where the author is there are different authorization servers for each of those regions but the client wants access resources in each of those regions and so needs to go to a different authorization server but that in this particular example the Scopes are potentially identical across all the regions and so you\u0027re trying to have a signal for the scope that\u0027s different from where the resources one of the issues that comes up when you do this dynamically at runtime is there\u0027s more challenges around access token reuse so the the client potentially could be using a token to go and access a resource that it wasn\u0027t supposed to so for example if you got a token and says you had certain scopes but there\u0027s no enforcement as to whether it\u0027s a an China or the u.s. right you could that client potentially could access the same resource with the same scope in both places and then another challenge of course is that when you have a bunch of resources one resource could be malicious and just reuse that access token access all the resources that that same client is accessing if that tokens can be used different places "
  },
  {
    "startTime": "01:01:25",
    "text": "so there\u0027s two ways of solving that and this document we work with the first one which is audience you\u0027re sticking the access token but there\u0027s other models where you want to constrain the sender so in the audience restricted essentially you get a token for each resource and you use the right the client needs to track which token is for which resource and then the other examples where the parties are both a client and a resource server so in this one you want a sender constrained access token where there\u0027s the same access tokens used but you want to know that whoever\u0027s calling you is the holder of that access token so the bindings the binding is more to the caller as opposed to the binding being to the resource so example that you know there NASA people so they don\u0027t really make their stuff public but there\u0027s a speck called UTM that all the people and this the space thing you\u0027re working on so UTM is you know made up another I from UAS traffic management UAS is unmanned aircraft system so essentially for a traffic management system for drones to talk to each other and talk back to their base about where they\u0027re flying to and in in this example the aviation authorities such as FAA would be the authorization server that says who are all the people that can be operating they want to minimize what infrastructure they Iran all the operators talk to each other to communicate and coordinate flight information so each party can call any other party and so you want to make sure that that you know the FAA is issued one access token to that party saying that they\u0027re authorized to participate and then they each on each call each party you once approve that they\u0027re authorized by presenting that access token but you don\u0027t want one party to use somebody else\u0027s access token to call other ones um that\u0027s a similar problem how that salt isn\u0027t covered in the current draft and so one of the things I\u0027m wondering is whether other people have similar use cases whether it makes sense to put this in this because it\u0027s another example of distributed a lot so we in the current draft in the you call the resource is how the whole flow kicks off you call the resource and in the 4a one response you get two additional things that are in a link header one is the identify are the resource and the other one is where to go to get information about the authorization server to go and call the authorization server there was some feedback this morning on the list about these pieces whether it\u0027s the full URI in awhile server metadata your I well there was a better name for that I think actually just turning it down to the "
  },
  {
    "startTime": "01:04:26",
    "text": "issuer makes more sense on that I have some comments on that so in this the key thing of course is the client is able to know that the thing that it just called that the it matches that identifier for the resource that the resource URI is part of the path that it called and the identity of the resource is partly determined then by the TLS certificate in that call then the clan goes in you know from that it knows where the AAS is and it knows what URI and so you know here\u0027s our resource parameter and the access token request if you\u0027re talking about before so we\u0027re saying that you know the resource would be that URI if we were take that out and have that be a separate document I don\u0027t think we\u0027d have an issue with that but it seems to make sense if it\u0027s useful other places and so then in the access token it includes your i if that access token happens to be a JWT then it would be the audience claim and then when you call the resource server you check that that that your resource URI is in your token so here\u0027s third of the discussion points URI for the resource anybody any questions any feedback I\u0027ll make one observation for the server metadata URI while before the OAuth discovery spec that would have made sense now we have so we have two different formats for multi-tenant one that\u0027s in Open ID Connect and one that\u0027s in ooofff because of path encroachment etc so doing there isn\u0027t a single URI there isn\u0027t a single base URI that you can use if it\u0027s a multi-tenant server so we\u0027re probably best off just specifying the whole URI because now it\u0027s hostname dot well known 10/10 anti-d so you\u0027d have to actually have two different parameters to be able to fully specify a hoie server on a multi-tenant host so I think it\u0027s just more straightforward to use the entire URI rather than trying to explain that to people but other than that that\u0027s fine I also think it should be alright yeah just aren\u0027t that one of the threats I saw was that the resource could "
  },
  {
    "startTime": "01:07:27",
    "text": "essentially say any URI and send the client to fetch stuff from anywhere that may not be where the a.s really wants people to fetch stuff from that was the good thing about the Open ID Connect format so it\u0027s it hard it\u0027s hard because it was limited to the one path hop below the well-known I mean we we would have to look at how you could constrain that or valid with the the OAuth discovery for format for for multi-tenant and notes it would be it\u0027s it\u0027s a real problem for sure in some of the other other multi tenant hosting things so something that we would have to address how that would actually work what you have if we just did the base URI it would break some of the multi tenant people who large multi tenant people now I mentioned my comment design is already on a UI but I also agree with Mike that defining this barometer and a separate document would make much more sense because there\u0027s a lot of context with the distributed o us that I think is not relevant or not applicable in other in other environments and then there\u0027s also a timing issue because this work has just started and so so that\u0027s why I would prefer to have it ident a separate door to just keep it in an ace or sake you talked about the resource parameter my right so if you think this is a different resource again from the previous discussion but I\u0027m referring to what Dick said because he once wanted to defer the call for that reflect was supposed to make on the audience slash resource on parameter to later because dick thought that this would be exactly the same and equally relevant is that did I understood you correctly dick that was what I was saying John maybe you clarify why you think this is the different resource this is this is the the link header coming back from the resource not the resource parameter going to the authorization endpoint you had this was one we\u0027re talking about here ok so but that wasn\u0027t what the pre-camp was on the previous slide so yes but this is what he\u0027s talking what he\u0027s talking about right but that wasn\u0027t well no because that this is the resource you I as it\u0027s handed in the access token request and so in the other side I had resource URI it\u0027s just the parameter called resource currently yeah okay and "
  },
  {
    "startTime": "01:10:29",
    "text": "everybody sits down okay any feedback on using link header anyone opposed to that okay so there was some comment on the mainland about you so I I was hoping that NAT would respawn Matt\u0027s kind of listening in on the meeting but I was hoping that would respond because he was though he had some good arguments for a while in Qatar okay so you wanna take it to the list or do sure we\u0027ll take that to the left cat yeah cuz I don\u0027t I don\u0027t actually have a clear answer myself okay and Matt doesn\u0027t know how to make XMPP work yet so you can\u0027t type but he\u0027s listening hi NAT another comment in the list was supporting multiple resources in the access token request for students or talked about that I don\u0027t I don\u0027t know it\u0027s unclear to me a use case where that could happen you describe a use case but but that doesn\u0027t really map into how the sort of distributed off kicks off which is that you call a resource and you get 12 where to go so you\u0027re only dealing with one resource I just want to say Nats on by the way in case you oh okay is he typing anything that we can say okay great so now we\u0027ll respond on list so I I\u0027m gonna stick with the sort of previous position of we have refresh tokens if you need you know multiple resources for a single access token adds to the complexity let\u0027s just if you need multiple yeah if you have multiple resources get multiple access tokens there may be different keys or different transports or other things that you will eventually have for those resource servers so I tried trying to optimize it is probably counterproductive so you want to have a different opinion on that okay well we\u0027ll see whether Torsen can provide some crisp examples on the list mister Torsten from Phil Hunt developers hate getting multiple tokens developers hate doing what what it is that they don\u0027t like doing Justin Richard one repeating what John said from the floor years that developers hate security which is marginally true but what\u0027s more true is that most developers don\u0027t care about security they care about functionality and so as you know complex "
  },
  {
    "startTime": "01:13:29",
    "text": "as we can make a security system if it\u0027s too complex they\u0027ll duct tape it open in ways that we don\u0027t anticipate I\u0027m not saying that\u0027s what this is destined for specifically but but it is definitely something we need to keep in mind especially because this is I think relevant to the larger resource URI discussion you look at what happens in sam\u0027l with audience and resource URLs and nobody knows which one means what like ever so I think we have to remember remember our history as we are choosing kind of what to call these and what they apply to okay any suggestions on different names oh I have no idea okay so Lucy Lynch sort of a question and a puzzlement about multiple resources in an access okay given some of the current drift towards delegation consent and revocation do you think about that in how does that mean the entire token dies when one resources but when one copes so yes so say it say one scope is is what\u0027s wrong mm-hmm then the entire token dies the access token yeah yeah I mean so would hammer be reissued with a more limited scope right okay yeah which you know typically happens if you don\u0027t if a scoped revote and you don\u0027t have and you\u0027re using refresh tokens and the tokens are you know they\u0027re valid until they expire then usually that would happen on the Refresh but then you get a new access token with the different scopes I think I\u0027m an imagining a world post gdpr where you may be required to refresh quicker than you think you are yeah and so implementations do that then do some bloom filters so that everything can check to see whether that\u0027s a revoked access token which forces the client to go back and refresh again right away all right so to Lucy\u0027s point you know we designed refresh tokens so that we could have short-lived access tokens to deal with some of these issues you know allowing you know we don\u0027t want to encourage people to have long-lived access tokens that are good for multiple resources and start getting ourselves into these these issues so it\u0027s you know encouraging people to properly use refresh tokens keeping that keeping that and adding a whole bunch of dubbings for multiple resources just adds to the complexity yes developers have to do a little bit "
  },
  {
    "startTime": "01:16:31",
    "text": "more but there are SDKs that take care of getting new exchanging getting new access tokens off of a refresh token it\u0027s not the end of the world for developers you have to deal with multiples well if the developers dealing with multiple resources that have different authorization servers they inherently have to have different access tokens any yeah right this this is sort of only an optimization if the authorization server happens to be authority for multiple resources yeah it\u0027s my last question is you know that the proof of possession stuff is really between the client and the resource one of the challenges in a distributed OAuth is the authorization server reusing the client credentials at a different authorization server and impersonating the client and so that sort of drives you to wanting to have a authentication mechanism between the client and a s that doesn\u0027t allow the a s to impersonate the client if the client is using the same credentials that different yes ludovic sites why not use an asymmetric pop kibum you just give the authorization server your public key and you do the proof of possession with the private key and then the authorization server can impersonate q everywhere else only right but it\u0027s not this is protecting the call to the a is nothing call to the sole source so we do have two current asymmetric authentication methods - the token endpoint JWT assertion well then there\u0027s a sam\u0027l assertion but we won\u0027t talk about that and mutual TLS ideally you know you shouldn\u0027t be using symmetric credentials in a distributed system like this that\u0027s just gonna go wrong so yes propane you know that\u0027s something that I\u0027ve been fighting the GSMA and other people with large distributed networks you know just you have to bite the bullet use a symmetric client credentials and either use JWT assertion or mutual TLS to authenticate the client everything else will inevitably go wrong in some horrible way yeah actually okay the the treatment in so I\u0027m gonna cut the mic after just before hums I think if I remember correctly in some configuration even that JWT sort of assertion profile wouldn\u0027t help because you know you have to because it was more used as a bearer token and so you could actually take that one AAS could just take it and relayed to another one so there\u0027s an audience the audience would be there so the ears couldn\u0027t they could call "
  },
  {
    "startTime": "01:19:32",
    "text": "themselves but they couldn\u0027t call a different air we thought of that let\u0027s check that yeah there is another point which is sort of in the code flow the resource you are I could be a useful piece that seems to make sense although I\u0027m still trying I\u0027m Ser of any clear use cases on the code flow whether we wanted to do Senator constrain access token and then of course this is still a ID and is this work that\u0027s interesting for the working group and whether we should adopt this that\u0027s a question to the chairs see if they want to put that as a question yeah so so I guess we have two questions and the first one is about the resource a the audience a question and I think the last question is the most important questions yes if the last question doesn\u0027t have the right answer then the other ones are irrelevant okay yeah fair enough and okay so I\u0027m gonna a call them for a week or adoption for this this document and see if there is enough support here so if you are in favor of adopting this document as a workgroup document hum now if you\u0027re against hum now okay now I think that\u0027s clear and just for completeness there was one hum in favor on jabber thank you awesome okay so then quickly back to can you go back to that to that slide that talks about there the URI no not more yeah yeah that\u0027s it aim so I think that the feeling that from the room that there they don\u0027t want it to overload that a audience so I wanna ask for adoption of that document that defines the resource in server or the resource as a separate or the parameter versus a overloading that M that the audience so if you\u0027re right John I think those are slightly two different questions one is whether or not we should be using audience or resources of parameter the other question is should we adopt the other spec and back out some of the stuff that went from that\u0027s back into this fact so that this spec refers to the the resource but then the name and where the work is done are sort of two different questions right okay should we have a document that defines a prayer separate parameter "
  },
  {
    "startTime": "01:22:37",
    "text": "okay what someone would like to be in the audience of an issue token yes which I think Brian\u0027s draft was the starting point right very quick comment what you have here in resource and what I see in the Campbell draft is different from what is in audience it\u0027s like in resource and in the Campbell draft it\u0027s like your eyes or URLs even and in audience it\u0027s more generic so please align yeah there\u0027s there\u0027s if we do a separate spec we\u0027re gonna have to look at what my ace is done and and other people to make sure that for the different transports the the the value of the resource parameter actually makes sense for those transports but that can be done in in thats back yep Stefan\u0027s on the song I was just looking through they they draft and they just wondering this is yeah multiple resources requiring different access servers and could you could you have multiple choices of how to for one resource or have multiple choices of where you go yes you could which authorization server and that\u0027s what you\u0027re referring to yes sorry wrong terminology authorization services yes which would give you resiliency yes I guess I\u0027ve heard a few different use cases for that parameter over the years and I\u0027m kind of wondering if all these people consider themselves to be distributed or I think that\u0027s actually probably highly likely so kind of makes sense to me to do that work here that I know like tossed in the nose a few other people that will see interested in the resource so why don\u0027t we do it yeah okay have a document define a parameter the signal what should be the audience okay so the question is do we need a separate document to define that parameter if the question will be sure we adopt Bryan\u0027s document but but Bryan\u0027s document is just that and the manifestation of that right so is it specifically you want to talk about that not right [Music] do this work in that document right okay so then I\u0027ll ask about an adoption of resource indicator document and okay so "
  },
  {
    "startTime": "01:25:42",
    "text": "if then yeah so if you are in favor or adopting resource indicator document as a regular document please hum now if you are against please home now okay thank you Thanks no I don\u0027t think we have any moments you guys so maybe we could summarize what we sure so I just sent a mail you may have not have seen it to the list about asking our area directors for a little bit of guidance on the day\u0027s the synchronization between A\u0027s and os I think that will be helpful okay let\u0027s give him an two minutes here oh yeah okay I\u0027m gonna be quiet yeah the security best practices document okay this is gonna do something okay what is it you should already have been paying attention to this it\u0027s an overview of the security topics dealing with all the feedback that we\u0027ve gotten from the security researchers we\u0027ve divided it based on the feedback we\u0027ve divided it up reorganize the work so we\u0027ve got upfront recommendations and then the detailed threat analysis and proposed countermeasures our recommendations are exact redirect URI matching avoiding open redirect errs through various mechanisms one time parameters tokens or values in the state parameter or cross-site request forgery they s specific redirect your eyes clients using pixie to prevent the reinjection of code using TLS based methods for constraining the resentment of access tokens and end-to-end TLS wherever possible our current status we got some review feedback after 101 we\u0027ve incorporated that into the latest version we haven\u0027t had any torques company\u0027s reasonable feedback perhaps we got some unreasonable feedback we\u0027ll have to ask Torsten what he meant by that we have two proposals which we have to decide what we\u0027re going to deal with one about audience restriction which we should probably add I think that makes sense crypto agility people can look at the proposal on the on the on the mail archive and decide whether or not we "
  },
  {
    "startTime": "01:28:42",
    "text": "want to do something with that my personal preference is that probably doesn\u0027t doesn\u0027t make immediate sense in the document so we should decide what we do with these two things and then do a last call and try and move this BCP forward thank you very much thanks you [Music] everyone okay [Music] "
  }
]