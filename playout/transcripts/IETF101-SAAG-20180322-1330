[
  {
    "startTime": "00:00:42",
    "text": "[Music] we did talk their sponsor then from freaking out I guess yeah "
  },
  {
    "startTime": "00:04:17",
    "text": "Herry I will show that is what figured out she tells me okay I\u0027m not putting the slides now or the rest the slides okay for okay okay I thought I didn\u0027t "
  },
  {
    "startTime": "00:08:27",
    "text": "know we see much okay okay well I don\u0027t [Music] so you do understand extended like all right are you okay so this is sag if you if this is not the flight you intend to be on you will probably should be bored now we\u0027re your hosts Eric Ricola and Benkei duck and before we get started I\u0027m a new face up here and we want to say thank you to the old face who has been a great ad for the past several years so Kathleen come up we got you a couple things so now that you have some more "
  },
  {
    "startTime": "00:11:27",
    "text": "free time you won\u0027t be reading grass so maybe we\u0027ll have some light reading material one piece and you know it might take a little bit of time to get through that so to keep you occupied yeah wait maybe this will buy us some free time from isn\u0027t the original Russian edition yes I wondered is a thank you yeah no I want to say Thank You Kathleen for really help me meet up to speed and you know making me the era director I\u0027m today right right so it\u0027s Thursday this is note well you\u0027ve probably seen it before but no well and here we got the agenda for this session so does anyone want to bash the agenda looks like no I have my table on other laptop so many working group sent their reports in already if you did not send in your report already we\u0027re gonna call you up no this makes life yeah she quit through our you know so yes ace I hope you did that Benjamin Jim did that actually okay face back me I have curdled dots to be a dots yes we got dots who got EMU God I to an SF God IP sucked me got kitten which I also did not do Lance do we get lamps in the past couple hours anything interesting "
  },
  {
    "startTime": "00:14:31",
    "text": "maybe tomorrow for those who need the microphone is Russ even in the room he also found a restaurant that was slow to deliver lunch mile anything from mile yeah we have something okay Olaf we got sockem met just before lunch we have a I think that\u0027s everything then because we got sick dispatch succulent not meeting yet suit keep us very long report from TLS relievers anyone from what if these want to get up and give us a short over Alexei Melnikov CFR GMAT on Monday we had a pretty full session for documents already 4 PI RS g review like argon and hash rate signature and rekeying and we had some very interesting presentations on formal method of verifying correctness of security implementations randomness improvements and caching ability curve I\u0027m not seeing anyone else jumping up to the mic so cool get going MLS Bop is later today it\u0027s later today in Birmingham that\u0027s right after the session actually come one come all we can talk about securing developing a message security layer that can use my house using some cool stuff of trees mercial rockets trees Merkle trees all kinds of trees come alright so now it\u0027s time for representations so our first presentation is from a Karthik part of on we\u0027ve done like a lot of really amazing work on TLS and verifying protocols you know I posted a supposed to say anyway but I\u0027ve worked across it quite a bit and it really is amazing so what is you oh thank you Eric thank you for the opportunity to speak to this lovely crowd um slides are somewhere I can talk about that couple deprecating md5 if you like but yeah all right so as to talk a little bit about protocol verification tools how they can be applied to various protocols that we are standardizing in this the idea from other places so many of you have been involved in or at least are aware of what I call the TLS one three experiment where for several years the Taylor\u0027s working group engaged in a "
  },
  {
    "startTime": "00:17:31",
    "text": "collaboration with a bunch of group of academic researchers and the idea was to do hand in hand safe formal security analysis of the protocol while it was being designed and specified so there\u0027s a list of it it\u0027s an incomplete list of papers I\u0027m citing there so as for every significant draft of TLS 1 3 there was usually some cryptographic analysis some security analysis of various kinds and various papers were published so this was very productive for researchers because you could a lot of papers out of this at top venues and I\u0027m hoping it\u0027s also it\u0027s also a good thing for TLS 1 3 because we can have more confidence in the in the final version of this of the subsea so for those of you are not we\u0027re not really deeply into the TLS working group and how this whole thing went you might be curious about some things like well there are so many papers out there you say that many analyses well what are they all prove how they\u0027re how are they different how much work did it take and is it too much work you know and for example if you have a shiny new protocol well can we do the same thing for that protocol so in particular we are trying to do the same kind of thing for the MLS protocol that\u0027ll be you\u0027ll be seeing the boss later today but you want to see how this kind of I\u0027m gonna give you a little bit of a flavor I was told for a 20 minute talk so I\u0027m gonna speak for 20 minutes and we\u0027ll see whether we can answer some of these questions next slide please well before the what and the how of these various verification techniques is good to remember why next slide please so the for the four years before TLS one three was designed this is sort of the what TLS was known for for some reason it was because there were lots of these keyword based attacks with nice webpages logos and news articles and next slide please and if you kind of go deeper into these attacks well the first you\u0027ll see a bunch of them were what I would call cryptographic weaknesses which means that certain modes of TLS or certain modes of certain versions of GLS were known to be or were found to be not satisfying the cryptographic security that we expected from the protocol next is another category of these attacks were what I would call protocol flows where the crypto was okay but the way the various modes and features and mechanisms in the protocol were composed left some unexpected interactions which again caused certain breakages or certain properties you might have expected to hold next like these and the last category is implementation bugs which sort of feels like well of course any piece of suffolk and i\u0027m implementation bugs but next piece it turns out that often a lot of the attacks that became famous were relying on a combination of all of these so they were implementations bugs crypto weaknesses protocol flaws all coming together in some kind of perfect storm to create all these attacks next time this so here\u0027s an example I\u0027m going to work you walk you through the kinds of problems that we which you had to understand what are the kinds of attacks that these various tools and tools are trying to prevent okay so this "
  },
  {
    "startTime": "00:20:32",
    "text": "is the classic one crypto 101 all of the synthesis diffie-hellman key exchange Alice sends du/dx Bob since you do why they compute due to the X Y and that\u0027s going to be the key and we all know that this is vulnerable to a man-in-the-middle attack next slide please where a man in the middle is going to be tampering with the key exchange in a way and at the end of it Alice and Bob think they\u0027re talking to each other but they actually both talking to the man the middle okay and this is a well-known attack and there\u0027s a well-known solution next type is for example there\u0027s the Sigma protocol almost twenty years ago now in which interesting which is known to prevent those kinds of man-in-the-middle backs because it uses a combination of signature and Max and that\u0027s why Sigma and it has it has a nice cryptographic room is provably secure and if you go look inside the probable the proof of Sigma next slide please what you\u0027ll find is at the heart of it is this construction right the diffie-hellman construction and there you have to make an assumption about the strength of that construction and there are many different ways in which you can make assumptions there but typically the standard hardness assumption you make that is that if I don\u0027t know X or if I don\u0027t know what and if I don\u0027t know why it\u0027s going to be hard for me to compute G to the XY okay and this assumption crucially depends on how well this group has been generated how strong that P that prime is modular which by doing all this computation I\u0027m going to talk about this as if this is modular modular diffie-hellman in some sense but similar arguments holds for elliptic curves as well okay next slide please so what does the primes were small right so if the prime was really small then we know that you can do a discrete log on to the Y or G to the X and you can extract x and y and completely break the protocol so obviously the crypto proof that we did for Sigma only holds if that assumption is true for the particular prime and group that we chose and if you go and look at the records for how small this prime can be well right now do we have been able to break all the way people have been able to break all the way in academic settings up to 768 bits we don\u0027t know if nations yet may scale people can do better but but basically we can break at least actually we went one side to forward I guess we can at least wake up to 768 bits so if you want a proof for Sigma to hold you must instantiate it with the group which cryptographers will say should at least have 2,000 bits maybe even three thousand bits in the finite field if you haven\u0027t set it otherwise the proof doesn\u0027t work okay so that\u0027s how you interpret the krypter krypter krypter proof is allowing you to uncover the necessary cryptographic assumptions on the primitives under which the proof falls and now it\u0027s your job to go and then instantiate it in a way that the proof is not broken okay next time listen but protocols don\u0027t just sort of support one group right I mean all interoperable Internet protocols are going to support at least like multiple groups and some of them may be strong and some of them may be weak so here\u0027s an example maybe Alice supports a strong mm and a "
  },
  {
    "startTime": "00:23:32",
    "text": "weak 500 bit group and so does Bob so Alice is going to say to Bob listen I support these two groups pop is going to say oh let\u0027s do two thousand but if you have one because that\u0027s good that\u0027s the strongest group you have in common and then we are going to continue with the protocol and if all goes well they\u0027re never going to use the finder 12-bit true so you might ask well why do they support that 512 bit group in the first place well the usual answer is backwards compatibility right so if you want though if alice is connecting to like an old printer or something which has never been updated it\u0027s still supporting some 500 bit group maybe for that particular connection she is willing to accept that that we group but when she\u0027s connecting to Google which has a 2000 bit group I certainly want to use 2,000 bits right and if all goes well every connection like this between the clients and servers if we do care about is going to use a strong deviant group hence it is going to satisfy the assumption that we used in our crypto proof so the crypto theorem still holds okay so if all goes well that holds but if you go to the next slide but there\u0027s a protocol flow on the protocol I put on the previous slide with if there is a downgrade they don\u0027t get attack is a kind of a man-in-the-middle attack again again back to the same pattern over and over again for diffie-hellman so as a person in the middle what that person is going to do is the attacker is that when Allison says I support these two groups a strong group in the B group the attacker is just going to delete the strong group that message and just let the B group through so Bob is going to think that Alice only supports a weak group so it\u0027s like some old Windows XP machine or something and it\u0027s going to say okay let\u0027s do the weak group so it\u0027s going to send back the founder and 12-bit group now Alice gets us we go back from Bob and says well maybe Bob is an old printer or something so maybe I will accept this so both of them have been fooled into thinking the other one is a legacy device with whom they need to kind of downgrade to find her in 12 bit troops and now the whole protocol goes through we are using finder in 12 bits and obviously the theorem doesn\u0027t hold the assumption is broken and everything goes back now the thing to remember here is that even if you try to protect this this negotiation like TLS does using the using a Mac or something it might well be the case and this is what happened in TLS that the mechanism being used to protect the downgrade the the protocol from downgrade itself was downgrade about so you could use the downgrade attack to completely break even the downgrade protection so that\u0027s the attack called log jam which came into 2015 it is a combination of this crypto flaw which is that there are some weak modes 512-bit sort of defilement modes and a protocol flaw that allows us to go from a strong mode to a week or so compose them together we get an attack next slide please of course you could just say let\u0027s eliminate all bad diffie-hellman groups from all implementations of TLS and that\u0027ll be a very nice thing to do so we have only strong groups everywhere we end this nice world and you still have one more thing to worry about which are implementation bugs so what if you can disable in your configuration and open SSL all week diffie-hellman or maybe there\u0027s a bug in the code which will allow the attacker to trigger the code "
  },
  {
    "startTime": "00:26:33",
    "text": "path that leads to week if you haven\u0027t groups even though you have officially disabled them all right so this is the kind of bug that led to a bunch of these attacks like free Claudia mint round there could be other birds in the implementation of the Fieldman itself in the crypto library so to speak your diffie-hellman computation might be functionally incorrect it may have memory safety but so it may have side channels right and that can completely bypass the security that you intend for your protocol so obviously verifying the implementation is going to be important so we got tripped up weaknesses protocol flaws implementation bugs and they are coming together to break our security next slide please so how can we identify and prevent these attacks well we are we are advocating the use of formal verification tools for this and from one analysis techniques whether they done manually or automatically so there are three kinds of works that we have we are seeing in this domain which are things that you can use well the first kind of thing you can do is you can identify the core protocol that you\u0027re interested in and actually prove it strip tow graphic security what that means is that you\u0027ll have to uncover all the crypto assumptions that you rely on and then show using a reduction or a game popping proof that your protocol is secure if all these assumptions are met to do this kind of proof typically you need to include some kind of cryptographer in your team it takes a significant amount of time usually the pool proofs are done by hand and they\u0027re quite involved because involve probabilistic polynomial-time trading machines and so on and can take a few months but it\u0027s worth it because at the end of it you have a strong security theorem to make your work a little bit easier now there are some tools which I would encourage you to look at if you\u0027re interested in this zone like easy crypt and crypt over F which can automate some of the more sort of simpler parts of these proofs you\u0027ll still have to do some thinking for the harder parts of course a second technique and this is one I will advocate for almost everyone in the room is that before you even start doing your crypto proof maybe you should analyze the protocol symbolically to find all kinds of protocol logical flaws that you might have in your in your protocol and for this there\u0027s a whole bunch of really good tools available now they are fully automated you can specify your full model pretty compactly I\u0027ll show you an example and you can run these tools and they\u0027ll show you a tax okay and if you have kind of run it enough times and not found any symbolic attacks you at least given the protocol a good shake and now you\u0027re ready for doing the actual crypto process of course after having all done all that I would encourage you also to kind of if you have a prototype implementation or whatever or a reference implementation to it to verify that it doesn\u0027t have any bugs so that you have at least one clear way of showing that your protocol can be implemented in a secure way and for that as well there are a bunch of tools available that that you can use next like this and so the one will confess on his the one in the middle next slide please so all of this effort like I said can take months or weeks to do these kinds of proofs which is not much if you think about the the gains that you get from them can all be made much simpler if the protocol itself were designed from the very beginning to "
  },
  {
    "startTime": "00:29:34",
    "text": "be verifiable and what do I mean by this because you know if you\u0027re writing a new protocol spec what can you do to make this kind of formal method more accessible more applicable to your protocol well I would give you at least five recipes and five things that you can do and there are many more of course but these are five I think are quite important the first thing which is kind of obvious is that your protocol spec standard should precisely define your threat model and security goals now this is like obviously it isn\u0027t every RFC do this no not precisely enough actually because we spend a lot of time researchers actually just writing those things down so just that\u0027s like almost a majority of our time so finding a way by which we can communicate this between spec authors and researchers would be very good because this is not precise enough right now the second thing you can do is to use standard well understood constructions so we don\u0027t have to invent new security definitions for the way you use some combination of encryption and macking in your protocol when you could just have you say hey D right so if you use some well understood constructions we can use well understood proof patterns the third thing is if you break a protocol into a kind of composable sub protocols and composable is actually a key word here because it actually means something very technical which is if you can prove things about the sub protocols they actually the proofs and the definitions meld together well in order to give us a proof of the main protocol this is a problem with earlier versions of TLS which is solved a TLS 1.3 and is actually kind of very important for a lot of the proof techniques to work well a fourth thing is that if you have two different versions or two different modes of the protocol you have to either it\u0027s best to actually completely avoid any key reuse between the different modes but if you can\u0027t avoid all key reuse and very strictly limiting how a key that is used in one mode can also be used in a different mode it\u0027s critical otherwise you have to verify all of these things together if you can limit this you can verify the different mode separately and then they do interfere with each other and the last thing is well you want to help programmers of course write implementations that are easy is easy to prove correct and therefore easy to be correct and to do that there might be some standard data structures and state machines that you\u0027re using in the protocol it\u0027s best to specify it because without that people are just inventing their own ways of doing this and getting it wrong next like this so the TLS one three experiment what I did right I would say is that it actually did a lot of these this was a big part of the effect effort was to actually implement many of these patterns to actually make the proofs even feasible so the all the papers at the bottom were only possible because if because the design team agreed to make many changes in design and redesigns in order to in order to make the cryptographic analysis easier in some cases well there was just nothing to be done for example zero watch et so despite many complaints it remains in the remains in the standard but in many other cases actually the protocol changed a lot even sometimes at the cost of performance so I\u0027m going to "
  },
  {
    "startTime": "00:32:34",
    "text": "show you a little bit more about one particular analysis technique which is the one which I\u0027ve highlighted there which is symbolic protocol analysis technique which I think can be more useful and has been already applied to many other protocols not just to tell us exactly so let\u0027s let\u0027s set a target so we let\u0027s assume that we\u0027ve got tons and tons of proofs of TLS 1.3 right so we let\u0027s assume that all the modes of TLS 1.3 are provably secure they\u0027re as solid as can be we don\u0027t have to worry about them but we do know because of all the red stuff before that there are some modes of TLS 1.2 which are broken there\u0027s some obscure modes maybe but SACEM mode which are broken so and you also know that for the foreseeable future TLS 1.3 is going to be deployed and run on servers alongside side-by-side with TLS 1.2 just for backwards compatibility for maybe 5 to 10 years this is going to be the case so how can we be sure despite all our proofs of TLS 1-3 that an attacker will not just do the same man-in-the-middle attack that we talked about when somebody is trying to connect with TLS 1.3 just downgraded to TLS 1.2 now we are in TLS 1.2 we know there are some broken words exploit the broken modes and therefore or just jump down the ladder until we can get to an attack and then break the protocol so is there a downgrade attack on TLS 1.3 that will completely avoid all the proofs that we did for it hopefully not because we actually try to put in downgrade protection countermeasures and until s13 but how do we verify that they work next side please so one technique is well let\u0027s analyze it let\u0027s formally analyze this protocol to make sure that it cannot be downgraded so how do you do that well the first thing you have to do for to do a symbolic protocol analysis is you have to write down a model of the protocol in some formal language so for example you can write it down in a language called probative and the protocol on the right which you can\u0027t really read is the whole TLS 1.31 RTD protocol and it\u0027s key schedule or that kind of vaguely fits on a page it\u0027s not super super complicated there\u0027s also of course a zero RTT mode and in this case we also want to check for downgrades to TLS 1.2 so we will also have to model TL at some point which is equally complicated but however complex these protocols are when you actually write down the cryptographic model or the protocol model for these protocols 1.3 1.2 0 RT d 1 RT T everything put together is about 500 lines of progress it can be even more compact if you like okay so it\u0027s like a few hundred lines you can just model the whole protocol that\u0027s not the hard bit and I\u0027ll show you in the next slide what the model looks like the hard bit is how do you specify what your threat model is and what your security goals are and how do you understand what the results of the analysis are actually telling you so how do you map what your desired goals from TLS are down to this tool and and kind of map what it\u0027s saying to what you actually want to prove next type piece well this is again probably unreadable but this is what it looks the protocol model itself looks like in probative all I wanted to show you was that well if you\u0027re used to programming in something like I don\u0027t know Haskell or oh camel or Python or whatever any of these "
  },
  {
    "startTime": "00:35:35",
    "text": "high-level languages it won\u0027t look very different you just write basically according the sequence of cryptographic operations that\u0027s happening in the protocol it just caught really ok so that\u0027s just in its own syntax it has its own formal semantics there are some threads and some messaging but ok it\u0027s not it\u0027s not going to be rocket science to write down that model ok why interesting like I said again is how do you model the threats so next slide please so in a tool like Crow Varys and and Cameron what you\u0027re doing is symbolic protocol analysis which means that you have a symbolic threat model what that means is this model which is which was originally designed by Needham and shorter and then elaborate a bit olivine Yau which is basically of an network adversary so then the attacker is someone who can read write tamper with any message on the public network the attacker can also you can also play the role of a client and play the role of a server on any session the attacker can also compromise certain servers and certain clients by kind of stealing their long-term keys and when all of this is said and done we asked well can an attacker now break into a session where it has actually not broke kind of start playing the client of the server both the client and the server are honest or those sessions safe or not the one limitation we put on the attacker in this model is that they that when you think about strong crypto algorithms we take them treat them as completely perfect so the attacker cannot break into strong crypto cannot guess long keys just there\u0027s no it\u0027s not like a probabilistic argument we just say possibility\u0027 cailli attacker cannot do it it\u0027s a it\u0027s a black box and that kind of simplifies the analysis a lot so in order to deal with downgrade attacks we also have to extend this classic model a little bit so we have to extend it to the idea that some algorithms might be weak because you know that wise there\u0027s no point in doing downgrades right so what we do is we can say that every primitive has two versions a strong version and every equation if you use a strong version it\u0027s perfect the attackers cannot really break into it at all if you use a weak question you\u0027re completely hosed I mean the equation of that Tripta primitive gives you no guarantees whatsoever okay and now we want to ask the question can an attacker who can break weak ciphers and you can do all those Network attacks that we talked about and be a man-in-the-middle into any protocol session can such an attacker break the security goals of TLS next likely\u0027s and what are these security goals you have to write them down right so an providers will have to write down well what is your secrecy go what is your authenticity goal do you want to prevent replays do you want forward secrecy and each of these goals you can write down some of them will be true some of them will be false right so replay protection does not hold for zero RTT data but it holds for one RTT data so these are all goals you can write and you can evaluate the protocol and say where which messages enjoy these properties and which messages don\u0027t enjoy these properties so the simplest of these goals and that\u0027s what you\u0027re going to look at is the secrecy of messages so let\u0027s say you want to ask is the first message sent my by my browser to a TLS 1.3 server s is that first message kept secret if the server is honest if my browser is honest "
  },
  {
    "startTime": "00:38:35",
    "text": "is that kept secret so you can write down the query like the query at the bottom of that slide and you can ask Croat if please prove to me that this is secret next slide please and Provera you\u0027ll say no and will give you a trace and a counter example and say no there is a sequence of actions have in the pro in the protocol model which is this 500 line model we wrote which at the end of which the attacker has this has this message and in that if you look at what\u0027s actually happening there you\u0027ll find it in that particular trace the attacker has compromised the server\u0027s private key and is able to therefore break the secrecy of the message is able to impersonate the server get the message that this plant is thinking is sending to the server but the attacker gets it so you say oh okay okay we only want to consider sessions where the server has not been compromised so you can ask the second query next right piece and now you say prove that the message is secret as long as a server is not compromised Probert if we run this again only our whole model find an entire trace of messages and I say yes I found a trace where in fact the attacker can get the message even though he has not compromised the server because that particular trace uses a weak aad algorithm or weak encryption algorithm like Mac encoding crypto something next type is so you can say okay now I know that in a in caelis 1 3 all my algorithms are strong so I want to remove that case as well and say ok is that any other situation in which this happens and so on so you can keep iterating with your goals and Rover if you\u0027ll still keep searching through all possible man-in-the-middle attacks and try to find you ways in which that goal could fail and if you keep going on next slide finally you get to a this is a strongest goal that we can prove for TLS 1.3 secrecy it says it lists all the particular cases in which the message from the client to the server could be known to the attacker and at this point probative says no I cannot find any symbolic which means a network-based attack that would break this okay next slide please so how do we interpret that query well if you read through what it actually means what it says is that all messages on TLS 1.3 connections between an honest client and an honest server are secret as long as the following four conditions hold true ok the server is honest the client is honest plus four conditions that the connect this particular connection should not use a weak AE algorithm which is okay TLS one three shouldn\u0027t have an EVGA algorithms this connection should not use a weak diffie-hellman group which is again okay tell us one thing should not use a different groups week different groups the third one is that the server promises it never uses a weak hash function when signing with the same key that it\u0027s using on this connection on any other session so even on some other session if it uses the weak hash function to sign with the same certificate key that other session could be used to break the session a care about okay so this is actually a global property that server should not use a big hash function with any other protocol if it\u0027s using that key similarly the server should never participate in TLS 1.2 RSA key exchange because if it does then there is a cross protocol attack between TLS 1.2 RSA and "
  },
  {
    "startTime": "00:41:37",
    "text": "dealer some points we are say signatures and TLS 1.2 RSA encryption and at least in our model that attack is considered to be valid so this essentially if you look at these it gives you the minimal set of conditions or pre conditions under which TLS 1.3 satisfies that secrecy goal that we said and therefore is downgrade resilient in some sense as long as those conditions hold true another way of looking at it it is giving us a limit on all the weak algorithms that we have to watch out for in TLS 1.2 because they might break TLS 1.3 they might be breaking tears 1.2 - but maybe you don\u0027t want it to break TLS 1.3 so I have focused most of what I\u0027ve been saying here on TLS because you know yes giving out TLS t-shirts on the back it\u0027s kind of success story and so on but of course a lot of the techniques I\u0027m talking about you know they don\u0027t just apply the TLS apply to any security protocol that you care about right so I\u0027ll talk a little bit more about earth 2.0 because that\u0027s actually an interesting case but indeed vacation tools like what I\u0027ve talked about in methods have been applied to all us 2.0 it\u0027s just nothing like to you that\u0027s right it also been applied to Acme to find the tax and do proofs it has also been used recently to find a tax on this Phi G aka protocol by Kramer\u0027s at all and these are exactly the kinds of analyses with the queries and symbolic proofs man-in-the-middle attacks as I\u0027m talking about but later today it is an MLS buff and in fact MLS already has a model for the for some parts of the protocol and we are working on models for more and more effect and we are hoping that this will also be a case like TLS where you can apply a lot of these techniques so let\u0027s look a little bit at off which is a very different protocol from Kalyan just to see how how it looks like so earth is what we are using and most of you probably not sorry what you\u0027re using when we go to say Pinterest and say I want to login with Facebook so Pinterest is gonna forward me we are an HTTP redirect to Facebook Facebook I\u0027m gonna log into facebook facebook is going to generate an access token it\u0027s going to redirect me back where an HTTP redirect back to back to Pinterest which now gets the access token from the URL and I\u0027m logged in yeah it\u0027s a double redirection protocol it uses HTTP underneath but in the protocol itself this hardly any crypto I mean there\u0027s no crypto actually the inside the access token that could be some crypto this is in open ID Connect which isn\u0027t which is on top of us there is a there\u0027s an ID token which has a little signature inside it which is kind of important but really it\u0027s very lightweight on triple so if you just look at that protocol it\u0027s just like you know whatever secure channels to messages or for messages back and forth it\u0027s very simple people have analyzed this for many years now we think we should understand this protocol reasonably well right so but to analyze this protocol there\u0027s a big hole the hole is a following the protocol is running in the browser right and the browser is a different beast to TLS clients and servers so I might be connecting to Pinterest on one tab and doing this Oscar tickle on another tab I "
  },
  {
    "startTime": "00:44:38",
    "text": "might be connected to I don\u0027t know dancing bunny comm and dancing bunny calm I try to interfere with my OS flow so this is a web attacker the attacker who\u0027s able to run javascript and run on other tabs on the same machine where I\u0027m running my my wallet protocol and this requires a completely different kind of analysis it\u0027s a way more powerful attacker in a certain way than the dollar by a symbolic attacker I showed you and even modeling this attacker requires you to give some meaning to the term same-origin policy which as many of you might know is kind of a very fuzzy term at the best of times so just to give you an idea if you look at the OAuth RFC of course at 76 pages the security considerations which lists a long list of web attacks or which could be possible and how they can be ameliorated and how some of them are ameliorated by the spec is another 70 pages so this is like that the threat model is almost as large or I would say much larger in a certain way than the protocol so a bunch of researchers in Stuttgart did a formal analysis a proper security analysis of 2.0 and the large part of their model is actually just modeling web security web threats cross-origin same origin stuff so they can even state what what security goals are the paper is 95 pages long okay and the model is really really huge and they did of most of their proofs by hand but they\u0027re trying to automate it now but that\u0027s it\u0027s as an example of where the protocol itself looks trivially simple but its threat model and security goals can actually take a lot of effort to to formalize and prove things about and that is actually important because in doing that proof these guys found attacks many attacks one classic one which some of you may have heard of is the IDP mix-up attack if you squint and look it\u0027s a man-in-the-middle attack between a client and it\u0027s and two servers in this case it\u0027s a classic symbolic attack in the in the network protocol sense but it only appears if you model exactly what the features of the web that are being used here are there are other attacks which rely on actual details of what code you\u0027re using for the HTTP redirect and so on and these are the kinds of attacks won\u0027t appear if you don\u0027t understand what exactly the underlying web security model is so this one is has got a countermeasure in the OAuth I and enough see for the countermeasures probably going to be standardized but this was one of the attacks that I found all right next slide please all right so I\u0027m almost done what I wanted to impart to you that there are these bunch of tools and bunch of methodologies that we use for TLS if you\u0027re hoping to use form MLS that people can use for a variety of protocols and these kinds of analyses can find bugs and flaws and in your protocol and in your crypto in the in the underlying crypto fit and if you do the proof we can provide you some pretty strong cryptographic security guarantees using these kinds of techniques doing these kinds of proofs certainly requires some expertise ok so it requires while a PhD student in my case but maybe for you it requires something else right but the "
  },
  {
    "startTime": "00:47:38",
    "text": "tools are improving you\u0027re hoping and unless we do more case studies and collaboration than people who are designing protocols these tools won\u0027t improve so we really need to exercise that together in order to kind of get this field into a into a better place and and they feel as 1.3 experiment I think shows for us at least from the from the researcher point of view that if you design the protocol to ease analysis that actually makes things much easier and kind of yeah I think it\u0027s a good trade-off in many cases but before we even start using any tools the first thing that we all have to do anyway whether we are the verification guys or protocol guys is to write a spec right and if you can write a formal spec that really eases the way into doing any of these proofs so I\u0027m going to encourage all of you to start kind of at least write one formal spec for your latest favorite shiny new protocol and this spec you can write in any of the languages and whatever format you like there\u0027s a whole bunch of them that are coming out if you want to write a new crypto primitive there\u0027s something called hack spec that we were working on if you want a protocol is prove it if that is tamarin if you want if you\u0027re interested in doing a crypto proof write it an easy crypt for example and there\u0027s a there\u0027s a sort of principle in the verification community that if you just write down formally your protocol even before you start doing the proof you\u0027re probably going to find bugs and people have always found this to be the case they\u0027re just writing down things precisely the threat model the security goals in the protocol model already sort of exposes tons of things that you may not have thought about even though you\u0027ve been thinking about the protocol very hard for a long time so I think I\u0027m done there\u0027s some some I think we like that online so you I just gave you some pointers where you can go find these tools thank you for your patience questions are welcome hi this is honest I\u0027m a co-chair of the oils working group and thanks for the presentation and for mentioning the paper that led us to start a series of our security workshops where we tried to engage with researchers and to get their expertise on informal verification and also to Tosa one observation we made was that researchers are motivated to start fairly late in the process ideally when the stuff already is widely deployed so that any vulnerability they find has a significant impact on which is kind of understandable from their incentives of course it\u0027s not very helpful for us though so luckily it worked out differently in DLS 1.3 and now more recently with with our continuous engagement with their os community but in general I think the only approach that works is to get ITF participants to actually do their formal verification himself this does however raise another challenge as you mentioned that most of the formal analysis takes actually more time than the protocol work itself and it\u0027s difficult to say whether people are really prepared to do that and the tools that we have are also a little bit so "
  },
  {
    "startTime": "00:50:40",
    "text": "there are a number of different tools you mentioned some of them but they are many more and on all of them have used a slightly different syntax different properties are they have certain limitations the support is different and if different groups work on different tools then the reuse is very difficult in general like composing different protocols as we often do and and it doesn\u0027t translate nicely to these tools so you can\u0027t easily say I\u0027m using TLS so dumping at specific Els configuration I\u0027m adding chesta OS on top of it that doesn\u0027t doesn\u0027t work that way so there\u0027s the challenge of I want to have my tiny little extension to TLS or some other protocol and then I essentially have to go through this week or even months long exercise of doing the form of verification because everyone else was doing something else so I think we have to potentially look at what is specifically needed for the IDF protocol community which tools are available and which ones actually still supported because then you can easily run into a lot of frustration there but in general like I had noticed myself that most of the IDF protocols are not really at the level that you could immediately produce a formal model out of it because it\u0027s lacking a description of the security goals because the interoperability need is often very difficult different from what you need for the protocol analysis that\u0027s right thank you I don\u0027t think there was a question there but I will just make a comment which is that indeed the so this has been a problem the fact that there are so many different tools with so many different languages the way the languages are designed for these tools are so that it\u0027s easy to do certain kinds of proofs automatically so they\u0027re geared towards proof rather than trying to make it most usable the most number of people and that\u0027s kind of unfortunate we identified this at least in the context of crypto primitives so I gave a presentation at this year version hack spec where we are trying to design one language or you can write your crypto primitives that will compile down to all the various tools that all the people who are doing crypto primitive verification can go maybe one day for protocols you might have a and we will probably try to write an informational RFC on that language which can be used by the IDF but hopefully for protocols as well we can come up with something all right ed lemon um so you had a slide kind of way back towards the beginning that had like five a list of five things that I really loved this slide that\u0027s the one yeah is there any resource that would be available to somebody relatively naive like me so that I could learn about these things or is that just sort of like a do I have to go get a PhD first well so well there are different levels actually right so the last one is fairly protocol specific but the but indeed for well let\u0027s see let\u0027s assume that you wanted to do crypto proofs for some protocol which you\u0027re going to be developing you haven\u0027t fully developed it yet and yet say you just picked "
  },
  {
    "startTime": "00:53:40",
    "text": "which is easy clip easy clip will have a library that will give you these are the twenties definitions which have been defined which we understand which the tool does very well it\u0027ll be us cma for signatures in c txt whatever their these ten constructions that it already has so do you won\u0027t have to add anything use as long as you pick from the standard constructions there the tools are going to do very well for you okay plus you\u0027re less at risk of screwing up and in actually modeling the stuff right so that\u0027s the kind of way i would i would go for this right so and when I\u0027m talking about sub protocols and usually you mean like separate the key exchange from the record layer and these kinds of things which are well understood principles and maybe we should write a document that clearly puts this out yeah that\u0027s that\u0027s kind of what I was getting at because just what you just said helped me but it still wasn\u0027t I still feel like oh boy I\u0027ve got a whole bunch of learning curve to climb here and I think it\u0027s worth climbing because we keep getting bitten by these things so I\u0027m just thinking that if there were a document that that kind of were was like a toolkit for somebody like me who\u0027s not really an expert or even remotely an expert on this stuff could use to get close and then maybe at least know the right questions to ask of somebody who is an expert that\u0027s good feedback thanks thanks hello I\u0027m Phil hound Baker as it happens I do sort of have a doctorate in this because this was this allegedly the subject of my thesis thirty years ago I am very keen on formal methods as a pedagogical exercise because the thing that it teaches you more than anything else is the value of simplifying your design because if you don\u0027t it is always easier to simplify your design then construct a proof for a complicated one I am a little bit cautious in that one of the effects that I\u0027ve seen is people going for things that we can prove are correct over things that are robust in the face of a poor implementation and those things are not always the same that said one of the things that this might help us get over is we tend to see a lot of you know we use TLS a lot as a hammer that we know because it\u0027s the one that we use and we\u0027re comfortable with and it\u0027s often not the right hammer to use because it\u0027s big it\u0027s complicated it has a lot of moving parts and it can go wrong so it\u0027s not always the thing that we should be going for but it\u0027s the thing that we tend to end up using so if we go to formal methods more we may be able to get out of always using the same tool even when it\u0027s not the most appropriate one so other things I\u0027d like to suggest is that we have a mailing list for folks who are embarking on this "
  },
  {
    "startTime": "00:56:43",
    "text": "brave new journey into the tools because obviously you didn\u0027t have the tools when I was doing it and you know maybe we could teach each other what the heck\u0027s going on and maybe settle on a you know we\u0027re not going to be using all five in the ITF yeah I think that we\u0027re going to narrow down and if people\u0027s proofs are going to be any use it\u0027s gonna have to be proofs that we can all share so I think it\u0027d be a good thing to have a mailing list yeah making mailing lists is pretty easy just send us an email we\u0027ll get work on it katia have a question for you the son is um I was wondering what what do you think it\u0027s worthwhile to into entertain a discussion about the different tools to form MSO tools and which ones are most suitable for their IETF protocol context and maybe there are some that shine here I I know of course you have some preferences because we\u0027ve worked on some of them yourself or defined them yourself but but maybe maybe they are all not quite there in terms of what we need for the IDF community there are obviously trade-offs here so I mean yeah so my experience with protocols and my comments can only be based on the few protocols I\u0027ve looked at and I know that the idea was suddenly so standardizing so many different variety of things that it\u0027ll be useful to understand what the Scopus the reason we have what I would say to leading tools or three leading tools in each of these zones is because they do some things well better than the other one and both ways so that isn\u0027t like a clear winner that I can pick out even if you said to me that the idea of context is a particular one I don\u0027t think they\u0027ll be a clear winner but maybe we could find some why find some way of at least kind of settling on something that will work in most cases but just to be specific for example if I compare Skype with F star there we are talking about the completely different type of complexity and and level of understanding that anyone here needs to have in order to write something so and it also depends whether we just want to do a formal analysis or want to also have had a sort of backends to do let\u0027s say this case generation we may even generate code some of the tools generate code as you pointed out so there are different goals and and I\u0027m not sure which ones of those tools are obvious which would the learning curve that that has been talking about is significantly impacted by the choice of tool you use yes I agree I mean so and like in response to an earlier question it\u0027ll be nice to figure out a way in which we can get I mean okay I think you can get the you should be able to get the easy stuff done easily without too much learning and now that you\u0027re going to hit the level of complexity where you have some composition of a post quantum something with something else and then you might have to actually put in that extra learning curve but indeed we should make the easy stuff easy I think and I think that\u0027s a good challenge for the research "
  },
  {
    "startTime": "00:59:43",
    "text": "community and they can be motivated by the fact that there will be people consuming our stuff you know so and in answer to an earlier question you had is all about about the motivations of the research community we like to publish papers and indeed for that we have to show impact sometimes and maybe if maybe we can have some policy by which the IETF working group chairs can give us a little letter saying this has had a great impact or whatever and then you won\u0027t have to wait for the end of the RFC and break the existing implementations right so to get that impact from from that I mean approach where you start with some for simply simple in the working group and then half the more accomplished version done by researchers which maybe just I Tobias you said you have 97 pages paper for very for a formal model of a browser yeah it\u0027s not me but here but how long would that be for our operating system and you work a neat one right or even for a platform like if you\u0027re talking about IOT and stuff where you actually have physical presence let\u0027s be clear there\u0027s a very limited model yeah this is just doing a browser security mechanism so it\u0027s just of cookies and cores and you know redirects and HTTP fetch and this kind of stuff it\u0027s just things that kind of get exercised by oh really that that zone of things indeed I mean there is a project called SEL for out of Australia and if you look at their work it\u0027s taken them years and years to build a spec for the operating system it\u0027s really small operating system element so so this stuff can get very large you have to I think flag matically choose the component that you care about and I don\u0027t recommend doing whole system verification I don\u0027t believe in it because it\u0027s kind of a bit not see some I mean that you you should pick the comp component that you care about and try to make sure that one is robust and the cleaner and the more you can separate it from the rest of the system the more conference you can have it that you prove actually means something [Applause] yeah this we have Harry helping to talk about the sinks packet format it\u0027s okay okay so now for something completely different although somewhat related which is a packet format how many people here have heard of this Fink\u0027s packet format just wondering very few so it\u0027s a next slide so I apologize for not being designer of the pack and unfortunately he cannot escape his teaching duties it\u0027s a provably secure and compact secure mix networking format from George "
  },
  {
    "startTime": "01:02:44",
    "text": "Anissa sand in Goldberg so to relate the Karthik\u0027s talk it has security proofs and the goal is how do we send a packet from one hop point point in a network to another one making these packets completely unlink able that means completely privacy-preserving from both a sort of large-scale passive global Global adversary even a and an active adversary which perhaps is corrupting the network nodes which are sending the packet around and it has a bunch of interesting properties it\u0027s about 10 years old it\u0027s withstood the test of time alternative designs have in general had some sort of breakage keep going next so the the intuition is that first thing is all the packets have to be the same size this isn\u0027t really a security intuition of sort of a privacy intuition so that each pack is indistinguishable from each other and you don\u0027t want you you have to this is a sort of seer for a GNote but we need a wide block cipher for this why block ciphers a Zed is the original one now we have lioness now for fala but they\u0027re sort of a the otherwise enemy could serve corrupted and link the two packets enroute the core cryptographic intuition behind Fink\u0027s is that it\u0027s sort of an extended diffie-hellman you have a network people have keys you\u0027re a client you want to send a packet to another node in the network you do as you if you can do a sort of diffie-hellman with that other node that you can take that lock that diffie-hellman and break it up into lots of little diffie-hellman and then use those little different humans to sort of pass each past the node in an encrypted way between a different bunch of different readers so this is very similar to Onion Routing to some extent but has a few differences so one difference is that the goal of the Sphynx packet format is to keep the routing network information the header the Sphynx header essentially constant size and encrypted such that for each hop you basically decrypt the header not the whole packet and you can look at the after checking a Mac make sure it\u0027s not being corrupted in route look at sort of the information for the next hop and that no one knows all of the hops except the client and that\u0027s I think a quite a useful trick and we\u0027ll go for the next slide and this is just a sort of large-scale version of how it works essentially the alphas are group elements the betas are the rest of the packet the so routing information which is encrypted and the gamma is the Mac "
  },
  {
    "startTime": "01:05:44",
    "text": "and has a payload as you can see which is really separate from the header and just at each hop in the network you essentially you know you use the shared secret you\u0027ve established using whatever PKI method you want which people have very different preferences on this one and you just decrypt it you basically D blind you get the next group element which is that allows you to do that next hop you pad move the rest of your network forward you have to pad his remember you want to keep it constant otherwise the length of the routing information could allow attacks linking attacks you know you know how many hops are still going far in the future going forward and it prevents you from doing things like mixing the packets together and of course you need the Mac to check the integrity to every step and you just recalculate the integrity of the routing information before encrypting it and put that in the Ring information and then encrypt it and that happens every hop that\u0027s like the core intuition next slide and you can see the you know that\u0027s the details but if you want the details I highly recommend you guys look at the paper or we have a draft spec but now for like why would you want a standard for this this seems a bit academic next the next slide well there\u0027s a lot use cases and even though the original work has happened quite a while ago there\u0027s been increased sort of interest in anonymous communication technologies some of this is actually coming from the blockchain world the Lightning Network which is how you do direct peer-to-peer communication in Bitcoin which is being deployed has been deployed in may two thousand eighteen with a beta test network but is really is going to be deployed by box stream in the rest of Bitcoin core over the next year uses Sphinx as its direct sort of format to send for bits and payments between Bitcoin nodes stellar and a lot of other companies which process sort of tokens or coins of various kinds or all building Sphinx laws Fink\u0027s derived packet formats for their payment transfers messaging systems so we have a lot of now there\u0027s a lot of interest in next-generation encrypted and privacy enhanced messaging you see the MLS work booting up here at the IETF but you know encrypted messaging is only one half the battle how can make sure you don\u0027t know who\u0027s communicating to who and this is where the Sphinx network format is absolutely necessary strangely enough that the same general intuition is used in voting system so the state of greece is already deploying a sphinx and their Evo systems through the work of gr net and Estonia as sort of probably the most advanced avoding work is also looking at this format although they don\u0027t currently use it and you\u0027re seeing some adoption in terms of the general day protection regulation so for example sa P the start look going working with mixed nets and Sphinx on private privacy "
  },
  {
    "startTime": "01:08:45",
    "text": "enhance statistical analysis of data so you know what we\u0027re seeing next slide is we\u0027re seeing tons of incompatible libraries happening so even though Moses work is pretty I would say early stages despite the core cryptographic design being almost a decade old you know what we maintain one single Python library with the test suite Java JavaScript compatible libraries as well we\u0027re seeing a plethora of incompatible versions and go see Python and the Lightning Network is also incompatible and they\u0027re producing even different extensions with different compatibilities and due to these things these Inca Palace don\u0027t change the core cryptographic design but they change very basic things so if you\u0027re routing information for example is dynamic you\u0027re going into a network and let\u0027s say you interview you need an authentication credential you hop around using your normal tcp/ip but then you want to exit you know let\u0027s say an email server or you want to exit a different network you know all this information basically is no longer maintains the critical assumption of Sphinx which is that your routing information is fixed but it made me dynamic and so there\u0027s a lot of work on how to do that and we haven\u0027t really settled and this is not really a crypto problem this is a network level engineering problem and also there\u0027s you know there\u0027s been cryptographic requirements that have changed since the work was originally put out there what we\u0027re seeing due to all the discussions are elliptic curves is you know the original papers now you can use RSA and elliptic curves but now we\u0027re seeing you know people use curve two five five one nine other people use different curves the wide block cipher space has bit of a mess we don\u0027t have any CF RG recommendations on it with our known attacks today he said and efficiency a lot of the the latest changes we\u0027re seeing through the work on for example Adrian paring sky on which also uses Fink\u0027s as is underlying packet format it\u0027s pretty exciting work that we believe we\u0027ll be deployed is that there\u0027s different assumptions about you know how how many times you should encrypt or decrypt basically you know different threat models and these leads essentially different extensions to the core and so we would hope next slide that we could eventually get aspect and we believe this incompatibility is caused because we don\u0027t actually know many of these people particularly all the blockchain work going on but what they do is they Google Sphinx they read the paper they code the paper up everyone\u0027s coding it a little bit differently and if there was an IETF even informational draft we could probably rather easily get everyone to Google the same thing and they would didn\u0027t have access to the same test suite and the same spec and that we think would be great we have a draft spec we\u0027d love to get in touch mailing lists informally on MIT\u0027s networks org law this the work is coming from a you project the panoramix project I\u0027m an advisor on we\u0027re using a bunch of other work and we\u0027re just interested to see if the ITF even believes that this sort of work which is on some level or but another level cutting edge and deals with anonymous communication is something even in scope for ITF and this is any interest from ITF participants "
  },
  {
    "startTime": "01:11:46",
    "text": "and pushing this work for so that\u0027s it I think I kept that ten minutes okay excellent any questions for hurry comments okay well if you\u0027re interested if you hear afterwards yes our next speaker is the deme VC talking about is work on capsule so we surveyed lightning ash talk and I hope I pronounced your name right all right so I don\u0027t have a lot of time for this so I probably should start up all right so this is a very quick talk on a capsule a protocol for secure collaborative document editing next slide please haven\u0027t you all been there you open Google Docs and you\u0027re typing up your plan to conquer the world or your very secret work secrets on collaborative no wait hold on on on collaborative editing but you don\u0027t know where that documents going you need to collaborate with your coworkers however it\u0027s being shared on Google servers it\u0027s available in plain text or on Microsoft servers don\u0027t you wish there was a better solution next slide please introducing capsule a better solution capsule is a end-to-end encrypted protocol for it\u0027s a protocol for end-to-end encrypted collaborative document editing it has security goals like participant list integrity confidentiality Wow integrity amazing authentication whoa transcript consistency incredible all-in-one protocol next slide please you see in capsule we take the patented and you\u0027ve really been tired of it but not in the way we do it blockchain and document is essentially a hash chain of diffs access to a document is obtained by sharing a simple ID incredible users must prove knowledge of the ID to participate in the document Wow I used the word proof I must know what I\u0027m talking about primitives Blake 2 for symmetric operations and 8255 1/9 DJB designed it it\u0027s fashionable great so I was I\u0027m really in group aren\u0027t I so alright looks like yes the we have a protocol level is formally verified with probe Arif whoa the guy with the most minutes talked about that and also hand proofs at the implementation level we use F star five people in the whole don\u0027t know how to program in that star that\u0027s how incredibly difficult and complex it is but we use it and so we "
  },
  {
    "startTime": "01:14:47",
    "text": "have like formally verified primitives we have formally verified the protocol there\u0027s a hand proof for the protocol and on the implementation level we also from the get-go have an implementation with functional correctness and resistance against side-channel attacks and so on next slide please so this is an open standard for end-to-end encrypted collaborative document editing this is a obviously a use case that I mean obviously this is clearly something we all want the the protocol I managed to design it in a way that\u0027s pretty straightforward it\u0027s really I mean I think a simple elegant protocol we can prove it\u0027s secure very easily there\u0027s an implementation that\u0027s readily available with nice primitives and clean code this is an open standard I think this should be an IETF thing I think that\u0027s really a no-brainer so let\u0027s talk about that everyone I think agrees that the use case is important and it\u0027s an easy problem to solve it\u0027s not like TLS you know you have to worry about a bunch of stuff it\u0027s actually pretty straightforward so you can go on the website symbolic software slash capsule there\u0027s also the e print paper which is also on the website but you can just email me or talk to me and then we can make an IETF RFC and then everyone benefits and we solve an obvious problem so thank you anyone have any questions or comments [Applause] Stewart and or substitutes for the problem so I\u0027m the sacrificial routing guy sent to the lion\u0027s mouth here so we have the next slide please so we\u0027ve got a problem in reaching control planes we use are often carried over very simple transport layers such as UDP or TCP control planes are good targets for attack and their disruption or subversion can have serious operational consequences for our networks there\u0027s a good example documented in RFC 2388 believe LD P the label distribution protocol used in MPLS and pretty well every packet you send across the internet goes across MPLS somewhere or other does key protocol LDP runs across TCP it currently uses TCP md5 for authentication which is no longer considered secure and this is frequently pointed out to us when we send one of "
  },
  {
    "startTime": "01:17:47",
    "text": "our documents for publication including documents that are just a minor extension of LD P itself so next slide please we\u0027ve done a small survey and not not a particularly scientific one but a sort of tiny survey just to see what the world looked like so we asked some operators if TCP IO which is the obvious alternative way of securing a TCP protocol if TCP IO were available in products would you use it and are you planning to deploy it and we asked some vendors whether they have TCPA o available and we well I think what we\u0027ve concluded is that we need to ask the question more thoroughly but the answers we got so far are illuminating next slide please so what we hear from the operators we did speak to is we\u0027ve got no real plans to deploy tcpo as long as the vendors support their md5 implementations and some of us some of them told us that actually you know there are very few authenticated LDP sessions in use I think they use a lot of peer-to-peer jacent l DP Mac SEK is quite commonly used anyway but we also have targeted LD P which goes over several hops there at the concern is the cost of reconfiguring their network and rolling out TCP AO now the vendors also answered saying more naturally most of us don\u0027t have TCP i/o in our products though one did say it would be available later and what they tell us is they were not implemented until they hear from the operators that it\u0027s needed so this is kind of a just-in-time development strategy that the product managers run and next slide please so what we think we need we need a security suite that is more secure than md5 bother I should say this is for authenticating packets we don\u0027t worry about the routing stuff being encrypted we just want to make sure that no-one is tampering with it so we want something that\u0027s more secure than md5 when used over the longest sessions that support routing there was someone this morning in the MPLS session saying that they had a they had a routing session that was up for a decade so we\u0027re not talking about shorts or a web page type of grab get and throw it away we\u0027re talking about very very long running sessions between between Reuters it needs to be able to run on at leat on most existing route processors now route processors are not like the processes you have in server complex is there not the latest hype hotshot of technology they\u0027re often really quite a Cinderella child in terms of being begrudgingly given some cpu horsepower that\u0027s the way "
  },
  {
    "startTime": "01:20:48",
    "text": "the world has been it needs to start up and run fast so that it doesn\u0027t implement that doesn\u0027t impact reconvergence even from a cult start that is to say if I have a power down in the on the Rooter and I bring it back up it\u0027s got to come up sufficiently quickly that this is not the long pole in the tent in terms of reconversion my network over the optimum paths again it needs to be sufficiently operationally complete and easy to use the network operators will deploy it and it needs to be compelling to those operators so that they will demand it from the vendors who will in turn implement it in the product next slide please so what we\u0027re doing we\u0027re looking at 88 TCP i/o as the obvious solution but where we think we probably need to look a bit wider and see if there\u0027s anything else that\u0027s even more obvious given the the needs that we need we have we\u0027re coordinating with a number of the protocol groups that will use this BGP MSD P and P set and we\u0027re talking to a number of the routing groups IDR pimpy C Abe s RT GW g pals and MPLS a lot of groups are in this same position there was a discussion this morning the MPLS working group and we\u0027re here to ask for long-term guidance from the security area as we work on the problem next slide please so there\u0027s more detail in that in the draft and attached to this slide deck is an excellent slide deck that Jeff has put together which he gave to the IPG meeting on Sunday and to get their a perspective on it so there\u0027s more details in it but I\u0027m not going to discuss it today next slide please so why am I here I need help or we need help the routine teams cannot do this on the gnome on their own we need long-term help from security designers because although we know about routing protocols we are not security experts a rolls-royce solution - this is unlikely to find its way into RFPs that set the implementation specifications it\u0027s got to be a pragmatic simple approach that operators find compelling and easy to deploy which causes the security technology to be pulled into product and that\u0027s what we need help with nothing that\u0027s the end hello i\u0027m jared much work for akamai but i also spent the you know probably about two decades running and configuring routers as part of this and so I have my short list of things to learn here that I\u0027ve brought up to the mic to make sure that I remember all of them so you know the first thing is you know I definitely don\u0027t want any of my comments to be construed as a defense of md5 you know I was the one who mentioned this morning that you know we have bgp sessions that have been up for five to seven years or more you know and using that same transport and having that stable is "
  },
  {
    "startTime": "01:23:49",
    "text": "really important you mentioned the fact that MD MD 5 is the only method that we have to actually secure those sessions and that was specifically done out of concerns not just about reset attacks but about there was a period of time when it was much easier to go and attack the window as well to go and have some issues there but when we talk about the router vendors and the implementations that exists there like there\u0027s tends to not be beguine support so I have a full mesh of ibgp sessions with let\u0027s say 130 or 230 devices and I need to go in to change all the you know if I need to change the keys on those sessions I can\u0027t just take them all down it would become a global outage in in some cases for many of the networks involved so we need to have a method to do that as you mentioned encryption is not needed we\u0027re not concerned about authenticating the the Datagram inside of it we just need to make sure that that transports reliable and things like G TSM are helpful because we can use G TSM to go in ensure that at least on a one hop link things work but when we have multi hop sessions you mentioned targeted LDP or if we\u0027re doing ebgp multi-hop to either feed information to some third party we have needs around that that allow us to do that we may not know the distance across the network for the setting the TTL for those sessions I think might change and it may change on top of that we don\u0027t have we tend to have these routers that come up it as you mentioned in the cold state and time is not available so we can\u0027t go and say oh well this key validity starts at this point and moves on to this point because we can\u0027t talk that to the ntp server until the routing protocols come on and so that you know there\u0027s a number of interesting dependencies here and you know one of the more most important things here is that most network operators especially when you talk about edge they don\u0027t have any sort of automation or orchestration which means that they don\u0027t have any storage for those keys which means when they configure them with their transit provider at session turn up often that person will have left the organization and not have it and not have those keys and they end up cutting and pasting them into future devices and the final comment is the time horizon for you know any sort of an upgrade here is really out in that five to seven year window so when we talk about if the IETF says yes we want to stop anything from going forward that includes this MD you know the current md5 algorithm we need to have time as operators to upgrade to something else and equipment life cycle is in the five to seven year window and we may get some software upgrades in there but in some cases we may not be able to do anything else in there and so that these are the some of the key comments I want to make sure that people who are gonna come up to the mic behind me as well have in their mind as bounding some of the challenges that we have from an Operations perspective of running a network yeah thank you for "
  },
  {
    "startTime": "01:26:49",
    "text": "Remus izing those points and this is clearly the important important question but we have to understand what space we\u0027re working in yeah I know I\u0027ll be looking for some help to get make sure those requirements are in any document we write yes yeah I have them written down thankful thank you but yeah but this is but this is a big concern because we do need that transport level security because people do go and point fire in cannons at the routers and play well-formatted bgp messages with the right source ports etc against the routers and they do need to be able to survive that type of attack this has been known to happen happen in the wild Dan Harkins there seems to be a disconnect here between what you said your problem was and what you\u0027re doing and not your call for help it seems like the problem is the it\u0027s the classic security catch-22 where the operators don\u0027t want to do anything because the vendors don\u0027t support it yet the vendors aren\u0027t going to support it unless the operators demand it so nothing ever happens so now you\u0027re gonna do you\u0027re doing some work and in the ITF and now you\u0027re calling for help for a less than rolls-royce solution but even even if that did exist it\u0027s not gonna break the jam of your security catch-22 so what you should probably do is ask somebody to hack into one of these networks without fear of God into the operators who will then light a fire underneath the vendors well the way the gweld is look I\u0027m gonna cut the mic line Brian wise Cisco first of all questions Stuart your draft and the slides seemed to indicate that you\u0027re happy with TCP a oh you just want a new algorithm is that really the extent of the change is it looking for are you actually looking for more dramatic well so if we go with TCP IO and we need to confirm that this is really the right solution if we were to go with it we would need the rekeying stuff to be standardised which I don\u0027t think is done yet last time I looked at the spec it said this is kind of working progress and we need a good agreement on a common implementation algorithm otherwise people will do different out with different security algorithms and everyone will fall back to md5 so we need some agreements as to and we need the package to be a complete package that operators can turn on and forget okay so I would just don\u0027t remind I guess everyone that TCP Aero was developed for browning protocols for keys be based around protocols it did take into account many of the requirements that gentleman mention about including the ability to rekey long live sessions it was built with agility luckily now the question really is what what is good enough security for GCL and what are the really blockages with the current default algorithms that are there so for example if we went back to your your requirements slide I would suspect that the using AES CMAC would mostly meet these including starts up "
  },
  {
    "startTime": "01:29:50",
    "text": "and runs fast and every indication because there\u0027s an initial key setup like you might have so is it if the orchestration of TC Bao is sufficiently met the requirements then it really does come down to what are the requirements on the algorithm and and it\u0027s a really a problem with today\u0027s route processors doing AES for TCP I don\u0027t think if there is personally but if there\u0027s a difference of opinion in the operations area then that\u0027s something we probably should look into well we certainly need to be confident that not the many many generations of route processor can do it that we will meet in the the field can do it I have no idea why no is that whenever I worked for a repla when I worked for an earlier router vendor the route processors were often Cinderella\u0027s children and had rather less CPU and memory than you would have wished hmm well anything new Donath algorithms will be on the new route processor so I think well no I\u0027m not sure it would I mean why why so because we need to get this deployed network wide and that means that the old stuff which is migrating from core to edge and from aggregation to real age that needs to be able to take part in the discussion so I don\u0027t know that it\u0027s true to say it will all be on a forklift upgrade okay my taken last comment and I\u0027ll sit down which is could you please take this to the operations area and how do them if you haven\u0027t already and reinforce the point about demanding from their vendors that\u0027s really the problem here so I am pleased to see that that the new operations area director is sitting listening and coming up to the main Thank You Agnes just to answer that the fact that something is standardized and available as an RFC does not necessarily mean that any of the vendors will go and implement that and this is exactly the case that we have here there are operational practices and operational hygiene approaches that solve this practical problem to a good enough extent that there is not there is no urgent push from the user community to honor vendors to implement that so though the dentists themselves don\u0027t see much point at least at this time to go proactive and implement that the CPO s1 2006 to my knowledge there is one commercial implementation of the CPO shipping Kyle rose from Akamai so TCPA oh definitely seems like the obvious choice here from a technical standpoint I don\u0027t want to go too much into the details of that right because there\u0027s some there may be some crypt of modernization that needs to happen the the original algorithms "
  },
  {
    "startTime": "01:32:50",
    "text": "and whatever the second RFC okay great so a production l1 hasn\u0027t actually been broken but we probably want to not standardize them on sha-1 anyway but one of the things that I brought up with Jared before when we were talking about this at lunch was um you may want to consider if you\u0027re going to do a Reb of this protocol making the protocol itself a little bit more resilient to individual connection breakage now I know that you want to bring down sessions when a connection breaks right but you could have two parallel connections for instance over the same link I\u0027m just just that\u0027s just an idea that I\u0027m throwing out there as some way to say well if this connection breaks or if you need to break this connection Allah TC you because we need to rekey with TCP md5 we could bring one connection down you know rotate the key bring him back up then bring the other connection down it\u0027s just a thought to to come up with some sort of some sort of way of making the protocol a little more robust of that particular case so there\u0027s an operator shaking his head there I can see but if we were to if we wish Jared will proceed to tell me why I\u0027m if we were to do a thing such as that that is very much in the class of thing where we need help right because we can write routing protocols at least the authors of the document are not experts in security protocols right around I don\u0027t know expert enrolling so we need this is a good area a good case where the two areas need to get together to a common good or three areas actually because we need the ops we need the routing and we need the security all to work hand in hand for a for an optimum solution right and so for the reason why I think TCP AO is a good is a good path to look down is just that it avoids a lot of the bootstrapping issues that some of the more complex protocols have you know Jared mention about time stamps okay TLS difficult to use also you know getting access you know you don\u0027t want the bootstrapping problem of not being able to get network access to some of the resources you need let\u0027s say you needed to go forward to know CSP responder that wouldn\u0027t work so we know hi Erika scroll um I was partly responsible for you but I\u0027m perfectly happy to concede the socks if you say so no I don\u0027t know whether it sucks it\u0027s just that it\u0027s not been deployed for and we get the chance to decide sure yeah so I guess I guess the it\u0027s not entirely clear to me is um what if any the perceived tentacle efficiencies are as opposed to lack of demand so um like that does to say as I understand um you know uh you know is I understand that your survey serves the operators aren\u0027t very interested in upgrading and making it right and I guess I\u0027m not quite sure why like if the operators are interesting it\u0027s like they\u0027re like halfway 35 which is fine by me I guess um or that I\u0027m interested because they don\u0027t like md5 but they\u0027re something "
  },
  {
    "startTime": "01:35:50",
    "text": "they don\u0027t like it i yo um if i understood what that was me weak anymore awful so I guess sure I guess I guess I guess so I guess whatever understand is like see if we designed some other protocol that had different properties is there some reason to believe a tradition is there some reason to believe that people would like that better who knows that\u0027s part of the discussion we got to have I guess I\u0027m just just as a protocol as I\u0027m not quite sure if they do so so nor am i that\u0027s why I\u0027m here and if it turns out we got an impossible problem we\u0027ll write a note and say please don\u0027t revisit in LDP security until something of other happens and we won\u0027t keep getting our usual protocols what\u0027s bounced so I don\u0027t care what we do what you want to do the right thing for the Internet hi Russ Housley I was security area director at the time TCPA ode was done and it all started because some guy Ron Bonica who came here and said we have this problem we need to change keys without tearing the TCP connection down that led the TCPA Oh sounds like we\u0027re having the same briefing in the same discussion that we had already cut the mic line and sorry you just got up I am Jeff Koz I gave the presentation at IEP G and and no offense to Stuart this has been presented completely wrong oh I\u0027m sorry could you please go to the second to last slide on the deck and for my backup material so the issue that we have here don\u0027t keep going all the way all the way to whatnot there we go what should we do so the problem here is not tceo the issue here and this is covered in the general presentation which no you can follow here or go listen to the recording for my EPG is that no similar to security people are not routing people routing people are not security people what you really have with Stuart is standing up there no representing the mpls and other No related chairs is there not security people they\u0027ve been told that no as part of their work security is not adequate in the protocols it keeps blocking their documents they need to do something about it what do they do about it tceo is a perfectly valid no cipher and set of mechanisms to allow them to get their job done the meta issue that we really have here is no we have existing protocols that either get security you know bolted on after the fact you all know in this room that the work is best done upfront so that\u0027s one of our problems the second problem is coming up with a common set of mechanisms in IETF to allow us to get past know some of these misunderstandings that we tend to see so the thing that\u0027s in this slide here is really what I\u0027d like to have the group take as action items now we know that transport security considerations "
  },
  {
    "startTime": "01:38:51",
    "text": "have to be just discussed up front this means that we need little bit of process help to make sure that as new things are being introduced take care of that we also need help for existing mechanisms in this case the plea from Stuart of how do we actually know both these things after the fact ideally without completely having green right the protocol there\u0027s a lot of code that we have to deal with and a lot of operational considerations not to mention operational and deployments of considerations and servers of using the things it has to work it has to scale it has to be usable the other thing that we could use significant help from here and this is within your power similar to what the ops group has done previously for the middle no documents we could use some common boiler plates for common profiles of how we actually could use security mechanisms such as IPSec these Bao TLS each of these things depending on the protocol and the mechanism may be appropriate for our work but you know the least efficient way for everyone concerned to actually do this work is for us to have somebody write something down bring it up to the security group at the very end and then you say what the hell were you thinking so what we\u0027d like this no see is ideally a set of common boiler plates no both for new protocols and for existing ones to say given the set of properties we need and we can help you refine the requirements that we need for these types of things they\u0027ll end up with a boiler plate that\u0027s appropriate obviously early security review is helpful when it\u0027s done at the right spot we know this is already available to us a lot of the chairs are not aggressive about seeking it too early this is something that we probably could do a little bit more no chair coordination to take care of the other thing that we need and if you scroll back until you see the Unicorn one of the problems that we actually have is that no great we have this nice wonderful mechanism out there draft Bonica actually solves a lot of this problem no juniper actually has it early deployment of this cisco has a later version of this process being deployed now obviously code can be written but until we actually have implementations available it doesn\u0027t do any good that no two boilerplate tceo is the solution if it isn\u0027t practically deployed and that\u0027s partially matter of solving it by encouraging the vendors to go do something about this a lot of us use the stuff that has Linux at the core if we had somebody that went out to Linux land and were to provide a no authenticated no valid provable TCL implementation a record is lift we wouldn\u0027t be having this conversation next one alia has informed me there is one that\u0027s closed I don\u0027t know the last thing I\u0027m familiar with is a set of patches from 2010 I haven\u0027t actually dug into myself and also emphasized in this deck you know one of the conversations that no Steven Farrell and I had over the you know his "
  },
  {
    "startTime": "01:41:51",
    "text": "term is no grounding guys are not the security guys in terms of even using security mechanisms if I can\u0027t do a API or assist kettle or something else to actually make use of this as I\u0027m writing stuff and it\u0027s going to open up a socket bang bits no so ideally no these things need to be easy to use you can say use these vieo and expect me to go write TCO as part of my application video photo deutsche telekom well where do I start and where do I end I have been running around and asking okay well you do do will you do an implementation I noted the md5 deprecation thing was out there and he supposed with the suggest that replacement was defined and when I\u0027m looking at it right now this seems to be one of the cases were ham during the development some running code of Monica was actually produced but for the final product it seems not and delivering a running code after years after standing a standardization is kind of not a good way for actually getting things out and if there and if there is over years know a big noise about the missing function of course one may ask well okay is this really an issue being German I\u0027m kind of trying to do things the right way and maybe more to the letter than is reasonable so I have been pushing and after after those years I started to ask well okay should have security guys actually have a look whether under common under current circumstance this is really the right thing to do for getting and i-i-i-i-i asked the question once in a while somewhere and I didn\u0027t get good answers but when I think about what care what could drive in my environment and roll out I would think that kind of complementary functionality that can be rolled out at the same time that gives me overall provement could be a very important thing and for me as a bgp inter-domain "
  },
  {
    "startTime": "01:44:52",
    "text": "guy the question would be well okay is there is very young model for doing the keychain that seemed to be related to the TCPA or definition out there and do are we in the state where we would expect that the key management could be done using that so that we are looking forward as we as we improve our installations and for BGP to I actually I actually would like very much to inject a link so that the authentication part between via domains could actually be hooked to good stuff that we are having now which is rpki which is supposed to enable authentication between a SS into the game and if I take that package and have and have the proof that my management of the old thing gets easy in a way that is going to work well over the next decade that would be actually I think a fairly good argument sorry the lines question thank you all right you know I think he\u0027s due for coming I hope you don\u0027t feel like you\u0027re mauled over by the Lions in the Lions Den yes yes I\u0027ve certainly had some Lions from both both sides but hopefully we can move forward you know hopefully we get can get work on actually several things you know the boilerplate text and you know reviewing the TCPA oh it\u0027s so right and maybe some way to convince the operators that they should be caring about this more the Yankees to our right yeah we have dankey starting off as you see you welcome I\u0027m a new fresh management ID and I also have a call for help from the security area it\u0027s about one of the topics that was raised at a napkin this is all related to modeling and young and configuration how to approach the configuration aspects of keys key stories key stores and crypto configuration in general I\u0027m relaying the slides the office in the chairs of "
  },
  {
    "startTime": "01:47:53",
    "text": "the network group were not able to be here so next I\u0027ll just give a brief overview skipping through some of the details what you see here are the slides from another concession which has way too many details problem space net confuses SSH as a transport rest conf the other configuration protocol uses HTTPS as a transport the reason need to somehow manage in a centralized way the keys between the agent and the client and it started as a simple mechanism of storing the SSH host keys now with the rest con for the certificates always added and one of the problems was that with every possible transport or configuring the configuration the main part the ways I need to have a configuration mechanism for initial transport bootstrap this model has a lot of history and next next if you could next one please the way how current implementations look at that this model is called the key store but in fact it doesn\u0027t store the keys it store the Tres tank you see here are here of certificates and other things related to how that can be obtained a question for the security group here how much of the configuration work of a young modelling work that you are doing here depends on the current keystore drafts and whether any of the other young young modelling work is being done in an active way so what I could find out looking through the documents that was an IPSec young model which expired a couple of years ago and there\u0027s also a couple of documents on a TLS side which are then by the same author from the network working group next one please there are similar groupings for other objects which have much more advanced in the modeling aspect from from routing areas mostly it\u0027s about the interface it\u0027s about the routing types the network types next one please so looking into what is in the keystore document it has some groupings for some fragments of the crypto related configuration elements next one please cryptography overall is a big area and configuration of a cryptography is operationally needed that\u0027s probably only the start of what is covered by those documents I\u0027d have a question should this be used as the start or "
  },
  {
    "startTime": "01:50:53",
    "text": "should it be refactored to something else which is more applicable to the view of the security area and let it that it could be used also for net con transports - and next one please three possible options that the nrcon working group were thinking leave it leave it as it is we use these models only for the net conf and thrust conference port knowing that we in turn dublicate the configuration rename those modules and build see more more end to end here and the main thing is ask advice how to proceed from you again this is a management area and not necessarily having deep insight into the security aspects next one please that\u0027s it this is in particular context of the configuration of the security parameters configurations of a napkin from the rest con this does not touch the configuration aspects of security transports engine in general no IPSec no TLS and other things that\u0027s what I would there see questions so hi Shawn Turner um I guess we had an IPSec met way back in the day and that was the one that got done and then I don\u0027t know if it ever got used the best of my knowledge no one has done any kind of yang for any of this any stuff that gets done in the security or I\u0027m getting up and getting corrected here but I don\u0027t think other than the stuff that Kent did or attempted to I think really kind of got anywhere there is a model expired couple of years ago which was an attempt to model IPSec configuration yeah no hi you have Niram the chera fighter NSF and we have a document that provides a data model for IPSec and it\u0027s not to draft in my 20s F okay but you\u0027re stating no opinion on you know splitting the modules or not splitting the modules I might as Michael Richardson I\u0027ve I\u0027ve tried to use the keystore and when it was keychain to model the rekeying of 15.4 networks it it it didn\u0027t work the way that I wanted it to and that was fine because it wasn\u0027t intended to do what at that but I have read it a Kent he\u0027s also involved in this I think right so he and I have talked about this a lot and I think that that this is a good approach a good place to do it and I don\u0027t know what the end game looks like I think that\u0027s maybe a really big question I think that that the ops "
  },
  {
    "startTime": "01:53:53",
    "text": "process will make the animal working group go through and put management stuff yang on a lot of our pieces to get to know there is an IPSec yang model that we can leverage but this is this is going to be key for what we\u0027re doing because ultimately we\u0027re doing in at four bootstrap we\u0027re doing enrollment and soon as we have enrollment we have trust anchors and we have things that need to be happen too so even though I don\u0027t know that we want to do updates to it I\u0027m pretty sure that we want to do monitoring on the objects Westford occur USC so a long long time ago in the same galaxy we had a I piece X security policy working group that was a partner with the DM TF task force group I remember the name of it was to do modeling of IPSec configuration I am the author of one of the RFC\u0027s that came out of that out of a few that are missing that was mid base in the DM TF had this gigantic UML structure kind of thing that took fifteen pages printed to be able to actually visibly see the little lines because the comp the diagram was that complex you might go look if the DM TF is still using their side of it from the mid side of it I wouldn\u0027t recommend you look at that there was also an RFC that describes sort of the architecture but it ended up being very complex when you get to standards organisations trying to help each other it does not go well but you might see if they\u0027re still using it or if there\u0027s if maybe they\u0027ve simplified their model or something I haven\u0027t looked at the DM TF model on forever so a question then for security a DS what\u0027s your view and you see a need for working on yeah models for configuring of the security aspects especially looking from route in perspective tunnels IPSec panels other type of tunnels and from a management areas perspective things that are not automatable they are questionable from a deployment perspective therefore a large activity that happened in routing Theory incorporation of operation Syria was to develop the core set of modules for configuring at least the basis of the routing and that is actually in a pretty decent shape now what is your view on the security manageability from that side I mean I guess we can get this kind of your question anyway we\u0027re not sure what people want it want to manage and so if you want to manage it it would be good to have a yank module for that like "
  },
  {
    "startTime": "01:56:53",
    "text": "it\u0027s not really sure how you gonna do that exactly but writing yank module is it takes two parts one is the syntax which is in the management theory and that is done the other is the subject area and that needs to be done clearly in those working groups which deal with the protocols that\u0027s how it worked with routing all all of the routing related modules are produced in the relevant routing working groups oh I see I don\u0027t get the impressions like a neat amount of enthusiasm for the security protocol designers to taeyang modules for the protocols ok alright so this this could probably discussed further but one thing that I would like to ask from the whole security community is that management people also need help and explain or at least guide how the security related aspects need to be addressed in in the modeling so Christmas you know sack I\u0027m sure there\u0027s people developing yang models as part Sakon for what it means to to be able to do monitoring insecurity on on network switches etc within the architecture okay what it matters and it\u0027s not a hundred percent clear that\u0027s the tightest fit for working group but we\u0027re allowing the work to progress at this point all right thank you all right thank you don\u0027t think really time for a mic so yeah yeah no one known as running oh yeah you open more minute and a half and I have exactly a 20 second question which is for Stuart\u0027s presentation in the discussion about TCPA oh and set that\u0027s error where is that discussion to happen da Deborah\u0027s come to save us I\u0027m writing area just talking in the hallway right now it\u0027s in the routing area right the impulse and Powell school but I think this the 80s among ops and security are going to discuss this and possibly we\u0027ll even have a design team to help to work on it that we get this document and in more documents jointly among all three or four areas there should be one more blue sheet pulling around in the back please bring that up if you have not signed the blue sheets come up to the front to sign them "
  }
]