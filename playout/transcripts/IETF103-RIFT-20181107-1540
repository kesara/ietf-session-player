[
  {
    "startTime": "00:00:06",
    "text": "did you pocket the power [Laughter] [Music] [Music] [Music] [Music] [Music] [Music] [Music] reefed afternoon session we are looking for not take you know it would really great your first time if you take not "
  },
  {
    "startTime": "00:03:07",
    "text": "you do you remember what to talk to them would you be able to take not would you be able to [Music] can anyone take Jabbar please please read not it changes from time to time so to be good if you read and see the updates you know but everything you say and do here is idea property you should know the rules of idea okay so start with our agenda we have a full agenda so or just get to it now admin stuff the first base specification status we have published 0-3 reservation the PGP and signal routing stop were moved out to two separate drafts and sir some other progresses Toni will talk about there is also ongoing OpenSocial implementation Toni will also provide update on that and then on a milestone part or our original goal was to submit the base back to iest in February 2009 t I think now we probably need to push it to to the summer time July soon I was you know I forgot do you have any comment on that it\u0027s it\u0027s okay if you don\u0027t and and about their supporting documents we have the young specification going on the applicability statement and stress Inessa documents which were required in our shuttle they need to be written so if anyone can help with appreciate and the PGP and SR graphs that were separate outs they are on the side burner now but we do have that skeleton draft their comments and contributions are welcome I "
  },
  {
    "startTime": "00:06:08",
    "text": "think that\u0027s the admin part interested in participating in routing to work and we are doing quite different than what you see do you see me now all right so now in the middle of the road the crowd is getting smaller still bigger than you know early OSPF sessions I remember so that\u0027s the update on the 0-3 draft which is pretty much all the work we did between 0 2 \u0026 0 3 so that last IDF\u0027s tons of authors got added so I just push it all on a separate page we call this whole thing the rift authors and they all fight you know whatever the publication process will be all right so the last one we\u0027ve shown was the o2 3 out for evolving tons of specification I give you some stats just to emphasize the volume of work not much was happening on the big list which i\u0027ll talk about quickly terms of weapon source code is rewritten we under interrupt the staff learned lesson so i\u0027ll talk about it stuff extensively some of them you know entertaining some insightful some plain stupidity you know as it goes with software and we had these ones on twice weekly meetings which were partially recorded i was sending the stuff out to the list i\u0027m nothing secret about it stuff but it\u0027s basically hardcore crowd which is six to eight people showing up and chewing you know through all the details all right so what\u0027s the status why is this thing not coming up properly so now that\u0027s that\u0027s a marketing geek right so what where were we in the to you know all these colors look is wrong look there that\u0027s the colors okay this thing is all wrong so we were pretty much nowhere with the security envelope "
  },
  {
    "startTime": "00:09:09",
    "text": "and we the flooding if sm wasn\u0027t well specified it was like wave wave is is we didn\u0027t have anything on the multiplying spine which is a difficult problem but a real problem and that is pretty much you know a very big addition on the zero three and Pascal will talk about the stuff extensively we choose for a couple of design options that is actually extremely interesting corner of the world but again you know most of the customs run the single plane so somewhat FM arrow what else was missing I tried to read the stuff yeah so we talked about moving from the how concept like best available level that died on the wine it\u0027s actually extremely simple to in our loop things like ztp direct implementation experience so that didn\u0027t happen right and the rest was in the fairly good shape so where did we end up zero three more green greens good right so the security envelope is still being chewed and I think I\u0027ll call for a meeting with possibly Alvaro and AC because it\u0027s not entirely clear what should be the security model we can go to a private key no private public key we can go to a shared secret opinions very people have different ideas or security on IP fabric means so that\u0027s still under work but the envelope starts to gel because we talked about things like you know nonce exchanges so to secure the stuff properly compared to today\u0027s routing protocols all this stuff is kind of green by now so we have to fool multi-plane spine we have the negative transitive disaggregation positive dislocation we have to fools learning FSM in excruciating detail - one thing I\u0027ll talk about which is I\u0027ll probably not explaining a lot of data because that\u0027s ongoing work we found something interesting on the line if s M which we still have to add it\u0027s nothing particular well-understood has to be done GTP was all stabilized mobility be ft bandwidth balancing optimal flooding reduction it was more well stabilized actually there are better ideas now flooding reduction and I refused to take them on Pascal always improves on himself right but we have to at certain point in time gets finished all right so tons of stuff green really secure it is the only interesting stuff with chewing like I said I\u0027ll be point AC probably and Alvaro in because it is more of an architectural discussion what makes sense rather than you know how to do it how to do is the thing is fairly well understood good so rough statistics because people may have perceived it "
  },
  {
    "startTime": "00:12:10",
    "text": "slightly quiet so most of the discussion happened between like 10 people on like a core mailing list where things percolate in a very tight cycles and on the weekly meetings so I just look at how many emails flew between the last night Eve and these IDF summer to the order of 300 400 emails and pretty much weekly sometimes bi-weekly when it got really hot right and people got really interesting and we pushed a lot of envelopes nothing has been done before so a lot of ideas have been scrapped and reinvented and so on right we had about 255 commits is an open-source base and that\u0027s without the merges I think we have seven eight branches and you know the stuff is being pushed up to give you a feeling for the patch it\u0027s probably sixteen thousand lines patch you know whatever that means just know tons of code right and the spec changed but it\u0027s 6,000 lines if you look at the death so lots of work has been done there as well mainly flooding procedures multiplying fabric and tons of small-fry because we were operating the code I mean no the weekly basis but every two three weeks we know we were Bank the code against each other which I know I won\u0027t even talk Bruno\u0027s framework open source framing came up with it\u0027s one of their like Colinas frameworks actually to teach a protocol both building how do you analyze the protocol behavior how you debug it so it\u0027s very easy to pull in you know be unnamed vendors code and Bruno\u0027s code and run the stuff just up the hill with a couple of meanings we get like a fool interrupts there\u0027s a lot of you know all the logs graphs and so on so lots of stuff can be shaken up I\u0027ll talk a little bit harder a little farther down the road I give you an update what Bruno did because he\u0027s on his walkabout for like two weeks now crawling up some mountain trying to get eaten by a bear or something and then he\u0027ll be back and writing code day at night that\u0027s how it goes on the other hand the interesting thing is that the model has stabilized largely so we only change like seven objects on the model to give you like I feel right so the encoding isn\u0027t changing much we exchange pretty much all the information that we need to get the stuff done it is more like how do we chew the information properly ideas discussing scrap that\u0027s the most fun part right we\u0027d never get boring do we have a boring meeting I don\u0027t think so right yeah so that what sucked people back in because know tons of interesting stuff we were really pushing the curve in many respects so we remove tons of stuff right this is the 7000 lines good chunk is removed and that comes from like customer iteration looking what would be really useful which mechanism are old-style not even needed anymore so we checked out the whole PGP that "
  },
  {
    "startTime": "00:15:13",
    "text": "doesn\u0027t seem to be any demand or any realistic way to do traffic engineering on fabrics don\u0027t as much as my gut feeling so the PGP went in a separate draft we preserve it we drag it along may prove useful it\u0027s nice mechanism the segment routing stuff could checked out into separate draft because this multiple model how you do segment routing on the fabric if you choose to write like this using the labels and what you can do with the stuff and so on it just didn\u0027t seem to be that base line of the spec the information is carried on the encoding model but the procedures and how you you know get all these labels what you do with them didn\u0027t seem like you know that the right he just diluted the spec the key value store will go into its own draft it\u0027s actually looks at the key value store will probably need some logon registry because there will be some well-known keys there will be some vendor keys this kind of stuff so that should probably go off into its own draft liked also the note well-known uses for a key value store and some kind of a registry so people don\u0027t you know do the same thing in different forms we got it some interoperable well-known stuff and on the other hand the vendors have basically a nice playing field some oh you I kind of stuff alright so what is that we do except removing stuff and having fun ah first of course we have to change the language what fun is a spec where the glossary didn\u0027t change so when we when we talk things through through it became clear that actually the of the fabric is a very important concept if you run multiplying fabric and you want to run them through this kind of protocol anything between the leaf and the top of fabric it\u0027s actually not particularly special so we call it spine now and the top of pot sometimes is useful in a language right that\u0027s where the teapot stops and you start to go into basically building your spine and we talked about the radix because that is a very central concept when you start to build multi-plane fabrics because multiplying fabrics happened when you basically run out of radix so you have to break up your fabric into multiple crossbars that are hooked up bar cross bars which are not all really one crossbar so we have like a whole pictorial one of the really fun part was to squeeze a picture of smaller dimensional fabrics into some kind of a two-dimensional representation which actually clarified a lot of thinking right you know like the mortal danger and ASCII format beautifully you know concentrate your mind now this is interesting so Bruno implemented the whole flooding and he implemented he called will like it that way you know cleanroom kind of stuff and most of the "
  },
  {
    "startTime": "00:18:14",
    "text": "stuff he could derive just by common sense looking maybe than III as I expect once or twice um and probably just being good at it so the flooding plantation has redone clean clean room wouldn\u0027t talk upfront right and he started to come up with clarifying questions and his answers were mostly right but the fact that he had to ask the question indicated the spec wasn\u0027t tight enough right so the scope table is now in a sense so if something cool so this became far more clear we actually spend good amount of time of eating up the language and one of the sloppy language cases was leading to a flat oscillation nothing major but something that never stopped the flowering converts to flying okay and because we understood that the top of fabric is actually an utterly different beast if you deal with multiplying fabrics the flooding scope also broke up into more elements so there is a difference when you have a tires the request is the tires acts in the scoping right the most interesting part probably that the east-west scoping became not like oh it\u0027s just like any North link when you low in the fabric you want to use east-west links as kind of the last resort to get to the top of the fabric once you\u0027re at the top of the fabric the whole game actually reverses so you east-west link becomes South links that\u0027s how you get down to the through the fabric if you can go directly down you just push it east-west to your neighbor who can actually get you down and that reflects in the flooding scopes and I will not chew that stuff to pieces but it\u0027s more detailed tighter a couple of things became much clearer after bruno implemented the stuff and he interrupted right I mean I knew what I was doing right no hands always root password right and blue though an idea of that he found these one or two things were we were just - you know - Lucy so that was the second one I thought oh I\u0027m going like a steam train okay so what did we do third we brought all the flooding rules and excruciating details and shoot them through in the appendix p3 about some people complain it\u0027s way too complex who didn\u0027t have any beef with implementation actually you ask them what they even read the stuff okay I think this is the clearest write down of flooding you can do but of course and "
  },
  {
    "startTime": "00:21:16",
    "text": "John Moyers already high bar to pass and he basically breaks down to a couple of cue manipulation you have four cues which is ties transmitters retransmit requests a neck and then what fell out when we started to write down these rules and bro start to look at my implementation so the tie generation CSP our translate real-time OSPF is none you basically priority dump out your database break our description of your databases header and you dump it out and when we found out that there is something called the mean and the max at the end you indicate I\u0027m starving and I\u0027m finished and it\u0027s the last one and it wasn\u0027t tight enough it was inspected out so he was sending a different mean I was sending a different mean it just worked but we both got confused he actually managed my application to go like what the hell is this guy standing because he was sending something that looked like a reasonable mean tie and I expected something which is Rachel really not that valid mean tie they included lifetime wasn\u0027t specified tight enough that is zero so he went to the I as I expect and you need the right thing and it worked we were lucky so a couple of things would fix by looking slavishly at the is I expect and then it was very interesting Bruno was kind like why the hell is flooding done that way so why would you sort the headers and he had a bunch of ideas which would through throw them all away I his eyes is very hard to improve on in this respect the processing what did we find he found a major bug which was the 17 Clause of the fourth sub Clause of the like 17 thing in eyes eyes I for God they bolted on so when there was a loop in the you know was a hole in the tight I didn\u0027t know check whether there\u0027s a hole and I have actually to send those things request them so I did so the flooding is so positive Leary bust especially I as I as this whole thing was working which would Lodge it by accident belts in suspend her so we found that excellent outcome and it was a super delicate buck where I have wrote into spec larger equal and it was really a large which was suck showing in a corner case tires so on a generic basis you just take all the requests in the X that you have on your Q\u0027s and you just push them out didn\u0027t found any issues on the tie all the time processing we didn\u0027t find anything either all right and now what did we do then we actually went into the whole multiplying Farage is a fascinating topic and Pascal will be chewing the stuff to pieces because he came up with a lot of his methodology pictures and so on but of course I have to give you like a retro picture right and the red rings will become clear and "
  },
  {
    "startTime": "00:24:17",
    "text": "the whole you know so the idea is that you you have two planes at the top so you see the those switches are connected to each of the plane and this switch is connected to the other of the plane but you are breaking those two guys in a different plane at the top and those two guys into a different plane at the top all right it\u0027s largely caused by you know radix you know you just run out of relics when you go sighs so it\u0027s not nothing recommended until you can do it otherwise but if you get or you get there and you have to deal with it and we\u0027re working on the secure envelope lots of interesting stuff there okay so there link state protocols kind of like bolted on the security and they found all kind of interesting problems like and and they kind of walked around couple of problems so you do all kind of checksumming but you live for certain feels like lifetime which leaves you open to attacks which led to another draft we were also looking for an envelope so once you start to work with the model you find out that you don\u0027t really want to deserialize a model you want to treat it as a blob because you can\u0027t just go into a field you just muck around with it you don\u0027t know what the offset is the model will not tell you and you go deserialize it\u0027s your lives you may end up with a semantically same packet but with a completely different binary representation a lot of cases like that right so if you want to authenticate this stuff as a binary blob you better never deserialize your lies again because we never what you end up with so the stuff you can muck around with it you really want to pull out a packet and then there is a bunch of things which we don\u0027t do particularly well today which is something like nonces so when we establish an adjacency we really build security association which gives us integrity but it does not give us privacy so that\u0027s kind of particular thing right it leads to the discussion should you even go into encryption on link on routing Association but even without that once you get that you can protect against flooding replay attacks and all kind of stuff so SPF has some of the stuff but we try to make it somewhat cleaner and better less you\u0027re welcome fascinating discussion Greenfield we can do what we want we don\u0027t have to cut on the bytes okay all right and and really the big discussion should we go to a private public key model or should we keep at a shared key model or shared keeper interface model that actually has a lot of impact how you build this stuff and I don\u0027t have a clear answer I see people being all the way from paranoia to like who cares okay so we have to pick some point which you think is as much feasibility design simplicity driven as you know how far in the paranoia scale do we want to get all right what still out is last one of this "
  },
  {
    "startTime": "00:27:17",
    "text": "one which I almost didn\u0027t over run a lot of explanation section so the desire came to really explain how much of the specter you have to implement on the leaf on the spine or at the very top of the fabric so we have to write that right uses to tell an implementer you know this is the slice and you know the complexity raising with the higher you get up in the fabric which is exactly the desired you know outcome then the east/west sub super spine like I already Alert where the direction of the east-west link actually changes to run the fabric which is mildly confusing originally that needs to be more explained we have to spec but the spec is just a spec tells you what to do but not necessarily why to do that security envelope soft ocher generation all my stuff was interested in that join the weekly grab-ass fascinating discussions greenfield right I\u0027d you don\u0027t have to take you mom you\u0027re actually involved in Riften okay I\u0027ll talk about the interesting oscillation we found and that\u0027s a discussion yeah I\u0027ll explain the oscillation we found on the lies actually the Bruno by sheer miss configuration file which is exactly intended and then there is a delicate case on the tight reception join the weekly that is caused by very sophisticated sequence of reboots of nodes in the fabric people have to reboot in just the right sequence and then you may end up stuck with the north in the north with the tie which can be relative we have a good proposal how to clean it up but that\u0027s basically still needs to be SPECT out which will give actually in the flooding rules the only case where you have to understand where are you going north or south beside the Scopes negative disaggregation moscow will talk about it we need a section on that and that\u0027s just information rules they should be moved out of the FSM descriptive text into the appendix I find the whole here is a story and then here\u0027s the real spec in the appendix for the implementer actually quite helpful for the whole thing alright that\u0027s it it\u0027s an update comments questions yes boss so I\u0027m very happy that you guys are making progress I\u0027m really happy that you\u0027re picking up interest from other people that were not originally working on this with you I\u0027m also happy that you guys are recording the meetings that you said several times just in last you know other people could join them yeah we can eating all stuff I want to "
  },
  {
    "startTime": "00:30:17",
    "text": "make this too heavy it would be great that when you send out the recordings for example I don\u0027t know how many people listen to the recording so if you will not listen to the recordings of those meetings yeah if you want seem to be 2/3 of the core guys who are missing it this dense right so exactly so it\u0027d be great when you send that out if you put a little summary hey this week we talked about blah and and I know that in some cases you have said this week\u0027s call and flooding yeah in most cases you just said here\u0027s the recording from today sure at least if in the case if I know what you talked about maybe I care more and I can go to lists very enough and and just like any group of authors in any draft you know you\u0027re free to go meet whatever you want and do whatever you want if you\u0027re gonna send the recording cell it\u0027ll be great just a little summary not paragraphs social stuffs just you know some bullets yeah easy because mostly it\u0027s a quite a linear progress okay so we were in like jumping maybe there will be two topics coming up max right and yeah that\u0027s actually easily done so people can track progress without actually even listening yeah that\u0027s true yeah good suggestion all right right so no problem almost a movie all right so I think this is the place where he starts and this is the mountain he aspires to fall down from that\u0027s Bruno\u0027s update right so I think it\u0027s one of these things he goes about you know look for trouble so Bruno isn\u0027t here he gave me this mount at this stuff and this is pretty much the output of the open source work which he frames in his own way alright good so the usual marketing blurb you know the stuff is so originally we wanted just to test Alya for Sam yeah it\u0027s you know things too take their own dynamics it looks like I hope we\u0027ll have basically a server implementation out there for free good so basically Bruno is really kicking my rear behind to get is now all this back to his standards which are excruciating as they should and it should be the reference and you release and actually I\u0027m using it even farther and telling people if you want to learn how the link state works this is probably the place did you want to go and I show you some of the output which otherwise are very very hard to get except no proprietor of development tools with within corporations that you know are not too interest in exposing any of the stuff for obvious reason all right so he\u0027s building a framework which is very heavy on testing the but ability visualization this kind of stuff performance will be lousy but it literally is irrelevant "
  },
  {
    "startTime": "00:33:17",
    "text": "when you look down that you know at the requirements on the host it\u0027s just different for all practical purposes Python he\u0027s you know very which call it [Music] he likes his documentation as you should know this shape with any vendor maybe yet all right so here\u0027s how you get into that stuff here\u0027s a nice no page and you can install this now and start up so you basically pull up some Python thing at a virtual environment you know you should PI\u0027s and stuff three four libraries which you just pulled automatically and you in the business all right worst stuff so a Jason sees seventy five years something like that eighty I don\u0027t even know what he\u0027s missing so there the hello has been banked on for quite a long time the CTP has been pretty much completely banked out he he was a disbeliever as he should so he built all kind of weird nice wiring cases and so on all seems to come up as intended no routing computation has been done yet if it\u0027s a host versus trivial it\u0027s basically go on level up and grab your tours pretty much unless you do bandwidth adjusted which is a little bit more work and management interface I don\u0027t know what he means by about half done by show you what he has development tool chain not even clear where there is no automated testing continuous integration all the stuff in place since a long time all right so adjacencies oh I see why he is unhappy so we have all the live packets fine state machine we interrupt the staff through a whole slew of like you know you send me weird stuff we went through the whole thing really 80 to 90% of the heavy lifting like nice formatted package is not there right because then you can even deter the model so that says all the serialization deserialization there\u0027s no code it\u0027s so generated so at the end you just look at did I get information that makes sense nothing else what he doesn\u0027t have is the ipv6 adjacencies as everybody knows ipv6 is a hood to work with especially when you get into multicast so can interfaces as I warned him so he didn\u0027t get to that yet options are around but it works utterly different as no than ipv4 multicast and sockets just because we will talk about the Malta neighbors that he doesn\u0027t have any interactions with BFD which on the server side is an interesting kind of sidetrack discussion I should don\u0027t think the server should be doing any BFT should be just used in a mirror mode when you bounce it off of PFD join some deep call we\u0027ll talk about the stuff at security because that\u0027s what we chew on right a security envelope the knowns exchange what we shall do we do shared key public probe key will all shake out zero touch pretty "
  },
  {
    "startTime": "00:36:17",
    "text": "much everything done we interrupt weird stuff all done flooding so the flooding is about I\u0027d say halfway there no flooding is actually like 80% there so we do all this packets different times and no notes prefixes databases all the cues procedures whatever we interrupt the staff finding all this interesting stuff I\u0027ll be talking about some of that code of course sucks right so it\u0027s always deserters and so on decides we\u0027re doing the stuff server implementation pretty much of no relevance he doesn\u0027t do positive distillation ties which means nothing because those are basically normal prefixes in a different tie the negatives we don\u0027t have SPECT out yet well we have to inspect out but we know we don\u0027t have to implementation either because it\u0027s all on discussion that\u0027s our talk he doesn\u0027t do key values we have external prefixes doesn\u0027t do that stuff PGP overload and the clock comparisons cool thing it\u0027s not much work but it\u0027s pretty cool because if you have a clock on the fabric it will give you perfect protection against people actually mucking around compromising source is reassuring stuff or stuff that is still in the fabric all right route calculation you do anything yet for the server we\u0027ll need to do the northbound and yes for for for the leaf we don\u0027t need any of that stuff so we see where to know what the trebles take us we start probably from the host from the server which is kind of a natural growth up the fabric management CLI boring stuff sorry so actually we aligned on the yellow format how we describe topologies to run tests very quickly it\u0027s very convenient you know he can take my stuff I can take his stuff and we can run the same file and half of the stuff is his how about the stuff is mine or whatever we mix and match implementations and then we can look at the stuff three kind of a standardized interface do we get what we need configuration common history stuff like that he wants an SSH client we don\u0027t have the yank data models or kind of early development tool chain yeah ninety percent code coverage he\u0027s a drama and rule of things about writing a Wireshark dissector for rift it\u0027s kind of a natural I liked it and actually Wireshark supports now a very sophisticated plug-in interface so you don\u0027t actually even have to like heck Wireshark you can write plugins this is that something that\u0027s on his mind because right now you know in flight we don\u0027t decode back so just look on both ends so we get what we need everything is fully automated and then some trayvis Pilon think so very nice finite state machine framework and visualization tools we\u0027ll see some of that okay so what did we find I know I\u0027m you know I still have tons of time we found the Malta neighbor "
  },
  {
    "startTime": "00:39:18",
    "text": "oscillation so when you end up we say it\u0027s a point-to-point link right and it\u0027s about it now if you miss configuring bunch three or four people funky stuff happens and we fell like a an Omega do turn out that because of all these cool optimizations to bring up adjacency real fast bad stuff was happening so we had to back off so that is caused by certain what he calls triggered loop so the packet formats can actually the packet sending are basically building up the oscillation you don\u0027t see the graphs and we have to introduce a new multi neighbor stage which is not much of work on fatik was starting on it we basically have to cool down when we see multiple nodes you know on the same link more than two and give some alarm or something or we extend the protocol to eaters but since there\u0027s no demand it\u0027s kind of you know futile at the moment flooding constellation okay so we found flooding constellation which is nothing major but just know and knowing and really poke the finger into the loose language it wasn\u0027t even the body was really loose language and okay I show you the staff so we had to tighten up the language of the flooding scope it wasn\u0027t clear who was filtering can you send what you\u0027re not supposed the other guy should suppress it or you always must filter and I was sloppy as I am I was sending will be too much like can\u0027t hurt right and he wasn\u0027t filtering and the next thing we had an oscillation all right minor issues all right so about the neighbor scenario is simple we\u0027re supposed to be a point-to-point as all day you know respecting fabrics artist a model or maybe some you know discussions I\u0027m having with people but then the whole bandwidth management becomes impossible well doesn\u0027t mean I put you on an ether and there\u0027s 20 people on it who gets what right so could happen by accident so what happens to the protocol well that\u0027s what happens to the protocol he looked at the Wireshark and Bank which is filled the wire for every those people who didn\u0027t get it not a desirable outcome okay it was fun so Bruno accused me of a back I accused him of a back fantastic we found that actually this fully intended behavior okay right all right and here you see one of his first tools so he\u0027s generating all this beautiful SVG that you can visualize in time and you can flip on things and just focus on a certain flow and so on just because he got desperate which a thing is a great you know motivation so that\u0027s what it look like right people started to send what those are the three people and they start to send to each other hellos and this thing starts to trigger and they get a beautiful bifurcation if you know anything about chaos theory you could teach it right here so explanation was like that if you\u0027re "
  },
  {
    "startTime": "00:42:18",
    "text": "in neighbor and you are into a which means you heard from someone don\u0027t you tell them you were hit by two people and Y and the Z is an axe who told you you know okay I\u0027m into way now the two-way was really eager like I want a three way from you which was immediately pushing out the hello yeah I know but it helps so it definitely created two packets on a multicast to those two people who all received them were very eager to become immediately three-way with you so you know multiplying by two is a pretty powerful tool all the other stuff not that relevant so we ended up with exponential growth and number of live messages and the FSM was oscillating a specific code right just everybody was doubling the Packers everybody was very eager to send out two packets to get two to three way to these people well that\u0027s how things goes so we have we need to basically new multi neighbor state which means that if I\u0027m in the two-way and I\u0027m getting hit by some so if I\u0027m an axe and I get something from Y and I get into two-way and I push thing out towards him like hey here\u0027s the three-way I reflect you but then I get hit by something from ze then I have to say I\u0027m in a multi neighbor state and we basically cool down for whatever it is second - all right and probably have to raise an alarm saying like misconfigured don\u0027t do that next one was a flooding oscillation mildly more interesting nothing amplifying so this was an amplifying oscillation caused by the fact that we were very eager by arrival of packets to trigger events of the FSM instead of just waiting for time or like I heard from you in a second you\u0027re here for me we just wanted to be really fast so this is far less dramatic we were seeing a tide which caused a tie so csmp sending an LSP and PSP for you know people defective in the language talking like is is East Wish 20 years old and that was going on on every time we saw this tie and a neck and then against a time and the guy asked you know was sending the same time so like nothing dramatic but a glitch so we went looking and he was again caused by Luke my loose language I didn\u0027t say who is supposed to filter and do you send only this much information or tight or can you send more and if I send more is the receiver supposed to filter or is she supposed to send right I was just like sloppy sloppy I as I as flooding is so stable you really have to do stupid stuff so in more detail he was going like that the tide was pushing something forget the tide was pushing something describing was that Oh "
  },
  {
    "startTime": "00:45:20",
    "text": "so the tide was pushing something which is really out of this flooding scope and this guy would be pushing the tie because he\u0027s so like oh you know you request that stuff and this guy will be acknowledging that but technology would have been dropped as far as I remember it because would have filtered so next time this thing so this tie was actually not accepted because we were like eh you are giving me something out the flooding scope he described something out of flooding scope guy was pushing this thing out the flooding scope he got an AK but this thing never got accepted in database because without the flooding scope yeah so like we have to specify like who is filtering do you double filter are you allowed to send more those are the weekly calls which are fascinating because a lot of the stuff burns down to like what is the data structure what\u0027s efficient right I mean when I build those ties tights that I can I catch them do a filter dam what\u0027s the cost of filtering them who can do cheaper filtering this is how you build those beasts right two minutes if perfect and the flooding oscillation - I absolutely do not remember what it I just looked at it what did he cook up there okay so we sent it tight we announced a tie header north you know one is probably no tie which no note tie and some no sequence numbers and this note - was sending tire or because it didn\u0027t have this tied oh yeah that was the other installation so now we are selling this stuff and these guy requests it but we are filtering on the output like you are not supposed to ask me for this tie yeah I send you this information but you\u0027re not supposed to ask me so I won\u0027t send you that so he keeps on asking it\u0027s a who\u0027s filtering am I allowed to ask then or you shouldn\u0027t have sent it in the first place because then I keep on asking or yeah I can send you but you\u0027re not supposed to ask so these are like no tied language and descriptions all right so the flooding scope rules of lessons learned that\u0027s the interesting stuff and I still have 15 minutes so they\u0027re flooding scope rules are obvious sensitive we all know flooding East delicate right that\u0027s what people have BGP just less potential to hang yourself up when flooding works it\u0027s like the most beautiful distribution you know lose synchronization pass in the world but it is delicate and we have flooding scopes as do the traditional links that protocols grow right I mean we\u0027re talking here all northbound flooding saldaña learning is tribulations one Habra would defer out pretty much so tiny changing rules can lead to oscillations nothing amplifying it looks but you know you lost light persistently not elegant but the positive stability is intoxicating we were playing it loose and we never melted it so the rules for the flood what you plan out what you show and what you ask they must be consistent okay "
  },
  {
    "startTime": "00:48:20",
    "text": "which is not trivial because there are they are not orthogonal there are basically joined at the heat so Bruno had some ideas how to maybe write and represent the whole flooding scopes differently first iteration didn\u0027t leak too much but this is not a simple problem some kind of representation where this at hippies jointness will become welded maybe some model or otherwise you know very hard to fracture in a sense yeah so he was thinking about maybe putting the flooding scope in the tie header which i think is a solution from hell because if i\u0027m getting his tie and the flooding skull my supposed to or maybe choke me flooding scope this thing is never supposed to show up on you have like the presence of these things bellies its scope well what it tells you about it scope contradicts where it is so would you do that more details there\u0027s a some press oh and some graphs and so on you know I should document it cool so we\u0027re and like I said we\u0027re on in a the vendor staff one process Python another stop process we\u0027ll pull in one topology file which describes the topology and by very simple mechanism you decide who gets what all fully automated you run this thing pull out state from both through different means and see whether you got what you needed flooding is not automated yet and the rest is all fully automated um alright yeah it helped lots of editorial small things protocol do interoperability tested an early stage which means implement in the early stage we knew that since 25 years we\u0027re forgetting that the duration - yeah but of course it takes time to build as eg helps you know this which is a great thing it saves you tons of you know like building the visualization out of the format yeah the code calls are cool one hour a week you know you learn by osmosis and you can you know everyone\u0027s welcome oh yeah so more people to hack the stuff is fine Bruno has no levee walls you won\u0027t even be able to ask him for a pool up unless you meet the stringent you know coverage and whatever not testing requirements which is cool you know allows us to keep people out who will break stuff I think is it I want to add that if you are into protocol development or implementation working in this team is really really beneficial yeah so we would well we there what you call this thing not purveyors yeah we\u0027re the purveyors of a art that\u0027s getting lost all right "
  },
  {
    "startTime": "00:51:38",
    "text": "okay so just to recap when we build this fabrics what we\u0027re gonna get is that each leaf can talk to each spine so you can always reflect something which comes in leaf at least at the top sure and somewhere else and what we call a Fallen Leaf is basically when whatever is in the middle there is a loss of connectivity between any of those guys and then you of those guys and basically we call this guy you for a leaf that\u0027s pretty much our definition for it and in inversions free we have added some text that might go away I don\u0027t know I mean it\u0027s just to help people understand what we have a bar on top it\u0027s gonna removing some text so we have a DK text that explains you know when you get this breakage do you need to desegregate when you\u0027ve got this breakage do you need to desegregate it\u0027s more like also you understand how we get the fabric and you understand what are the consequences of losing this thing versus losing that thing and the disaggregation is read the process that you have to do from the top to actually say I don\u0027t use me because I can\u0027t reached its final leaf it\u0027s fallen for me so don\u0027t use me and you have two ways of doing that you have the positive disaggregation and now we have the negative disaggregation so the positive disaggregation is flooded by all the guys who can still reach the leaf so as to install a rod via them as a more specific route to the loss prefix the primary that it\u0027s a lot of flooding because it comes from all those super spy mode which can steal which reach the guy and the idea of flooding that recursively down the graph is kind of ooh big so so we looked at it we looked at the color cases we went through a lot of exercises with Toni and a lot of possible weird topologies and we understand a let\u0027s do what the draft always said which is it\u0027s not transitive it follows the source flooding scope which is one hub and this also has consequences so we went through those discussions and then we said hey if we want to go transitively there are rare cases like Tony said which is probably not the case when you don\u0027t partition a super spine but if you do partition the super spine like I did here top of fabric then you will end up in cases where you have to transitively go down all the way down the leaves so the leaves here are represented that are these guys and you see I colored the two topologies the two planes and you realize that the leaf is the guy when injects a packet in in this fabric is the guy who makes the decision in which plane the packet is gonna go through right and if this guy is the leaf decides to go through a plane in which the leaf is fallen then the packet is doomed but only the leaf makes the decision after that the packet is kind of read all the way through to the destination so this is this this partition\u0027s super spine is the case "
  },
  {
    "startTime": "00:54:38",
    "text": "where what\u0027s described in in the document as positive disaggregation cannot work because the set of spine in different planes don\u0027t see one another and so you have to go down all the way to the leaves to tell them a don\u0027t use plan right or don\u0027t use plain blue it\u0027s pretty much done and so we figured that the positive was just too expensive to do recursively and flood all the way down so we went through this this other option which was to do the negative way which is to say instead of having everybody you can still reach this guy air transitively say yeah I can see reach this guy it\u0027s more like the super spine node who cannot reach this guy just say I can not reach this there which is a lot less operation unless it goes doing the transitivity and we\u0027ll see later doing that putting it down all the way to the leaf in in any topology actually is much simpler than doing the operation on positive so we\u0027ll go through what that operation is and what goes on so like I said there is ample text like this and we\u0027ll go through four slides which are like that which tell you a depending on the case you will need to this aggregator you want it to the aggregate and I think this text is useful as it\u0027s time to understand the consequences of things will that text stay in the final RFC I don\u0027t know your decide it doesn\u0027t give you anything that you have to do it helps you understand why you have to do it so basically what this is and they put the text in line pretty much wrote in this slide what I wrote it in the spec so that you can see what deals about and basically what that tells you is in any of those breakages you know this link down below the leaf this leak there is this leaf node or the surface by node when they are broken down broken for everybody so they don\u0027t create a special case in one plane so there is nothing special to disaggregate a normal writing that the stuff for you for instance if this guy sure dies nobody will use him so it\u0027s not a disaggregation problem same thing if this leaf goes away it goes away in every plane so there is nothing special to doing one plane like a disaggregation right so all those classes Prime\u0027s don\u0027t need this aggregation the text once a issue in this case you don\u0027t disagree gate right you can\u0027t you can\u0027t miss something like that just to explain you in which the constants it depends on which it does not [Music] okay so the I would say the normal case which is always the case when you don\u0027t partition the circle spine is that a breakage which happens in your plane can be detected the South and reflection within the same plane by the guys who had just above the breakage right so you the breakage happens here the guys above the breakage see one another inside the plane they can they can do the reflection or as four figures "
  },
  {
    "startTime": "00:57:40",
    "text": "that is two can not reach the red plane he will positively disaggregate and that\u0027s enough to make sure that all the red traffic will go through as four so the positive is aggregation in a case like this fully solves the problem okay so and and that again it\u0027s the normal case when you\u0027d only have got red guys whichever hallucis is linked here completely solved within the plane so that\u0027s kind of an easy case well the spec without the negative disaggregation already solve the situation now sadly there are other cases and one of the other cases if the break agent in this link as opposed to this link and this link the solve and reflection will happen between those two guys so the situation is locally solved by the non-transitive positivity segregation within this particular pod you could observe it on on the parent on both sides right but the this it cannot be observed by the sound on reflection of just the share is here and well it could but then those guys would not be able to go all the way down the leaves to tell them hey you need to pick the other plane because the positive this aggregation is not transitive right so there\u0027s no way with the positive disaggregation to discover something here and then go way down to inform the Leafs a don\u0027t use flame right friend right so the positive works within the part but isn\u0027t an ineffective outside the part when we do they get here the parents here above the breakage so that would be this guy could do a negative to all the red plane and say don\u0027t use me the primaries if it never so what\u0027s behind l2 it doesn\u0027t know which prefix to disaggregate okay so we can know there is a problem but it doesn\u0027t it cannot know for sure what the promise cannot the us so if the fabric came up and all the prefixes were advertised etc etcetera many many fish in the world then you would know which free fixes were reachable through this link and it would be able to disaggregate them but if for some reason it was never aware that something came up here or if something comes after the breakage he cannot know all the blue guys will know but the red guys won\u0027t because the flooding is is cut so you don\u0027t know what\u0027s behind so you\u0027re in this in this situation where the red guys know that there is a loss but they don\u0027t know what it is the blue guys know what prefix is associated to this lost link but they can\u0027t they can\u0027t tell the red guys that\u0027s why we will go through those rings that 10 years as we presented you know there is a more broken situation but it\u0027s pretty much with the same logic in the end if you lose this we call it spine or top of that in this guy\u0027s node then yes you cannot go to any of those leaves in the red plane and the same thing applies this guy knows there is a breakage "
  },
  {
    "startTime": "01:00:40",
    "text": "doesn\u0027t know which prefixes are affected these guys know that something is affected but they can tell exactly what it is to those guys because there is no reflection between those two planes so that\u0027s where we are so to solve this problem we what one suggestion we have in the draft is actually to to enable to ring 2 by 2 actually the the peers can be many by many if in a representation 12 in the draft it\u0027s actually maybe here or this way so you actually ring all the guys in kind of the same line bringing them together you recreate a bigger switch in a non-partisan world see if you if those guys were a single guy and those guys were a single guy you would have a fabric that is not partitioned so we recreate that and that enables these guys the red guy who discovers the breakage to get the list of prefix that that are broken from the other one I know there is a breakage behind me I don\u0027t know what prefixes are lost I know what prefixes that mean I can tell so on this link here actually we will advertise prefix types prefix yes so we know if you have a breakage what that means okay so let\u0027s pretty much how we we can we can do this game one could also design a super super spine up there so that this information is actually shared by above that would be an ultimate way of doing it and with this we\u0027ll go into the details on how you do the negatives aggregation so remember we are in distance vector space so it\u0027s a bit different from what you may see some people are doing that you know naming is doing that in I guess well there is a draft which attempts to do that yeah yes I spiked so space but here we are in distance vector world and you\u0027ll see that makes actually life much much easier than it would be to do any form of flooding because it\u0027s a one hop oops the flooding scope is basically one heart so you can really make a decision that each heart about what you already got and we\u0027ll see how that happens the whole principle of negative is that if there is a breakage like this is a foreign leaf I can\u0027t I don\u0027t need to tell you what\u0027s behind but we lost the connectivity between this particular leaf if you like and this particular top of fabric it could be just a link or could be just the logical visualization that the admin very first slide whatever connectivity the creativity between this guy and this guy this finally is lost okay and if you\u0027re in this situation with the negative it\u0027s going to be s 1 which lost the connectivity to prefix a that will inject to all its remaining children in its own plane that it lost the connectivity twice so it kind of injects a rot non a right that\u0027s how we presented you and the reaction by any of these children and here I picked I\u0027m one but "
  },
  {
    "startTime": "01:03:41",
    "text": "it\u0027s gonna be the same for M 2 M 3 is that they will in the in the forwarding trotting table so we don\u0027t respect we don\u0027t say how the Phoebe is built right everybody\u0027s free to build is on fear but in the forwarding whoops wrong button in the forwarding plane what you really end up doing is if you receive an on a from one parent one of the guys at the level above you really install a route to a via all the other parents so basically this one message is equivalent to getting at this very same time and that\u0027s kind of interesting at the very same time as many messages as you have other parts so when you apply this then the load balancing that you could have with all the other parent is still maintained it\u0027s kind of an interesting property if you got a single positive from one of them and then later a positive from him and then later a positive from him the result is during a small period of time all the traffic to prefix is funneled through the first parent which sends you the positivity segregation something that\u0027s kind of so do you have two strands this transient state with the positive that makes it so that you get an in cast in this particular mode which is good to remember okay so with the negative you don\u0027t have this particular line cast you just divide the traffic with all the other parts now if we continue on this if actually the breakage is more extensive than then what you thought right this other parent I cannot see the same prefix one since these are those two links which are broken but could be any sort of situation it will also send not a right and the reaction of the second non a is to go through the state that you already have in your phone in table and say oh I have to remove this one because now it\u0027s no more valid and that\u0027s it that\u0027s all you have to do so one cause one action I\u0027m done which is pretty cool if you are looking at doing that and positive world you\u0027ll see it\u0027s much more complex and you would need actually information that you don\u0027t necessary to know if if you need to do something about because you would depend on what your neighbors do it\u0027s real so there we go then the second negative advertisement from from a second parent I just remove an untreated I just created and we continue we continue and when we reach the last farad this is what it becomes interesting the way the thing transitively percolates down one level you the time you receive the non a from your last parent is the moment that you discover that a you cannot reach a either because none of your parents care and obviously it includes the fact that you don\u0027t have a certain rod to I obviously so you have you end up with the knowledge that you don\u0027t have any right to I which boils down to the fact that you need to tell your children all of your children recursively that\u0027s when the process recursos you tell brutally all your children I don\u0027t use me and "
  },
  {
    "startTime": "01:06:41",
    "text": "then we start using all their other possible parents see so so you get to negative you use all the other burns once if you get me get you from all your parents that\u0027s when you trigger your chip it\u0027s pretty much as simple as that and you see that in a distance vector world when you just get things per and by parent it\u0027s very easy to create this logic same thing happens the other way around right if if if the the connectivity is restored I wrote it receive a but it\u0027s really an ammonite right you receive the the undoing of the non a from a first parent as soon as you receive the undoing from the non off of the non a from a first parent it means a you can which a via this pallet right so it is the time while you tell on your channel a I\u0027m back I can use a at least I have one path to it which could create an enhanced by the way and and as you keep receiving more and more non Nonna\u0027s from all your parent you reinstall those those entries that you are just removed as you cut them out when you install the last that\u0027s when you consider removing the we\u0027ll see in the RHIB what happens but the entry gets away from the rib and and you can remove all the fields altogether because they all they tell you that the rot both which is the aggregation is actually aggregating everything you could do with the aggregated rod so that the time where you get from the last parents they came when you consider removing everything okay so that\u0027s basically the data function but the operation and it\u0027s as simple as this now I represented here it cannot be in the spec because we don\u0027t we don\u0027t talk about fib but I represented a kind of an abstract way of doing the red and then kind of an abstract way of of looking at the field that goes with that just for the sake of visualizing what happens in the falling plane so if we have this default route which is all my parents as well as two or three or four and now I get one parent like say it\u0027s a swamp which tells me a there is this prefix which is like aggregated by default right now 2/16 and I\u0027m getting in on a four via a swamp so what I end up doing is I had a fib which told me default only it was like that now I create this fibrin tree the most specific to this / 16 prefix and I look at what was above what I inherited from what my parents would you what I could do without this non ie so what is above in this table here and I just subtract I copy it and I subtract what I cannot reach so the result is this - that gives me this okay so this is this "
  },
  {
    "startTime": "01:09:43",
    "text": "is what I inner it from this is what there is the result of the inheritance by removing this let\u0027s read the operation that you have to do then if there is another prefix which also inherits from default right there are prefix of the same level in my table and this one says oh it\u0027s via s for that they cannot read well this one this one inherited from this this one also inherits from this right so in these guys I subtract S 4 from what I inherit from which is the in this the rib okay so so far not too much surprise a little bit more surprises what happens is in default III I lose as to global as to his dead Manning to his to his dead well all those things not only v here which was associated to this ribbon tree here but also all the inherited prefix remember they were inherited from him they depend on him if he goes those can stay so you have to look at the negative inherited prefix that you installed because of this inheritance and you have to remove them okay it\u0027s like remember a negative is like multiple messages in one and now we look at of may be more curious case and probably less realistic but imagine that you submit and subnet and you get negative with it negative which is kind of weird if you ask me when that can happen I can make your drawing but it\u0027s a really really weird right if you do this very real drawing you\u0027ve got a slash 16 and then the slash 24 within that slash 16 and guess what you get a negative on the 16 and then on the 24 as well so from the 16 I install the 16 and I said well this minus that gives me this this really - that gives me this now this guy is the part of this guy right in this your key here this one is a subset of this so so the the the capability to reach 10.0 the 10 before I got this negative was the capability to reach this which means that it was through those guys that\u0027s what I mean everything from so now if I get an honest - for this sub prefix of this guy I have to subtract it from this not from this because that is my parent so the result is that there same story again if I lose this guy from which all this is narrated well not only do you lose it from here but you have to recursively go through here and then you have to recursively goes from here so you have to look at down the tree of inheritance which in the real world is not expected to be anything more than one one one heart but you could devise web games where you would actually have to go deeper down now there is this rule in rift you could get a positive route at the negative rod for the same prefix from different people so they appear in "
  },
  {
    "startTime": "01:12:44",
    "text": "that table in the Trib here like in the same place you\u0027ve got different types of rods like would have a seven rod and the northern rods and you\u0027ve got priority rules in rift which tells you a you always save our route going south over a road going north even if it\u0027s about the same prefix or same in the same logic we made this decision and it\u0027s actually it was an interesting discussion there are pros and cons here so that the positive route wins over the negative world but the consequence of that is if you have a positive here somewhere for that prefix as well actually all those negative rods go away only the positive space meaning that there is no recursion because those negative are only installed if there is no positive edges for the same prefix so normally when you have the same level so you\u0027re one hop away from the discovery you get the certain reflection you get the positive well and if the fabric is not broken that\u0027s exactly what partition that\u0027s exactly what you\u0027ll get you\u0027ll get a positive and you get a negative you\u0027ll prioritize in your fav the positive meaning that again this entry will not exist so we did not consider that this recursion which could in theory be a V would realistically be it right so the the archer is the most probable cases you get something minus something and that\u0027s gonna be it around my slide I call a different leader the forwarding table depending on where what type of ribbon tree was used to build it so as the result if you look at this the the normal flooding gives me Selden rods so the rod to a is installed ya s 3 S 4 and M 4 to L 4 so that\u0027s that\u0027s how I can get get away with normal flooding that\u0027s basically a shadow cone of a in that case that\u0027s what I can see when I flood knowing that this link here is expected to be broken now because of the southern reflection here well actually because this is broken which we happens here and for is aware that a is broken for else rewrite this link is come down so m4 will positively disaggregate one hub so this right here is the result of a positive disaggregation and now and now due to the negative disaggregation s1 and s2 because now you see s1 and s2 they cannot see a anymore they will do this recursive operation it will disagree gate negatively well disaggregate negatively meaning that he world is aggregating actively same thing for us to evil desire get negatively evil disaggregate negatively so but here "
  },
  {
    "startTime": "01:15:45",
    "text": "since there is still well here you would have you would also have a green but since the the positive wings about the green that\u0027s why you don\u0027t see the green otherwise you would have you do whatever the green route here to and check check check which much right and I said that this one is also installed I think I\u0027ll rerun that in my mind oh it\u0027s because those are the ribbon trees and these are the five entries that\u0027s whether to reread my slides but the real entry follows you know the the the the propagation of the negative the Theban tree is what\u0027s left so the forwarding is really along the red so I can get into one of those two which can run and and the green is really the the ribbon trees not the five entry so that\u0027s what\u0027s interesting right as long as you do positive advertisement the ribbon the fifth they tell you the same thing but when you advertise negatively which is the the the other way of the green arrows which are really the ribbon trees the Phebe\u0027s whatever is left so the freebies this guy in this guy well the rib is this guy this guy this guy this guy so in fever read out of many states which is interesting to read to remarked my sheep is very minimum and it points exactly - I wanna go so you follow the red and yellow arrows and this one as well and you\u0027re always good way and you\u0027ve solved your watch in Prague and that\u0027s pretty much it we have questions any line of Cisco Systems or to make sure everybody\u0027s ready for the pop quiz following this the pop quiz question don\u0027t understand it\u0027s no joke did you understand what I told you so this new curve is this only need when you have multi print the well we I don\u0027t we don\u0027t yes it\u0027s true but we don\u0027t say that we just say do it now some people who want to save under implementation and they know they are not going to do multiplying they probably can say that good because yes it\u0027s only when the southern reflection on the set of spine here on the tough doesn\u0027t work and as long as all the tough guys can see one another they will always learn what they want to know the prime of not knowing which prefix I lose it cetera and not seeing not being able to actually go deep "
  },
  {
    "startTime": "01:18:45",
    "text": "enough is because those guys don\u0027t see one another and they can\u0027t clear I call it a ceiling right but it\u0027s it basically might mean if I see everybody and I can touch all the level below then I can install something T online at the level below which passed everything wrong like a ceiling so nothing can happen without the ceiling intercepting the packet and sending it to the right satisfied but if it\u0027s partitioned then you cannot install a full sling right below the super spine so some packet may go to the black hole so yes it\u0027s only visualization of it Thanks we need to move on now so Dave is going to share his thoughts a flat reduction here and they could have some interesting discussions we have like nine minutes in todos for the presentation and discussion thank you okay yeah I thought this might be of interest to this group so I asked for a little bit of agenda time to present it and it basically it\u0027s what it says on the tin a distributed algorithm for the constraint flooding of IGP advertisements I submitted the draft into this IETF it is about the general problem that was discussed in draft Lee and LSR and is also brought forward a plethora of discussion and solutions for how to produce a constrained flooding topology in a dense graph with some of the requirements being that it would be immune to single failures but the key thing was it would reduce the number of copies of an LSA that would be continually interrupting the control plane for any given note in the system so it this is a proposal it\u0027s based on things I did in a past life and it discusses and puts it forward as a distributed algorithm for computing a flooding topology and it has quite desirable properties with respect to bipartite style dense graphs modified bipartite graphs with inter tiered links it may be applicable to other topologies I could probably elucidate the requirements for those topologies to use it but that would be for further study the actual approach is Tiye to your starting point is to use two diverse lis routed spanning trees constructed such that each node in the dense graph ends up being by connected to the flooding topology each node computes the spanning trees knowing the roots and then determines its its role in it with respect to how it\u0027s going to treat LSAs "
  },
  {
    "startTime": "01:21:46",
    "text": "and this is based on information obtained from the IGP and the flooding topology itself is the sum of the spanning trees so the first copy of an LSA received by a node for example is the one that\u0027s propagated further on both trees regardless of how it arrived so it\u0027s if it\u0027s a first batch first past the gate sort of solution the actual flooding itself is split horizon between the upstream and the downstream from Forel essays that are received from an upstream interface so if I received one coming downstream from the root of one spanning tree I\u0027m not going to reflect it back upstream that would effectively defeat about the closest thing to a loop you could produce the net result is in a fault free Network all nodes that participate in the flooding topology will receive two copies of a flooded LSA a and in any single fault they will get typically to one or two of them may only get one it depends on whether the fault actually impacts the flooding topology itself now what makes this work is the tiebreaking algorithm for constructing the spanning trees this is lifted from a tor 2.18 queue shortest path bridging which applied is is to the routing of Ethernet networks this in particular was for shortest path bridging mac mode the actual algorithm and an example of using it with is is is documented in RFC 63 29 that\u0027s also available and at least one or more commercial stacks that I know of and of course 802 dot when at a queue itself is deployed in about a thousand networks that I\u0027ve heard about the actual tiebreaking algorithm uses a lexicographically sorted list of the node IDs to tiebreak when multiple equal cost paths are found in essence you construct the path ID for each path sort them and then you can rank them now one of the interesting things you can do with this is prior to ranking them you can also use what\u0027s known as an algorithm mask if you want to produce more than one diverse path and you xor the node ID list with the algorithm mask prior to ranking so and if you use an algorithm mask of zero or ffffff effectively what you can do is use the bookends of diversity so each tree in this example is constructed using one of the two algorithm masks and the trees themselves are both lincoln node diverse the net result of this is is for each set of nodes that\u0027s equidistant from the root the low and the high node IDs are selected the low node ID for one tree high node ID for the other tree and this is how you actually get the both the "
  },
  {
    "startTime": "01:24:46",
    "text": "note and the link diversity so the trees using algorithm mask 0 always you will select the node ID the trees using algorithm mask minus 1 will always select the high node ID the other nice thing about this algorithm is not not all order and our equal one of the things you can do with this is any portion of the shortest path is also the shortest path so while traversing the graph you can incremental eat I break and purge an awful lot of state this makes it quite quick and tends to explain my shortest path bridging networks converge very quickly despite the fact that are actually doing it all pairs shortest path computation we are not doing all pairs we\u0027re we\u0027re only doing two Dijkstra\u0027s in this so to give you a visual representation of the results I have an example network here where I have the two spanning trees the red and the green the red is routed on node 0 down at the bottom left the green is routed on node 55 at the top and you\u0027ll notice that all the transit nodes for the red tree are the low node ID in any given set of nodes in the graph and for the green it tends to be the high ID so this is actually how the diversity is achieved like I said you\u0027re you\u0027re ensuring you\u0027re picking the book ends of the node IDs at any particular point in the graph now the flooding rules themselves are quite straightforward if I\u0027ve received an LSA from an upstream adjacency and it\u0027s one I haven\u0027t seen before of course I flood on the downstream member adjacencies and any non-participating adjacencies one of the things Tony\u0027s graphs discussed was the idea that you could have a flooding topology that for example was a subset of an area so you will have nodes that are participating in the flooding adjacency and nodes that are not and when interacting with non-participating adjacencies you use the normal sledding rules if I\u0027m receiving something from a downstream adjacency I flood it on and again at if I haven\u0027t received it before I flood on all non-participating adjacencies and all member adjacencies except the adjacency of arrival and what I mean by a member of Jason C is it\u0027s an adjacency that\u0027s been identified as part of the flooding topology now I also use the color of the red and green trees to illustrate the sort of the notion that ultimately I really don\u0027t care what the tree of arrival was simply whether it was upstream or downstream it\u0027s the sum of the trees if we\u0027re working with okay so the there are some required protocol changes we need to be able to advertise the capability to participate in the flooding topology and somehow knowledge of the routes needs to be disseminated "
  },
  {
    "startTime": "01:27:46",
    "text": "or at least sufficient information to allow reroute election that\u0027s an unsolved problem in this draft I\u0027m just sort of throwing the basic algorithm out and seeing where things go from there once the community takes a look at it so I\u0027m not documenting any changes or proposing any protocol elements I\u0027m just identifying the requirements at this point and we\u0027ll see where it goes from here now one of the things is is the number of copies that needs to be generated by certain nodes if you looked at the example is not constrained that was suggested as being desirable this draft does not achieve that I\u0027ve considered possibilities of trying to partition the space by using multiple trees so far I don\u0027t really have anything satisfactory at the moment so very quickly what\u0027s in the draft the problem space the algorithm the flooding rules a discussion of the requirements for route selection interaction with non participants which is pretty brain-dead when you think about it no two network startup some thoughts on reoptimize ations of course once you start getting failures something may end up as incomplete although the some of the graphs may be complete but you don\u0027t take the chance of subsequent failures eventually degrading things and it also suggests and strategies for dealing with catastrophic multiple failures and as I mentioned I actually don\u0027t get into protocol details yet so two very quickly to summarize the characteristics of the solution the structure is an interconnected of 1+1 multi-point to multi-point trees the protocol changes required are some means of advertising or communicating information to allow route selection advertisement of the desire to participate in the flooding topology the actual computation of the flooding topology is the order of two Dijkstra computations the maximum diameter of the flooding topology in the fault tree worst case is twice the distance from the leaf to the spine and the most pathological case I have been able to find is when you can a link between the routes fails and so the net result is is the distance between the routes - one needs to get factored into the maximum diameter of the flooding topology and the typical and maximum number of LSA is a node will receive would be two so there\u0027s a couple of things in the draft I want to update about the route selection criteria for the next version and otherwise I just want to collect feedback and figure it out from here so running all the time for discussions but sharing this here is a good starting point for interesting discussions offline on the mailing list "
  },
  {
    "startTime": "01:30:46",
    "text": "ok thank you very much so sandy prepared a few slides on the updates for the yang model I will put it up here I don\u0027t know if we want to talk about it or not or just because we\u0027re right at any time now 510 [Music] very quickly response this representation and this transition is for rift yeah and I\u0027m sending time from the te we have closer Shaolin and Shifu okay okay this data model is defined according to rift protocol and this model includes protocol configuration state and a notification and some features are added to enhance the protocol such as PP and a crystal and at the other future and the the updater of this version is we changes the community from R to list and the reference common policy defining and a DWG policy model structure so it\u0027s the main updater of this version and next this is the configuration of the young model and so we know that the configuration includes not info interface policy and the other things you can can see from this okay and this is the state of the rift protocol include includes neighbor database then a chemist all so it\u0027s the state of the this young model and if you have time you can look at it and this is a notification okay this is German changed since the last version so yes the things are 20 P juniper "
  },
  {
    "startTime": "01:33:51",
    "text": "things are stable enough I will find tools come to stuff with you as soon as I find time okay yeah thank you thanks for the working so we brew cheese fries "
  }
]