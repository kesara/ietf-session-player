[
  {
    "startTime": "00:00:22",
    "text": "yesterday is is uh all righty let's mute that so we don't get an echo"
  },
  {
    "startTime": "00:02:01",
    "text": "so this is gonna be the first time that we're trying the new me echo thing the way you're supposed to get in and out of the queue is using your phone so there is a qr code that you're supposed to scan up there yep so if you think you might want to get in the queue you should probably scan the qr code so you can do stuff also we have some set of people who are going to be presenting from here and some set of people who are virtual the first presentation is going to be jeff houston and he is virtual we also have justin and eric fink who i think are in person is there a justin and eric think anywhere not yet well they'll show up um ignis do we have an ignis we have an eggness do we have a lenny no linear oh remote okay villain i saw a villain and tony lee is remote or virtual already oh excellent so um i guess we will just jump into it um in case you're confused this is iepg we're not actually an ietf working group but we're somehow vaguely affiliated with the ietf and let's do this thing so i will start sharing jeff's slides and then welcome and then i will hand the slide shareability to you or you can just ask me to change them for you but i think you should now have the ability to change slides yourself and i will try and let you know if there are people in the queue as well or anything like that so"
  },
  {
    "startTime": "00:04:02",
    "text": "thanks warren um oh there we go um this is one of two talks this morning about ipv6 fragmentation and extension header behaviors why because there are a number of drafts out there that seem to think they're useful they're probably wrong let's go find out um uh you know all this no point repeating it uh you know all that too no point repeating that um you know the only thing v6 really really changed if you get down to it was just taking the fragmentation controls and basically setting the don't fragment bit to a hard on so the only agent that can fragment a packet is actually the source there's a kind of a philosophical question about whether you should ever see tcp fragments at all because after all if the source knows that it's going to fragment the packet in tcp why doesn't it just change the mss and not fragment but that's a different conversation let's assume we're fragmenting because you know we can so that's now shoved into an extension header now the last time this was looked that hard uh is rfc 7872 and that work was done in 2014 and 2015. hi jen i can see you there somewhere um and these are the results that they publish now the way they did this was actually sending the packet to the server and manipulating the packet and seeing if the server actually responded and what they found for fragmentation fh 512 was bad i might any time you see loss rates are between 28 to 50 percent you know you know it's bad uh but it's a little more than that because they also tried uh destination options extension header and the hop by hop options extension header using if i read that rfc correctly a pad 8 option and oddly enough destination options seem to fare better and hop by hop was a"
  },
  {
    "startTime": "00:06:01",
    "text": "little bit worse so just remember those numbers okay you're going to be a test later so got it thumbs up cool you've remembered it well done as i said we will test later um that's really really bad by the way you can't fragment with the fragmentation rate that high you just can't and so why well firewalls don't like fragments this is true the whole thing about ipv6 path mtu is kinda broken because it relies on icmp v6 which you actually can't authenticate some random router off the street sends you an icmp v6 packet too big actually means that all as it did is it saw the packet pass by god knows why and so anyone can send you these messages why should you believe them and the other part of this issue is extension header chains are supported variably okay so there's a problem here the extension header handling because it sits between the v6 header and the sort of upper level protocol the transport header also means that some transport protocol aware processors with those switches or whatever find the wrong data at the wrong offset you know but why is network middleware looking at the upper level protocol header good question because it does because they all do why well they're just curious right simple curiosity yes or something else uh nevertheless there's a whole bunch of these units that if they find something instead at the upper level protocol they just drop it so the issue about 78.72 is that it's not where the traffic goes it's the other way when you send packets to servers you tend to send short request packets and the server sends you large answer packets and so it's not the user to the"
  },
  {
    "startTime": "00:08:02",
    "text": "server that really matters what really matters is actually the back path or the other path from the server to the user now this is much harder to actually construct as an experiment because although someone might control the alexa top 1 million servers it ain't me and so trying to get the servers to behave in odd ways is actually more challenging than you think so what we did was actually try and take conventional servers dns and web and actually write a packet wrangler or to be more accurate a packet mangler that takes a conventional packet from a dns server or web server and actually fragment it and then send it onward to its destination as a client however right and to make this work of course um well actually we did it sorry i've got a lot of the slides the wrong way we did this in 2017 and as you recall the 28 drop rate in 78.72 when we did this in a v6 measurement platform that uses online ads in other words the text eyeballs small number of servers massive number of clients we found the fragmentation loss rate was marginally better 21 drop rate um fair enough fair enough um come back again last year reworked the same experiment but we kind of redid that pack at mangala a little bit the same kind of technique though we're sitting in the middle of the tcp session close to the server we shove all the outgoing packets through this dedicated middle box and we're inside a tcp session so we can detect if the client didn't receive the packet because the client won't hack it"
  },
  {
    "startTime": "00:10:00",
    "text": "and so we detect a hung tcp session by the fact that the act just didn't happen and we can't proceed onwards uh the other thing we did were kind of curious is we were wondering if because we were using large initial fragments it was actually a subtly different problem because this is the first big packet sent from the server to the client and so we decided to test a range of initial fragment sizes between 12 and 14 16 bytes varying them by strides of eight we perform this as an ongoing experiment um there's a slide about how this is not as easy as you think uh we're using lib pcap to actually snap and send packets this is great lid pcap has no buffer space and so the problem is you've got exactly one pack of time to get something done uh that doesn't work so we spend a lot of time writing shared memory systems that implement a ring buffer for both incoming and outgoing packets and actually did a v6 nap to make all this work the server is actually a normal old server uh the client we have no control over and the wrangler has all this muck inside to actually make it happen so what did we see now the blue line is the loss rate averaged for the world and it's no longer 28 it's no longer 21 and up until you know a few days ago uh it's coming down again to around 7.5 so apart from the fact we stuffed up the experiment over the new year um it's not bad it's not brilliant but it's 7.5 it's certainly not bad the map is kind of interesting as to where this happens the green is good the red is super bad uh the white is there's not enough v6 to even measure at the time odd graph but if you think about it the folks who are doing super good like india are actually the more recent v6"
  },
  {
    "startTime": "00:12:00",
    "text": "deployments so it seems to suggest that this fragmentation drop rate is network not host it's not the destination that's doing them now i'm just dropping it it's actually the network itself and the more recent deployments using whatever more recent equipment is out there tend to do a whole lot better than the initial deployments which are sort of more conservative like france for example um and i think even the american ones kind of mixed whereas you know like i said india and around the middle east a lot better in terms of percentage of drop rate okay big surprise this is the drop rate by packet size you know seven percent in this case nine percent nine percent blah blah blah blah blah as soon as you get to 1360 it jumps up no idea why but larger initial fragments tend to be a lot worse a lot worse and i kind of broke this up by region in the americas it's there but less so in europe it's strongly there and in asia it's you know a definite signature why if you put the initial fragment size high is the drop rate dramatically higher um varies by provider if you're in telus in canada nothing nothing gets through it's a 95 drop rate well done guys there is no such thing as a fragment in telus they just get dropped whereas barty um and don't forget that sort of anomaly is is us not them uh party airtel in india which is a massive deployment few hundred million users uh the drop rate's around four percent so they're doing a whole lot better than the world average i mean they're doing a whole lot better than most folks"
  },
  {
    "startTime": "00:14:00",
    "text": "so again why is this happening um local security policies slow path processing you know you can read this as well as i can um is this fragmentation drop because we're fragmenting is because the extension header in the packet exists and it's dropping because of that so the first way we tried to answer this was actually bring up the null header i'm moving really quickly so i can see you at the microphone but i'm going to get through this and then you have your chance to speak so up to you but i will go very quickly this is the atomic header drop rate which is the null fragment it's in red and as you see there's a component of drop which is this is a fragment i don't like it and there's a component of drop that says you put in a fragment header even though it's not a functional fragment i don't like it and the atomic fragment drop rate certainly is high six percent but it's lower than the actual substantive fragment drop rate um it varies provided by provider uh in germany the atomic fragment drop rate's constant that's bizarre and higher than the normal fragment drop rate in italy it's almost non-existent whereas the fragment drop rate is high and in australia the fragment drop rate when we started measuring it is higher than normal fragments the atomic fragment drop rate's higher this shouldn't be happening you know why do all these providers have completely different if you will packet policies around the handling of fragmented packets between substantially fragmented there's data in all the fragments and atomic fragments yeah it's just ahead of filling up space didn't help did it we didn't really figure out whether this is a drop by fragmentation or drop by extension header so we thought okay okay we will mangle these packets to put in"
  },
  {
    "startTime": "00:16:00",
    "text": "same as 78.72 a pad 8 extension header so we tried this firstly on the destination options um the part of the other reason why we chose the pad n or pad a destination option is that all the rest of the destination options look crazy weird crap and so this is the the few that's kind of in doesn't matter if it's there if the client actually gets the packet does nothing it's just padding so the network shouldn't give us stuff and the client who gets it shouldn't give us stuff so if anything's going to get through it's going to be a padding destination option yeah awesome awesome 94.5 drop rate i'm like you actually have to program that that doesn't happen by accident that happens because you've sat in your code and go i hate destination options and so it seems that almost every host and certainly because these days most of the eyeballs are sitting on mobile platforms mobile platform hosts have particular loathing of destination options whether they contain padding or presumably any other directive but it seems that it's it's it's just wow awesomely bad so we thought okay if that's the case let's mix this up a little bit and try hot by hop because you know maybe the network truly is being malicious so there is a padding hop by hop option yay pad 8 because we just chose eight so did 78 72 seem like a good one um again this is null nothing should be happening so again the network should just let it through right wrong 99.5 again you you really have to work hard"
  },
  {
    "startTime": "00:18:02",
    "text": "to do that you know if that was our objective some idiot would go no no no no i'd let it through but it seems like the entire v6 world says now we don't like this crap because i've never seen such a consistent response everyone drops hot by hot that's brilliant 99.5 so the issue is over time the handling of fragment packets has gone from just unusually horribly toxicably bad to yeah pretty bad you're still bad um more recent deployments show so basically better handling of fragmentation header but hot by hop and extension headers ain't nothing happening in the public internet infrastructure so what lessons have we learned don't fragment don't rely on path mtu discovery and don't rely on extension headers and interestingly if you are going to fragment don't just give a big first packet and a you know a trailing tiny if you're going to fragment be decisive make your first packet small or smaller go down to 1280 bytes or something and shove the rest in the trailing fragment if you usually do just big packet small trailers you have a much higher chance of losing everything so pick your mss settings and tcp carefully if you're going to fragment keep it low keep it below 1400. it's a good idea the lessons learned on hot by hop extension headers and destination option extension headers uh that's easy don't and if you want to see the current numbers because this is working around about um i think we're doing about six to seven million samples a day across the planet um that qr code will take you to this url this url generates a daily report and it actually looks at the state of"
  },
  {
    "startTime": "00:20:00",
    "text": "fragmentation headers all the time and i am done thank you back to you excellent is is it can you hear me jeff yes i can jared hi excellent yeah nice to see you um so uh you know you covered it a little bit in the end but i'm wondering how much of the v6 is because of the uh the mobile networks specifically a lot of the mobile networks actually uh they get tail circuits from different isps to backhaul to the towers or from different carriers to back all to the towers and often they have a they have an mtu on those links that's less than 1500 even internally for v4 let alone for v6 and so you know the 1280 kind of you know seems to seems to potentially explain that but i'm curious if you have a further sub breakdown of you know if it came from the mobile carriers ip space uh you know from the isp or if it's just from their generic ip you know you know every country treats mobile differently there are folk like in my country uh that do mobile and wired all off the one address space all of one piece of infrastructure and quite frankly you can't tell if a mobile device is doing wi-fi tagging attachments into a home or if it's actually out there on the mobile network uh other countries are different the the basic observation is that these days the bulk of eyeballs are behind mobile platforms however they attach and that's just the reality of the world so in some ways making that distinction between what's wide and what's mobile it's getting less and less important when you realize that you know 90 of the users and probably 99 of the money is actually behind mobile devices what you're trying to do and i think you're right is to delineate the ways of attachment into talking about the radio networks as"
  },
  {
    "startTime": "00:22:00",
    "text": "distinct from you know the wide feeder networks the system that i use in ads finds that difficult to detect in general now you could take the data that i've got here and apply specific knowledge to a carrier and kind of devise from that which is has which performance and you'd probably be right but from where i sit i find that very difficult to do but you know it's a good question thank you excellent thank you very much jeff and for anyone it's a pleasure thanks for anyone who tried the qr code that actually goes to v6 frags with an s on the end of it if you remove the s the url works apparently um no worries qr codes are complex um i don't understand how they work magic so we have eric or justin i'm not sure who's actually speaking and if you happen to remember what the name there we go that one and this is also going to be related to um i can do slides for you or you can do uh oh crap there's a clicker thing i don't know the clicker thing's gone i'll do the slides here okay or i can share it to you uh where are you where are you [Music] just we go um i don't see the request why is it not showing up yep uh i don't actually know how i change the slides view because i don't have a clicker when i see your slides"
  },
  {
    "startTime": "00:24:02",
    "text": "no you're not allowed such at the computer they're very clear on that apparently left and right does it so never mind great is that not working use this in the meantime i technology is hard sorry folk it's better all right so hi everyone uh justin from julia and eric over there from cisco and today let me introduce you to james and i have to say that we are particularly proud of that name because obviously it opens the doors to a lot of fans but anyway uh um why did we come up with james um actually there is uh already rfc 7872 which was mentioned in uh previous talk and actually we wanted to basically present new refreshed and more complete results and you probably heard in six men that there is a hot topic about hop by hub options and the question is are are they usable or reliable over the entire internet and specifically two drafts have recently been adopted one to define processing procedures for buy-ups and the other one is more about sending and processing all actual extension headers and define some limits on it so obviously the the goal is to make them more widely adapted and make them progress the way they are supposed to do"
  },
  {
    "startTime": "00:26:01",
    "text": "so the question is what about other extension headers and that's where james enters the stage okay so this is an overview of the topology we have used we have vantage points in some parts of the world and as you can see we are still desperately searching for some vms uh in africa and somewhere in china or japan and somewhere in that zone so we have a lot of our vantage points in europe three uh in america north and one in south one in australia one in india and one in singapore and the methodology we have used uh no black magic here this is a trace root like technique even though this is uh or how in library but still trace would like and we just test each pair of vms in both directions and for each experiment you use udp and tcp because you never know what filter you can have an error for and for the experiments we have tested pop buy up and destination options and we vary the size from 8 to 512 we have also tested writing headers from type zero to six included we have tested fragment headers atomic both atomic and non-atomic we have tested authentication headers no next editor or with ethernet which is uh defined in rfc 8986 which is i guess if i remember well something about segment rotate for ipv6 and network programmability and so for each experiment the traffic we send the prop link we send is smart as proposed in the draft here that you see in the slide so we have published this draft recently also and the idea is just to either insert an id or an address email or something in a"
  },
  {
    "startTime": "00:28:01",
    "text": "payload somewhere in whatever layer allows to or easy technique that you know it's just to run a web server on the the address you are sending packets and uh just explain why you are sending such traffic and so with this you have a view we will see that later of each result uh so you can see that each routing editor sorry extension editor pass or don't pass and we also try to attribute the drop for responsibility for slipper hop and then obviously areas and that's where our programs come so problems first at top level because you have to probe as much as possible but still you have to respect networks so you don't have to introduce too much burden but why do we have to test uh a lot if you see the first illustration on top you see that the trace the third hop did not respond only the first and the second responded so you could say okay maybe the third hop is responsible for a drop or maybe it did just not respond and maybe this is the force or maybe it just not respond that's all it's the fifth that situates right it's responsible for the drop and so illustration on the bottom you run the same experiment a few seconds after and then hope surprise you see that the force up did respond so in that case you just can rule out the third cop from being responsible for the drop and so you're back to the same principle maybe if the fifth up is responsible for the drop or if you just not respond it's equation so if you run a lot of tests like that you can just correlate them and try to have that zone as much as smallest as possible and this is one of the challenge to attribute the drop to an as because you have to make that"
  },
  {
    "startTime": "00:30:01",
    "text": "zone as small as possible and the best case obviously is one right it might never happen but anyway and you have also corner cases here an example is that the ingredients the s2 would be responsible for the drop but the address of this interface is to stick on the first yeah it was one way of using the drop through the first guest by or in the trade you could have identified for nothing because [Music] does anybody have any double a batteries these died as well i think i think the batteries died hello i'm alive so um second case i needed identified our unidentified s number before and after the hop so as i said you might have or might not have identified some yes number between uh before and after the wrapping question and so you might or might not identify your es here so the best case is that your interval spends only one es and problems come when your interval spans multiple so more than two two or more asm next slide please so for the results of biops options they are unreliable so we have the same uh"
  },
  {
    "startTime": "00:32:00",
    "text": "we are agree with previous presentation the destination options obviously um size 8 and 16 they pass so they go true while once you reach 32 they become unreliable and so for a size 32 93 percent was true so it's not that bad but it's still unrealable once you come to 64 it's half that part or 42 percent and it goes wrong with bigger sizes for the routine headers types 0 and 4 they are unreliable again unreliable but still good so 81 percent and 69 percent pass but here type 0 is deprecated and type 4 is segment rating so no big surprise here and types one two three four five and six sorry uh they go true for fragmentators atomic fragment adders are unreliable we have 70 percent that go through and for non-atomic fragmentators they all go through authentication headers no next editor or ethernet they go through and so that's the results part but we also try as i said to attribute drop for uh per aes and so this is still a work in progress so i won't go too much into details here and show results because they are still not that stable so you can you can have a look at the draft for more details next slide please about the next steps so we have set up an operator survey so if you are an operator uh and watching this please just have a look click on this and fill in the form that will greatly help us and we could correlate what we observed with your data and we keep privacy all right we also plan to extend the topology so as i said uh earlier we are trying to"
  },
  {
    "startTime": "00:34:00",
    "text": "find some vm somewhere in china or africa and we also plan to use uh a probing to destinations we don't necessarily own so for instance based on bgp prefixes or our excerpt of domains and we also try to improve the drop responsibility attribution algorithm for super hop so reduce that interval as much as possible and then per es and one possibility here is to use vdr map i t especially for the case uh with the link between two asses next slide so thank you very much um feel free to have a look at this repo where we gather all scripts to generate props packets and uh results uh from james i guess i will take questions now hi oh it works really good information the most alarming to me was your last slide if you want to bring it up if i saw it right when it gets up to one i guess next to the last um 12 at 128 you're losing 95 percent and at 32 basically you're getting through about that same amount do we know why that size makes such a big difference and is it a problem we can address so your for what extension error it says doh there i think if i'm if i'm reading your slide obviously it becomes uh bad um because probably routers have some predefined sizes and you are pushing layer four too far away so maybe there are is it is it an issue with asics chips or have we not drilled down are the routers logging this or i don't know how much detailed information you collected to come up with that but it's alarming yeah yeah but about details not that much because um"
  },
  {
    "startTime": "00:36:02",
    "text": "all we have is the response from the rulers and so all we can do is assume something so i'll ask you know a leading question is is there going to be a follow-through to drill down to find out why and see if we can do anything yeah sure sure okay cool and then i'm happy okay thank you this is really good i mean i'll stick myself in the queue as well it seems a fair bit of this is likely stuff like where you only ship the first part of the packet to the forwarding engine like many routers do or we have a jeff who's interested yeah so it's my understanding anytime you've got ecmp or you try to launch you need to look at transport layer to create five double and this is where the difference comes in you cannot reach this information you have to option you don't launch arrow you drop and some do drop and we have a jeff haas in the queue go ahead jeff thank you warren can you hear me yep thank you so uh this is the point where we sort of wind back through multiple presentations on ipv6 that's been given over the years people's routers are built out of systems that have limited windows into the packet now for fast forwarding the problem that ipv6 has always had with its headers is basically a stack of tlvs of varying size it means you're asking something that's expected to do very fast work to throw windows around for fast look-ups in a rather unpredictable fashion and the consequences that many routers except for trivial patterns of known options simply don't bother to try to actually figure out what window it needs to get this information out of there such as the information that jeff tansura mentioned now as things move around and then you are limiting the options for the routers basically do a static template to look at the fields to do fast lookups so this is exactly the predictions that had been made years ago and are suffering from them thank you"
  },
  {
    "startTime": "00:38:04",
    "text": "thank you very much thank you very much i think that this one worked nicely as a follow-on from the previous one and now we have something completely different which is ignis on what would happen to a wrap server if bgp sek was deployed end to end today and hopefully ignis can help me find his slide set yeah just which one is it called that one and does it have usbc that's the problem with it i've got a clicker but my machine doesn't have a usb port so you can push the button if you'd like on my laptop or or you can shop next well i will shout out hello there one sec does anybody have a usb a to usb-c converter handy that i would trust plugging into my laptop actually never mind never mind right uh one presentation on three titles uh it's uh some experiments and uh well experimentation with trying to implement bgp sec and see how that might perform the more or less real world and uh how the uh rosy and needle world of protocol engineering shatters around into the harsh reality of software and hardware engineering and also the third one and then specifically for yob uh which mentions the route server because otherwise he wouldn't pay attention to me uh so now i feel happy next slide please ah it's over here so bgp sec in theory uh that's a really simple uh idea we do"
  },
  {
    "startTime": "00:40:00",
    "text": "some uh we add some cryptographical verification into the asp so uh sign of what we are advertising and verify what we receive from our neighbors uh signature is comprised of three elements the actual fragments of the path uh the identifier of uh the neighbor to whom we are sending out and the prefix itself well do some calculation and then do some other calculation to verify that next slide please if we if we'll try to characterize uh the scalability parameters for that uh there are multiple dimensions which are relevant in uh real uh deployments so amount of prefixes and the distribution of prefixes to the as paths and there's this space where things can be optimized here uh the what is called the fan out ratio the amount of the same uh as part of information signed as part of information that you distribute to your outgoing neighbors and how many of those receive exactly the same as power and there's also caching so if we look at the practical uh bgp implementations they they cache attributes in one or the other way as with bgp sec the size of the attribute is slightly larger than uh than for say other uh types of bgp attributes therefore um we'd really like to try to cache the things and um let's see how uh bgp sec as the protocol is friendly with that next slide please if we look at the platform specifics uh so in itf uh it's a spherical bgp which runs in a vacuum but uh if we look into the field it runs on specific platforms and those platforms uh have uh specific and a real world uh"
  },
  {
    "startTime": "00:42:01",
    "text": "say restrictions and limitations to the performance and most the main one is memory bandwidth and memory latency while in theory you can have a lot in reality uh the latency limits uh what practical amount of memory operations you can achieve and uh also looking into the developments in the compute platform processors themselves the scalar processing performance is increasing in a low single digit percent across the generations and the main increase in compute performance is in making those operations wider so single instruction multiple data or in general vectorization where you have one instruction which operates on multiple parallel streams of data from a cryptographical point of view signature validation can be optimized uh in certain environments like uh validating the signatures which are generated from the same private key might be optimized to a level uh that's also more of a domain of the software implementation and less so of the protocol engineering but that also needs to be taken into the account and the protocol should not actively preclude that and if we look into the developments of the compute platforms as such uh the increase in the possible compute performance comes from executing multiple parallel instructions and having wider uh data paths so to say an equivalent uh or in uh well in a more more simpler form it's a with a wider vectorization next slide please so if we look in bgp second practice how does that look from a data structure"
  },
  {
    "startTime": "00:44:00",
    "text": "perspective and how does that look from avaya image perspective from algorithms for hash so first thing uh the long message that they has path with the crypto all sorts of cryptographical uh keys uh segments and and other uh identifiers it's compressed uh via sha two hash function into 32 bytes and then those 32 bytes are used as an input into the signature generation both of these processors they are vectorizable so themselves they don't have any preclusion for making them in parallel and this is more of a domain of the software engineering characterization if we are talking about the contemporary intel arm platforms has been around for a decade and yes we still have problems in in the industry overall um uh there are problems of compilers there are problems with uh overall software engineering community awareness to that uh this is slowly but gradually improving and this is a basically a free tool that you need to use speaking of hashing that operates on fixed blocks so blocked by itself is atomic if you compute the block uh you can continue the next block starting from the same intermediate state that you got previously therefore this opens opportunities for caching hash calculation for certain data uh signature calculation and verification those are computationally expensive but it doesn't touch memory while you have to do more arithmetic operations on on a large integers you can do that mostly as your uh underlying platform can allow whereas for hashing you are limited by the memory bandwidth and there are certain ways that you can walk"
  },
  {
    "startTime": "00:46:00",
    "text": "around but uh the general trend is that the longer your as path get your the longer your bgp sec path gets the more time you will spend on calculating the hash value than on calculating or validating the signature uh and this there's a small illustration in the numbers uh so uh in the current specification it's 100 bytes uh per gps but however there are some alarming uh specifics here uh the signature itself is the signature block itself is built from two parts and those parts are six and 94 bytes and six is not the power of two and that just falls into a direct conflict with uh what the uh any practical vectorization platform can support it's either four or eight if you want to uh squeeze in six there it's possible but uh you will lose far more than you would gain uh in in trying to vectorize that next slide please uh looking into how that works into into the characterization and where the saving can come so uh on the top horizontally you have the incoming message for which the hash needs to be calculated and bgp sec is recursive uh you need to do that uh validation for each and every uh intermediate intermediate hop therefore what you do if your platform allows for a gather efficient gather or or indexed load operation you simply point out the offsets from which to take uh the data and then uh this is a middle middle green part and the time flows from top to bottom uh you uh calculate in parallel for example for eight or sixteen lanes"
  },
  {
    "startTime": "00:48:01",
    "text": "uh that's one instruction and uh eight or sixteen instances of separate data within the latency of the longest block you have a multitude of uh bandwidth so uh it's a little bit slower than the scalar version because well you don't have branching some some uh implementations don't support a rotation which is needed for uh shattu therefore you need to implement that yourself by multiple shifts here and there and then combining the result uh overall it's it's around additional 20 percent of latency but this gives you uh roughly 15 times the overall throughput performance therefore if your implementation allows you can easily talk about the order of magnitude speed up for signature generation and validation and then the yellow part is is the actual key generation or uh signing or or validation path the same same rules apply uh you have multiple entities being processed in parallel even if the key actual key length is a little bit different by a few bits oh this is this is purely an implementation aspect of how you can do that efficiently so uh the outcome of this you can get substantial increase in performance if your data structures uh allow for that next slide please and here we are coming to the second problem of uh or second real life aspect of bgp sec on the top you see the wire image and in bgp sec attribute uh first you have an array of path elements then you have an array of signatures where for uh the specification itself asks for the hash to be calculated in sequences so you have path signature path signature path signature and that means that"
  },
  {
    "startTime": "00:50:00",
    "text": "for for that incoming attribute which you received you first need to copy it around then calculate the hash and signature and then copy it back again into the format which will eventually will go on to the buyer uh touching the memory and copying the memory yes you you have caching system uh you have uh automatic automatic uh prefetch there it works if your algorithm is friendly to that but if you are reaching up more than one or two cache line forward the backward uh in general this algorithm cannot cope up with that and you you start to lose uh latency basically for nothing uh signature generation and verification well they are they are computationally intensive but overall that's not the main problem the main problem is that in order to have the hash over which which to sign and and which to validate you need to spend really excessive amount of time just because protocol is not necessary friendly next slide please the experiments so what what has been experimented with uh let's take the realistic real world distribution of uh prefixes prefix to us path ratios uh the fan out ratios um and and the overall uh setup was that it's 24 hours of gdp updates taken from multiple public sources that is past different uh asp only as path attributes taken out uh it's on the order of 75 000 different ass the assumption is made that one is equals one route therefore there's uh"
  },
  {
    "startTime": "00:52:00",
    "text": "one pair one pair of keys generated per ais all that is precomputed in advance then all is fed by rtr into the device under the test uh then based on that incoming data uh well bgp sessions are kind of brought up and all of that is replayed into the device under the test and device under the test feeds everything back with the fan out ratio of 90 uh to a receiver the summary outcome of that it works um it actually takes four specific particular implementation in a particular environment on a particular platform it took 34 minutes for this to converge uh from the start to the beginning from start to end comparing that to the plane bgp without bgp sec that's one minute 20 seconds and uh well i think we can live in certain uh at least in the beginning of of of deployment or instead well in certain engineered aspects of network design we can live with half an hour of the initial convergence if you don't need to bootstrap the whole of a network all the time from the beginning but if we can do something better maybe we could next slide please so if we try to look uh into into the whole uh kind of the situation around bgb sec so is is it really broken um from a security point of view now everything works fine but it's not very much practically usable as it is today and now two two main problems uh if we are looking at the layout of the data vgp6 also signs uh the destination asm"
  },
  {
    "startTime": "00:54:02",
    "text": "for which we are advertising that prefix the problem is that that s number is in the very beginning of the field over which the hash is being calculated that means that if we are spreading out the same as path to say a large number 100 as an example of of neighbors we need to recalculate the hash 100 times if we move that field for example to the end that means that we can calculate it once in pre-cash for uh majority for for the majority of the blocks and only recalculate one or two remaining blocks which also are changing with each prefix uh the longer the s path gets uh the the higher the savings from that are the second problematic aspect is the actual wire image uh we have uh data layout on the wire and data layout that is being processed uh really incompatible and that means that you need to receive something reshuffle do the thing then reshuffle again and send it out this can easily be avoided next slide please so what can we do about that uh let's look at the reality bgp sec is uh well at least at least the current specification version zero uh it doesn't have real practical deployments well there are some experiments uh there are some experimental implementations but there are no uh significant or substantial deployments the protocol itself is versioned and it has certain hooks for extensibility um therefore we we practically can talk about trying to extend or fix certain things uh doing a new version and then uh within bgp sec there is a"
  },
  {
    "startTime": "00:56:02",
    "text": "mechanism which allows for uh algorithm change the uh that mechanism right now identifies only the algorithms themselves so it's chat two and and prime 256 it doesn't say anything about a format over which it operates one of the possible ways for another version of bgp circuit would be to extend this algorithm identifier to cover the format over of the data or which is being processed and whether that's the same meaning of the identifier or separate that's i think an open question for a discussion and also uh the wire image asks for uh changes to make it uh simply friendly to the implementation talking back about the experiments so those 34 minutes if if these couple of changes are implemented they uh converge into something closer to four minutes uh which is probably a rather substantial uh reduction in in the overall load uh next slide please so that's a summary again uh that you have uh the hashing and the signature part uh spread around over a set of different uh elements which are scattered around and uh that's not very friendly to the implementation aspects so next slide please uh discussion do we care about this and we should probably keep it short okay so um kiriti um i this is my first iepg meeting and i came to listen to inyas so thank you it was worth it um i want to pop up a level"
  },
  {
    "startTime": "00:58:01",
    "text": "um if you go to slide eight um he talks about um you know we should take the specifics of the compute platform um one two three four yeah it's down in the corner not on the screen it's not one more there we go now i can see him so um take protocol engineering needs to take software and hardware specifics into account seriously i think there's something we need to do in the ietf not just here we're talking about changes to mpls yes and we need to do this but the word specifics bothers me i think there are principles for example the last thing you said about take the as number and put it at the end in front of the beginning i have no clue what you were talking about but that seems to be a change that is independent of specifics and so we need to really look at how can we improve whether it's wire rate i mean wire formats or or um processing in in the forwarding path we need to look at higher level things and say can we do this in a way that you know we are taking those into account we can't say this works well on this particular platform or works very well on this broadcom chip but i think we still need to do more than we are doing today in terms of oh this this looks like a nice wire format let's go with it and then we get 34 minutes of yes so quickly this this is basically uh in a context that vectorization is a commodity functionality on the compute platforms today has been for more or less plus decades uh take exact 86 take arm take risk five those are the three generic purpose platforms which are relevant in the industry they all have"
  },
  {
    "startTime": "01:00:00",
    "text": "that in one of the other usable shape or we'll have and i'm cutting the mic line and if we can keep the question short job sniders lastly you asked whether uh people care um i would like to raise my hands i think it is interesting that you observe that from a security perspective it's okay and i think that stems from the fact that there is not much to take away it's the most minimal thing that we could do at global skill signing prefix path and target the suggestions you make to reshuffle the layouts it's probably not too late and there's another interesting mitigating uh aspect of deployment in the real world that might be underappreciated i suspect that beach pseg is used on bgp sessions that are most valuable that have the highest local preference are shuffling the most bits over the wire and have the least btp state if i look at my employer's network the most important links have are not the links towards full tables so from that perspective i am slightly optimistic that there is a lot of value in working to deploy phpsec in its current version and in parallel work to optimize the current version based on research as what you presented just now or other operational observations and that there is some leeway in in how the deployment actually happens so if i compare say route origin validation i think most values stemmed from the fact that the core of the default three zones started first the so-called tier ones but i suspect hp6 value comes from deploying at the fringes of the network say cash boxes embedded in to people's network but thank you for sharing this"
  },
  {
    "startTime": "01:02:05",
    "text": "and justin sierra so thanks for doing the research it's very timely so the situation is two weeks ago fcc at least in the u.s realm asked us how come you haven't deployed bgp yesterday how come we are so insecure probably people live in the us you have seen two weeks ago fcc published kind of requests for information about bgp security so when i go to to him and ask where's bgp security he says you need to buy new hardware even so whatever i buy today brings at least broad volvo broadwell class intel right so i know every vendor has implemented live beta code gdbgb security so whatever i found it's not a secret it's basic software engineering can we create some kind of design team here to take this actually seriously bring him back into implementation and get something working please don't leave this presentation here bring it here inside the ropes or somewhere so this is on the agenda for side drops in a slightly different message probably now for practical deployment of bgp sec there are two parts bgp set the protocol and the under supporting infrastructure of bgp sec and uh the second problem is probably harder well at least it seems now right uh so it's not enough to have a perfect protocol uh which is not conflicting uh with with uh the platform specifics you also need other things around and yes there's quite a large amount of work we need to start yep somewhere but i think we need to cut the mic for now and we can maybe carry out the discussion inside cool thank you very much just for time lenny"
  },
  {
    "startTime": "01:04:02",
    "text": "let me just find your slides okay this one promises to be entertaining slides here we go share and i will grant you the ability to change slides you have 10 minutes and we will start them now thank you thank you um so i'm going to talk uh today about uh a recent draft that we submitted uh on regional internet blocking um we are presenting this in the interior and plan to uh see if there's interest there to adopt um uh before we get started just a few uh disclaimers um the the content in this draft represents ideas solely of the authors and does not reflect any of the positions uh or views necessarily of any of our uh affiliations um likewise this kind of goes without saying uh for those familiar with iepf processes but for those who aren't um this is an individual contribution and does not represent ieff consensus all right we got that out of the way now for some of the fun um so the first question is you know a little bit of background and motivation on why uh we wrote this um this draft um in light of recent geopolitical events um there has been discussions in various circles uh both technically and non-technically politically um on the concept of inter of blocking internet connectivity uh for a region um kind of the internet version of uh economic sanctions or connectivity um so what we wanted to do is to describe well what would that look like um"
  },
  {
    "startTime": "01:06:01",
    "text": "what would be some of the ways in which this kind of blocking could be accomplished and what are the implications um positive negative what are the advantages disadvantages what are the potential uh consequences um intended and uh unintended um the the the audience uh the target audience for this document uh is policymakers um as well as the general public basically everybody who's not in the room right now or in this working group but is interested in uh understanding what we who are in the room um kind of have as common knowledge uh on the topic of uh filtering blocking um and you know what it would look like and the kinds of considerations uh one should know about um if one wanted to block connectivity for a region the idea here is that um policymakers do depend on good unbiased information um sober uh clear technical uh information on you know what is possible how it works and would it actually do anything um so that's kind of the idea behind this um is to discuss you know the potential intended or unintended consequences in terms of what this document is not um we are not advocating for or against any particular policy uh or position um we are not trying to inject political opinion as to whether or not this is or is not a good idea we're just trying to really you know report the news this is how it would work um this is some of the things it might do uh so that you know people who do want to make it an opinion um on these things could make uh you know perhaps a better informed opinion on the matter um we're not uh analyzing the ethics of such an approach uh we also"
  },
  {
    "startTime": "01:08:00",
    "text": "obviously there is a you know an ongoing um conflict right now that inspired uh the writing of this draft but we would like this to be generic enough that it is applicable to more than just one episode um this is probably not the last conflict that's going to occur where this topic might pop up um so hopefully this could be useful um both now and in the future um also uh it's it's this is not meant to be a blind a guide on how blocking works or what is blocking um uh or protection against security threats um let's say that there was threats coming out of a region uh and you need to protect yourself from that region um this is more of you know sanction purposes um we're not trying to also describe you know kind of a how-to guide on weaponizing the internet um we have we're not letting out any secrets um this is uh pretty well-known approaches and you'll see um you know nothing groundbreaking here these are these are pretty well known approaches that operators use um fairly commonly uh for for legitimate blocking purposes we also didn't go into a malicious attack approaches and kind of a survey of those that's an interesting topic uh it's probably you know worth worth discussion um but uh you know that's such a broad topic and it's outside the uh the the scope and the um expertise of the authors so we um we left that outside just over this document all right so the meat of the document what's actually in this document um we start at the physical layer and work our way up um so um you know again nothing groundbreaking here uh you know what would happen if you disconnected cables um uh and then we move on to the routing control point um what it would look like to deep hear someone uh what we would be the results of that um there's route token based on"
  },
  {
    "startTime": "01:10:03",
    "text": "filtering go ip access control list uh and then we looked at dns you know what it would look like to uh you know some some approaches might be removing delegations to plbs and other relevant uh domains um also blocking resolution requests that might be coming from a resolving name server or um in hosts uh that might be in a region um the next area we examined was all right that's inefficiency would this actually work what would this do um some of the intended and unintended consequences um so there's the obvious you know blocking connectivity for a region may be counterproductive to the aims of a policymaker um so you know perhaps a policymaker might want messages to actually get in and out of the region and blocking that connectivity might might prevent that um they may want uh perhaps certain parties within a region to be able to communicate freely um because those uh say oppositional parties might be sympathetic uh to the views of the policymaker so again you know might be some might be a reason you know uh to be aware of that you know this might not happen if uh if you do block connectivity um also it may end up empowering um you know a party that is you know the target of sanctions allowing them to uh that you know party to or regime to perhaps consolidate their power by um not being able to uh allow um some of the information that we just got mentioned to to go in or out or within a region uh the thing to keep in mind is a network uh is a moral it does not uh discriminate between uh it just transmit fits whether they're good or bad uh whether they comprise good or bad messaging um but the network just pushes them you know from one place to another"
  },
  {
    "startTime": "01:12:01",
    "text": "um also uh autonomous systems and prefixes are not allocated based on geopolitical boundaries um they're loosely uh allocated uh on region um and there are registries uh about those registers they are registered information um and you know can be fairly accurate um also things can change uh an entity that has assigned a a resource like an asm or a prefix uh that exists within one region while it might move to another region will be acquired by a multinational corporation that you know multinational entity that might start advertising uh that route or that asm in a different region um so it's really kind of difficult there's tourist borders um when it comes to um network um resource allocation um also you know the internet is by design decentralized um and that makes it you know nearly impossible to completely uh block a region that's that's a feature not above bug of the system um but uh you can put a good dent in in connectivity and throughput um it's at certain checkpoints uh there has been some um you know prior art in the area rfc 7754 um talks about uh internet service blocking and filtering but it's more focused on um application level uh and transport than actual network infrastructure um also the purposes are a bit different um it's more like you know security objectionability and business arrangements uh and less so about sanctioning um but there are some overlapping themes um uh there's a draft in the pea rg working group on censorship um and again this is more focused on censorship by a regime within their borders rather than blocking their region stuff coming out for the purpose of sanctions um"
  },
  {
    "startTime": "01:14:00",
    "text": "sure uh just finishing up um so uh you know like i said we're gonna be presenting this in interior uh looking for adoption um you know first question we'll ask is this document useful is this interesting is it worth working on um are there other things we missed um uh you know the question of gcp versus informational and um review and comments um and you know if you have produce to throw um shop at interior with that i'd be happy to answer any questions if there is time available or if there are any questions available excellent i guess more questions will happen in an because i'm suspecting there will be some um thank you very much honey and yep if you want one quick question make it really short uh quite obviously any idea of blocking is in conflict with the ietf goal of making the internet work better figuring out exactly good information about the effects of blocking quite obviously makes a lot of sense in this context talking about blocking uh however can be can can trigger with certain parties the idea that well okay they should actually uh think about it and myself i have noticed over the past years couple of events were parties were starting to think about sovereign internets and kind of"
  },
  {
    "startTime": "01:16:00",
    "text": "part of that quite obvious he has been motivated by preparing against the threat of being blocked in some way and regardless whether a technical paper explains in detail the bad effects of of blockage and in the end uh suggests that blockage should be avoided the mere existence of such papers can be used by parties who are interested in segmenting and well okay maybe uh reinforce their empire of life so one has to be extremely cautious when doing such papers uh to to figure out ways and that these ways need to be extremely clever to avoid feeding that evil that evil track of arguments thank you thank you um of all fair points and um you know we're we're not trying again we're not trying to say this is good or this is bad we're just trying to say this is what would happen uh to the best of our ability if one did this uh to let others decide if this is good or bad and we like i said i don't think we have any trade secrets or network secrets here um there's really nothing novel here this is pretty pedestrian uh descriptions of what is going on so i don't think we'd be planting any ideas in anybody's mind but thank you for that feedback thank you okay and yes so this presentation is about my efforts in setting up a"
  },
  {
    "startTime": "01:18:00",
    "text": "useful rpi beacon useful for measuring route origin validation and also hopefully useful for you i was searching on the internet for a picture of a lighthouse or a beacon that would lure ships towards it and a vortex in front of it and you can see that i found a picture like that and this is a picture of the excellent rock album the milestone ascendant which also has a accompanying book and of the sydney based rock artist duncan schmidt by saying this i have his permission to use this picture so thank you next slide so i also made a good effort to get this presentation here at the ipg i submitted three times or so i think and because you know i had to set up our rpi beacon i will tell you later why but i'm not really an rpi expert because i know that you all are all rpki experts so that's a really good audience and i'm also a little bit nervous because you are all rpgi experts uh but yeah i'm i'm hoping to make some rpi beacon friends here that can help me uh you know with this effort and tell me if what i'm doing makes sense and how to make it better and how to make it more useful and yeah well i will tell you later but i could also use some additional ipv4 resources for some specific"
  },
  {
    "startTime": "01:20:01",
    "text": "aspects of this beacon next slide so you here i do sometimes do dns measurements here you see a picture with me at the taken at the internet measurement conference in 2019 in amsterdam we were awarded for a research paper on the root case cable offer and during that conference there was just the hijack of the ethereum wallet and that was by a route hijack but the authoritative surface of route 53 were hijacked and the resolvers were not protected by router region validation so it was clear to us that it's important that we would do this these measurements as well and we learned at this conference that there was a person called job schneider we had the rpi beacon and we spoke to him and asked him if he could use his beacon to do this kind of measurements and europe allowed that and thank you yup for that this was really great and we started to do the measurements to measure the uptake of router region validation of dns resolvers since 2020 but unfortunately the the beacon didn't stay for a very long time or it stayed for almost two years but we had to look for another beacon so yeah that's the reason for this effort next slide please and at the beacon at the time was the ripe ncc web test it was the check my dns effort from the dns org"
  },
  {
    "startTime": "01:22:02",
    "text": "our own validation measurements next slide and the beacon was set up it had enveloped prefixes announced from the beacon and also valid prefixes for refrence next slide so the effects of this setup were a bit like this so if you would be on a validating hop then it you would not enter up at the beacon and also if you would have been if you would be on a infillet or not validating hall but surrounding by validating hops then you would also not end up at the beacon the next slide so this was gave some difficulties with doing the measurements in that it was timer based now if you can reach the valid but you cannot reach the invalid then you have to wait for that time out and also about an original validation is to prevent wild hijacks and so since the invalid prefixes were not announced anywhere else validly you could ask yourself if it was a yeah it looked like a realistic route hijack next slide so for the new beacon we did it a little bit differently we announced a slash 23 less specific from amazon to be precise in a invalid slash 24 from that less specific from color glue which is really convenient because you"
  },
  {
    "startTime": "01:24:00",
    "text": "don't have to wait for timeouts and maybe it's also a bit more realistic but maybe not maybe for the most realistic situation you would have two slash 24s next slide uh yeah so here you can see the uh robot the route origin authorization for the slash 23 and just for the record i also made one for this list 24 but with for a's and 0 to officially say this is invalid next slide but you know it's still really hard to determine which hop does the actual validation and uh it also has the peculiar very validity that if if you are in a network that is validating this big you can might still reach the invalids and why is this next slide because on the path towards the less specific the lighthouse should say you might bump into a non-validating hop which is luring you into the vortex next slide so taking the picture that i used before it's all the the white things close to the lighthouse are good but if you know if you're crossing a non-validating hop when you park towards the the lighthouse then you end up at the beacon next slide yeah well so all the apps that used the earlier beacon uh they are moved to uh the new beacon"
  },
  {
    "startTime": "01:26:01",
    "text": "uh we so it was really cool uh easy to do uh rpi test for revolvers because you just went to authoritative surface one has a zone that says the way you you're protected at the affiliate and one says no you're not protected at the invalid next slide so at the invalid beacon at color clue i also created a ripe atlas software probe which uses the invalid resources and has the command but on a valid resource so people using vipe atlas can use the beacon as well next slide the beacon is also at the end of ring if you are only an unlocked ring and you're a secure shell to the enameled lobs ring note then you will see this text that you can enter a network namespace with the invalid resources but with the command enter invalid net ns next slides and this is how it works you can see so if you secure shell there then initially it just uses valid resources you can ping the website of the itf and after entering the invalid network named namespace you cannot but you can it still does work because you can bring in laptops for example next slide so this can be used to [Music] measure other things as well like for example authoritative servers but the question is should services be protected by about a"
  },
  {
    "startTime": "01:28:01",
    "text": "region validation because they're not actually connecting to other servers on the internet next slide so this is it so does it make sense is this a good way to do it what to which you need to do it and how can i make it better so if there are any questions i'm in the queue so i will 18 17 16 15 14 13 12. there we go um so [Music] 12. i think that's the one so this is a good point if you go anywhere where you know the net you pass through a validating network which then takes you to a non-validating network you still end up at the bad place but maybe that's actually the correct thing to be showing because like that's what would happen in the real world so i don't know if the right thing to answer is that you're protected or not because the network you're using happens to validation but you still end up in a sad place so i don't know the right thing is anyway we have three minutes left so i will help you um is this yeah it is on um ben work online um i said that that's an important uh observation and i think the reason it's important is because i i i was struggling for most of your your talk to identify exactly what you're trying to measure um and if i understood correctly what you're trying to understand is the extent to which dns resolvers are susceptible to following a route to a hijacked authoritative dns server that's fundamentally what you're trying to measure initially yes okay so i think"
  },
  {
    "startTime": "01:30:00",
    "text": "that i think in order to work out what you need in the way of a beacon you need to be concentrating on what the most likely attack against that um traffic exchanges and i don't think that it's a more specific hijack i think in most cases most people that are operating dns um authoritative dns servers are already announcing 20 forces for v4 in order to you know in in order to to mitigate the possibility of people being able to you know sneak longer non-rpki related announcements into the routing table so i think the most likely attack is someone spoofing the origin and the the the difficult bit to affect to defend against is the fact that you're then relying on a s path length for selecting the the the correct uh the the correct destination um and that will show a pattern that's similar to the one in your in your map but will be more pronounced you'll get more resolvers going to the wrong to the wrong destination um so that's that's that's what i would be trying to mimic if i was you for that measurement yeah yeah it's it's uh it's indeed it's that but it's also trying to identify which hops are doing validation if you're if the question or answer if you if you're trying to tell the operator of a recursive dns server are you likely to be seeing safe results or not i mean that's a binary question the the why is interesting but it's not it's not as important as the yes or the note right um the only other observation i had is your your air zero rower is redundant it's not doing anything otherwise yeah it's just for administration"
  },
  {
    "startTime": "01:32:01",
    "text": "thank you and jeff you're up next and let's keep it short film there's still one more okay i'm trying to unmute my audio thank you the problem is villain that the more transits deploy the harder it is to reach your beacon and if you have only one beacon that's you kind of die well before it sort of ceases to be useful because deployment in transit tends to make this weird we started off in our work with one beacon we increased it to four in any cast and then we started to glom onto cloud players because in actual fact it really depends on what you're trying to measure and what you're trying to measure depends on what you're trying to prove oddly enough everyone must do without origin validation is actually not that useful we can get 95 percent of the result if let's say fixed transit networks do validation and no one else does because if paths go through a small amount of the core and the core is doing a validation dropping it actually doesn't matter what the stubs do and this interplay between deployment right and filtering this actually hasn't been studied at all in the areas of rpki we've adopted the mantra of everyone must do it and that mantra is meaningless it creates a whole bunch of wasted effort with only marginal return if everybody else does rov filtering i don't have to and you can actually extrapolate that statement outward what's the minimal spanning set for rov filtering for the maximal benefit and that statement hasn't actually been studied hard the problem is in a nutshell single beacons don't make much sense"
  },
  {
    "startTime": "01:34:01",
    "text": "because as we progressively deploy they become progressively unreachable because of transit not because of rop filtering and so you really need to rethink exactly how you do this to make the beacon useful if you want to trace it back to the source thank you okay thank you great thank you very much sorry we're out of time last one on the agenda is the center tony and i will give you slide privileges let's make sure this works can you change the slides thank you excellent hi this uh talk is a footnote on cider those of you who are of an age neighbors call what we decided a long time ago um started talking about aggregation and we started talking about doing continental and regional aggregation but nothing really happened this talk is about talking bringing that up again not because i want people to start doing it but i wanted to document some thoughts about how to do it before i end up retiring uh so what's changed since we started doing cider one thing that's surprising is we've started leaking more specifics all over the place for traffic engineering and that's caused a great deal of noise in the routing table it would be really nice to clean these up and it would be very effective to clean these up at a distance because frankly once you're at a distance the more specifics don't add a whole lot of value frequently none we have a new idea on how to think about aggregation i wanted to write this down before it gets lost"
  },
  {
    "startTime": "01:36:01",
    "text": "and we talked a lot about proxy aggregation long ago i'm going to bring up another idea which is doing unilateral remote aggregation so in traditional aggregation we have a isp he has a prefix p and he filters out all the more specifics and just distributes p everywhere what i'd like to talk about now is a new concept an abstraction naming boundary and and that's just the edge of the isp where prefix p exists and another concept we want to call an abstraction action boundary and here i'd like to give full credit to noel chiappa who came up with this idea long ago and it never got written down the basic idea is that you don't have to do aggregation right at the same place where the prefix actually exists you could do it several hops away and in this picture you can see we're leaking more specifics outside of the abstraction naming boundary and then actually taking action and doing creating the abstraction farther out at the edges of the opal this could be one two three as hops away what happens if you do this well suppose ispa is the owner of the abstraction and he's leaking more specifics all over and ispb now does remote aggregation"
  },
  {
    "startTime": "01:38:00",
    "text": "well the traffic is going to follow the more specifics so ispb suddenly is going to see a bit less traffic he's still advertising p so ispa is still being served but traffic is naturally going to flow in the alternate directions okay if you do this this is not necessarily a horrible thing not necessarily a good thing where you do this inside of ispb actually matters does ispb care about the traffic engineering that ispa is advertising and it can if it does it on ingress it gets rid of some traffic it gets rid of some routes that it's going to carry if ispd does the aggregation on egress they still get the traffic engineering benefits but has a few more routes to get right so could we do this to higher levels of aggregation so we have a bunch of regional aggregates the rars have nice prefix blocks slash 12s for example and could we remotely aggregate these and if we do that we take out all of those annoying traffic engineering more specifics we take out organizations that only exist within that rir's region where is it we would put the abstraction action boundary and this is something you have to look at in a case-by-case basis if you put it too close to the actual abstraction too close to the region you're going to break traffic engineering and if you go too far away you're being wasteful because more specifics are transiting too far away"
  },
  {
    "startTime": "01:40:02",
    "text": "and this is a case where it'd be very very useful to have a little more field input so i'll throw that question out to you guys just as a reminder this is what our rir map looks like you'll notice things don't quite correspond to continental boundaries if you wanted to say have a remote abstraction bound abstraction action boundary around ripe you might draw this line here and this is a little bit farther away just so that gets the traffic engineering you could also do continental aggregation and i'm going to pick on jeff here okay um intercontinental links are relatively rare comparatively and so we very much want to traffic engineer those intercontinental links but we do want to do we could put an abstraction boundary just on the other side of those intercontinental links we would also kind of like it if the rirs would do continental addressing for us so you can imagine suppose we want to throw an abstraction of australia and we might put the abstraction action boundary several hops past the transoceanic links going to australia okay um yes uh we know that there are some rpi our pki issues and we have to figure out how to do that with aggregation and that's something we have to work out"
  },
  {
    "startTime": "01:42:04",
    "text": "okay so we'd love to hear what people think about this and whether this is useful and whether they're willing to try that in the field thank you any questions yeah hi melini elkins uh inside products okay so just one anecdotal data point from somebody that i'm working with is a large organization in the united states that has a global presence with probably people i mean all over the world and we were talking to a particular rir and they said they would be willing to give them um address ranges for uh globally so i i i mean i don't know how this fits into your picture if it does or can you comment just just i mean i'm just i'm just saying just one data point i'm just you know just i'm just wondering how it fits into your your picture here it doesn't fit in um we know there are lots of organizations with global span that are injecting their prefixes from many many points and those are not good candidates for aggregation for obvious reasons hi tony it's jared uh i am curious what you're trying to optimize here are you trying to optimize the fib or the rib i'm trying to optimize both so call it rib okay yeah because i i think there's i i think it's very important to talk about the two separately so the the first thing is that you know inside of my employer today we actually have uh a solution that we use to go and ensure that we don't uh you know that"
  },
  {
    "startTime": "01:44:02",
    "text": "uh when you talk about a global footprint and so we don't have to we may receive all the paths in you know our ribbon but that doesn't mean that we actually need to carry all those uh you know all those paths in the hardware it's also possible that many of them have the same next hop and so that we can actually do localized you know optimization i know a number of vendors have done uh you know either internally fib compression work or otherwise to ensure that you know even though the rib may have more in it the fib uh you know actually can run a lot leaner uh from that perspective so so there have been many different you know both software and hardware optimizations done there i i think the the other thing just kind of looking at this just generically is i think this makes a lot of sense in a case where there's a lot of national you know aggregators or international aggregators but that's actually largely not the case anymore if you're actually looking at the internet today and and jeff houston's you know talked about this some in the past it's largely how do i get to the largest n cloud or content providers within my region and almost no other traffic uh you know there's there's not a lot of long distance traffic uh you know in that regard anymore if you look at what enterprises are doing they're largely integrating into one of the cloud operators but uh and purchasing direct interconnects for on-ramp off-ramp activities and so the need to do this there's a very interesting question you know around this is how much is this actually really needed per se and at the same time i also want to comment is that i know my employer is really bad about polluting the route table and we're trying to i'm working hard to try and address that um because we largely had a lot of things globally"
  },
  {
    "startTime": "01:46:01",
    "text": "that were very unique discrete sites and over time my long-term goal is to continue to advertise out those local more specific routes to ensure that we attract the traffic in the right locations but globally not everybody needs to see those routes and so we don't need to advertise those all globally which may end up with much wider divergence in what a local versus global table looks like uh but that is heavily optimized around the locations that need to get the routes and so i think that this is you know just looking at this at a high level i think the idea of where these aggregation points are is is very interesting because i think they're not where we would have thought they were you know 25 years ago so i don't know if you have any comments or responses to that but i think at least at minimum the fib optimization seems an area of potential interest uh yes fib optimization is of interest we talked about that and some people have implemented that we still have lots of people who are having scalability issues at the rib level so i'm very much more interested in trying to address that yes i'm well aware that traffic is orthogonal to routes that's fine i'm still trying to optimize routes rudiger right hi tony [Music] simple question are you thinking about any cooperation of the owners of address space or roots well of course cooperation is always welcome if people want to be aggregated remotely that would be a very interesting proposal uh"
  },
  {
    "startTime": "01:48:00",
    "text": "but well okay in general you are not expecting that as a basis for moving forward uh no i don't think that's a requirement and i would be very interested in seeing what happens in the field experience both with and without the cooperation uh kind of uh with my simple mind i feel that kind of without cooperation uh the current existing universe does not really is not really expected to get get a solution uh in your direction uh but uh well okay you smart you you smart guy uh might have ideas of uh what to do actu well okay what what concepts to use in signaling and so on for uh getting getting cooperation information into this well again i don't think cooperation is required i don't think you actually break anything if you don't have cooperation and you just go off and do remote aggregation as long as you're advertising the aggregate you are continuing to provide connectivity um but you are shifting traffic away i realized that alone could be contractually a problem so people should think about that but i don't see that it actually breaks anything just consider maybe just a data point at least my employer we already have a service that's intermediate between internal bgp speaker or external appearing we already have the slurs that does aggregation both externally and internally so pretty much what you are proposing here it's already done donna i would think that you know other clouds do as well"
  },
  {
    "startTime": "01:50:01",
    "text": "that would be very interesting to look at excellent well thank you everyone i think that this brings us to the end of iepg and we actually still have 10 minutes left if i'd planned time better we could have done some more of willem's questions but we will almost definitely be meeting again in philadelphia assuming that we actually meet in philadelphia um so i'm trusting everybody will have all sorts of exciting presentations for us then and enjoy where are we vienna enjoy vienna thank you everyone i don't know how now that i've yeah i don't know where you stole this from thank you awesome perfect thank you sir i don't know how i logged tony out wasn't me would be nice if we could have but we"
  },
  {
    "startTime": "01:52:01",
    "text": "didn't really get our lives okay"
  }
]
