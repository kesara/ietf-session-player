[
  {
    "startTime": "00:00:11",
    "text": "welcome to the part 2 of TOS at IET one or two and you probably have all seen this know well I\u0027ll put it up real briefly here so you can peruse it but now move on to agenda for today I think there were a couple things we wanted to to start with one is that we did have a side meeting this week on the DNS SEC chain extension and I think it was a productive meeting there are some additional discussion to be had on the list and we\u0027ll probably try it we\u0027ll try to schedule a virtual interim to get parties together again to see if we can continue to make progress and close the issues and get a document out in the near future in addition so David Benjamin was kind enough to publish a new version of the TLS Greece draft and I guess what we\u0027re going to do is try to just go directly to the horse\u0027s mouth anger talks the IANA people I\u0027m gonna do that to try to make sure that the instructions are clear enough for them to understand what we\u0027re trying to do so that we could actually get this stuff implemented and I think that out not be hard because they\u0027re here and I\u0027ve been talking with them about lots of other ion a registry related things so I will go ahead and do that and report back as soon as possible all right so before we get into the main talks does anyone know - the agenda one quick quick thing to note Richard Barnes didn\u0027t send an update to the pig draft that is not reflected in this agenda so he will have five minutes before to take a request sought but anything other than that please come up now Eric is this on bengi duck so you with no hats on there\u0027s a questions come up about the reuse of PSK t-shirt keys between TLS 1 2 and T 1 3 and sort of my intuition is that if you have an existing PSK using for TLS one two you don\u0027t necessarily want to just drop that into TLS 1/3 the different key schedule and you know from the graphic point of view I don\u0027t know that there\u0027s any real value in us talking about that today but I do think that if we decide you don\u0027t want to do if we decided you should not do that we might want to have some text about that in the TLS 1/3 document which is potentially done in timescale of weeks so if you do feel like you\u0027re qualified to have your cryptographic opinion on does this actually matter please think about that and most of lists this is sort of related to the the topic that measurement I brought up about the universal PDS case this one is if that "
  },
  {
    "startTime": "00:03:15",
    "text": "sounds a little bit surprising that you can\u0027t use your PSK from when you specifically since we allow negotiation between 1.3 and one or two fallback so it appears that like you started with you want to do it awesome vacation and then sorry it surprises me it doesn\u0027t sound right it sounds like if you have the negotiation mechanism it\u0027s the same it\u0027s like saying you can\u0027t use a certificate now that you use for one or two not four you have to get new certificates when you use monetary it\u0027s the same argument the executive summary is that the the crippled epic analyses of 1 3 basically assumed that any PSK is only used at the single key generation function on now am i aware of any actual problem if you don\u0027t do this no but basically the corners are like all one make any guarantees you\u0027ve ever if you ever mix and match different key generation functions so um like I\u0027m not aware of any reasonably this is actually a problem but that\u0027s that\u0027s was ground David Benjamin just to add to that briefly the the reason the certificates are ok to be reused is because we in the certificate verify oh - we can I\u0027m sorry to the Benjamin to add to that the reason the certificates are ok to be reused as is is because we explicitly add the contact string in the protocol has the 64 spaces to call the client random so that\u0027s where are the certificates are safe to use between the two um well PSK does not immediately hug but I feel it\u0027s it should be pretty easy to fix you just like say you derive it with this thing that looks like the terrace won\u0027t you appear how much we care is another question so um in my opinion a better bridge would be to actually let their former message guide analyze that case as well before we go ahead and make these sort of potential suggestion and confuse people um so I think that needs more discretion on the list so I think school wouldn\u0027t start with a regular agenda so certificate based authentication hi so the reason that I\u0027m up here is because we ran out of time in London and I didn\u0027t get to do this presentation then next slide so the current TLS on "
  },
  {
    "startTime": "00:06:24",
    "text": "three attend acacia and keep schedule basically yeah the initial handshake basically that uses a signature and a certificate to do the authentication and the Disney Hellman the thing that drives the key schedule I thought it was okay and the subsequent handshakes are based on the resumption PSK or a combination of the resumption PSK and an additional difficulty result next slide what I\u0027m proposing is that we add an additional option to the initial handshake that lets you include an external PSK and combine it with the diffie-hellman result next on it and the reason I would like to do this is a contradiction just in case that quantum computer comes to pass the idea is that you fix this externally generated out of and distributed PSK so that any traffic that is recorded now has the attacker has to not only get a hold of a quantum computer but also has to get a lot of that PSK value next slide so this just demonstrates where would fit the extension that says I want to mix the paint an external PSK is included and then existing extensions are used to distribute the the pieces so the key share and the exchange mode and the pressure key are used as specified it\u0027s just this one extension that if its present says mix the two together next so the syntax is at the bottom of the slide you can see it\u0027s empty it really as a boolean it\u0027s present or it\u0027s not and so if you successfully negotiate that you\u0027re basically just saying we\u0027re going to do that and then the other three extensions must be present to provide information about which external PSK and provide the different helmet values next slide so [Music] presently there\u0027s language in the spec "
  },
  {
    "startTime": "00:09:24",
    "text": "that does not allow the PSK to be used when certificates are used that\u0027s the whole reason for the extension is to override that statement however I\u0027m still saying that certificates would not be used with the resumption PSK they would only be used with a external PSK next slide so a few thoughts about the external PSK is basically a group that need to be a group of entities that are doing TLS would need to get a hold of these PS KS pairwise PS caves between everyone that might be communicating it was not feasible that would recreate all the key management problems but the idea is that if the quantum computer comes to pass then you have to get both of the values you\u0027d have to compromise one of the members of the group at the PSK in addition to getting above the thing yet to be invented this quantum computer and so for that reason the external PS caves will be more suitable for some applications than others but let\u0027s protect the ones that you need it Anana next one so the ask is that the working group adopt this as a work item and their questions question but um were you freezing the semantics or will add in it um an external Pierce case already can be missing if you haven\u0027t and that\u0027s the way up this case working to m13 if there\u0027s diffie-hellman you involved so the semantics it seems like you\u0027re saying is not um not anticipating it\u0027s not to curing around sort of a this is instead of instead of bypassing this it is i would like you to send a service an inch or even though you\u0027re doing PSK that\u0027s the semantics i think that is relevant here right okay help me with the language but what I\u0027m saying is right now the authentication is if a PS k is present the authentication is based on that yes I agree okay what I\u0027m trying to say is I want to mix the external PSK and have the authentication based on the names in the certificate a little because the PS k will be a group I mean nipa King but the P means the critical semantics is I insisted that as well as in his PX k you also generate take the identity from "
  },
  {
    "startTime": "00:12:28",
    "text": "that certificate not nothing the external PSK won\u0027t sir I\u0027m just saying it\u0027s not a I mean yes because it Patel\u0027s are the same I see less like completely they\u0027re inclined value it\u0027s in the manner of his choosing right oh I see what your sir would you be expecting to relax or incline up indication as well yes the client authentication could be used as well right certificate based classes yeah okay I\u0027m not sure what I think about this so as you recall this was removed for two reasons one a reason I think suggested by and the second because there were known attacks on at least one very of the TLS key schedule I believe my understanding is that that has been fixed and it\u0027s mine but we would like I think I don\u0027t know there\u0027s a process matter where we should be but like before we got very far with this I want to see a formal analysis with we\u0027re sure this is okay sure but it\u0027s my belief as well that that was fixed Martin Thompson I think you\u0027ve specifically excluded the one use case that I actually care about you know this by saying that you wouldn\u0027t allow this with resumption previous case I don\u0027t think the distinction is actually useful yeah I think at this point when you when you complete the handshake and you have both the PSK and the certificate you make an assessment of whether or not to continue with it that was that that\u0027s a useful property to mother mind particularly because if you call I wrote a draft very long time ago but sort of the middle of the design process where the concern was that there was no fresh proof of ownership of the server certificate if you have a long series of resumption x\u0027 and clients that are using zero RCT would be presented with a trade off they would mm-hmm have to choose between 0 82 or bring up being on a certificate and if you were able to combine the two and it would be quite useful to do that alright so so I think I was trying to make the smallest change to the I think you made a bigger change their look was necessary as the point you do yeah so I think having having a signal saying in addition to this PSK I expect you to you to also authenticate with the certificate mm-hmm to a server would be a valuable signal to have and that may be sufficient the use of client certificates in this one yeah I hadn\u0027t thought that one through and yeah I just never work I just didn\u0027t come up with anything that it broke yeah yeah okay "
  },
  {
    "startTime": "00:15:30",
    "text": "well Nick Sullivan Clausura I would a second Martin\u0027s point that this is it would be useful to have this for PSK presumption as well static and I think it\u0027s generally a good idea okay so for this plus I want to repeat my couldn\u0027t visit I I did in limps Gramps that\u0027s right we heard you know basically you have a drug that uses a similar technique and the drug is already in the game sales date I mean slightly different terminology is Kimmy is called a PK you can see the combination so it\u0027s across all different uses terminology is the same so in this particular case I\u0027m not sure I can align with that terminology because the base TLS document boarding is very specific about presumption PS case and external fields case but I will look at that question because thank you hi David McLean Cisco so I just want to you know speak to the NGO securing TLS against the potential of the quantum computer and this would greatly expand the number of post partum secure cipher suites and be consistent with certificate based authentication and that\u0027s a very good goal so you\u0027re saying you\u0027re supportive yes okay okay real quick because we\u0027re kind of short on time there seem to be some people who are in favor and I can\u0027t get a show of hands who\u0027s actually read the draft so a number of hands potentially you know continue discussing on the list and then maybe next time we call for adoption if you\u0027d like so how about when you start a call for adoption and all these comments will come out there were charming all right so this is Tina\u0027s pic where we have a similar enlightening talk shapes I talked about this at the last night\u0027s yeah and produced a new road this slide is the same as the last time motivation is the same sometimes you need a password that doesn\u0027t have much entropy and you need to use it safely the difference between last time is we published a row of our draft mid-cycle this time which contain a number of type of that we fixed earlier this week but what that does we originally proposed binding this mechanism specifically to a spec 2 and the new draft has a generic big container so it\u0027s got basically a blanket you know put whatever you want here extension in the client alone server hello that any any given paid protocol can put messages in provided that the finished messages provide a sufficient key confirmation the other thing that graph does is say when you "
  },
  {
    "startTime": "00:18:30",
    "text": "get a symmetric secret out of this pay protocol here\u0027s where you put it in the key schedule so it\u0027s pretty general it has a general framework and it has a realization of it in particular for us big tube been talking with you guys I\u0027m about doing this opaque as well so that nature often later growth so like I said since last time we got some feedback on the list about other pigs people are interested in dragonfly we\u0027ll pick a couple more more and so that led us to refactor into this general on general framework so we\u0027ve still got a couple of open questions for instance do we need to protect the identities that we\u0027re sending on right now the first message the client hello first message in the cryo has to specify what password you\u0027re talking about the virtue is the identity and there\u0027s no mechanism right now to protect that come to this question as to whether you know we\u0027re not to try and do some hello retry requests dance to do identity protection similarly right now there\u0027s no mechanism to negotiate which pic you\u0027re going to use on a given session there\u0027s an assumption that\u0027s each when you pre configure the password you also pre-configured what paint you\u0027re going to use it with so you know I say what I\u0027m using a password one two three four five and I\u0027m going to use that with opaque because there\u0027s there\u0027s this preset up that\u0027s assumed between the client server now that may not always be the case for instance if you\u0027re just typing a password in some client it might need to discover from the server what take it should use that with and so there might again need to be some hello every try requests dance but one of the boys in this group now this question of whether developing some sort of pate solution to go into Tiana\u0027s is of interest and whether this seems like world leader right approach so that all of your questions if the chairs would have a show of hands or anything I don\u0027t think we can go to an adoption request here because we\u0027re short on time but maybe we could get some sentiments in the room too yeah I think that\u0027s a pro player is my idea um richard suggestions can I just get a show of hands of who is generally in favor of this work who\u0027s interested in it and potential okay so yeah about ten or so I could you want to comment real quick can I ask can we implement this I\u0027m like in the room anymore like this right so I would write patches you know probably OpenSSL yeah okay is that are you the only person would agree with this that seems like kind of an argument against adoption huge artists so there hasn\u0027t been much discussion about this I know us so I prefer we take this to a list and then you know continue discussing it there you know there isn\u0027t it we don\u0027t pushing on this particular thing in this particular moment is that the history history of Pakes in TLS has been like a long efforts bennett and it\u0027s been very well first been implementing them and so like i\u0027m not opposed to this it was gonna be is gonna be uptake but i want to make sure like the update be enough "
  },
  {
    "startTime": "00:21:38",
    "text": "we\u0027d want to see using applications because we\u0027ve already got the pet request yeah we wouldn\u0027t want to see it an open sls or application use i\u0027m voting we just turned down so we need to see other people needing this yeah so so to be clear I\u0027m not here because I have an academic interest in cakes I\u0027m here because I had some product requests for people who needed something of this general form how they use case where they could only provision the line should be secrets and so any we would be pushing it put it in some products yeah okay I mean generally the concept I think is cool all right so which are not all for this presentation and we really snappy because we\u0027re kind of short behind on time this is something we bred the holistic while back I think in April take a request you might be able to wager what that means so get right into it the basic problem that we ran into is that service generally just when you a fixed number of tickets upon connection so in the case of boring itself for example they just made two incentives you each time but potentially if your university in connections using happy eyeballs beat you and you or you want to open up your connections using you know resumption more than one more than two tickets or you want to do some kind of connection for anything you may want to get more tickets but then again if you\u0027ve ended more tickets you don\u0027t use them all you they can just go to waste so it\u0027d be nice if you had a way to sort of explicitly say how many tickets you need for your particular use case and so the requests we outline in the document is basically the requester starts protocol post handshake as a post and check message where clients will signal support for this particular type of eccentric message and servers who support as well though minting a new new session tickets until white then later asked for warmed up eccentric message and a request and the request cards identifier it\u0027s multiple contacts and some extensions that you know could be filled in later pretty straightforward and alternative design we considered was basically expressing in the new extension how many tickets you might need up front and then server doesn\u0027t have to I guess in your way you can just send however many watts or the minimum of what the client requests anyway when it\u0027s going to VIN so if I you know asked for a thousand tickets and the server\u0027s willing willing to then for then it would then for and I you know that\u0027s the best we can do in this particular case I mean this is sort of nice in that it avoids having to you doing add any more posts and check messages which can be quite nasty depending on your implementational actually choose to go for doing this but it doesn\u0027t allow for dynamic lending of tickets I mean of course you could do "
  },
  {
    "startTime": "00:24:38",
    "text": "various hacks like opening up a connection getting four tickets and then repeating that over and over again it you know it\u0027s been your pull the tickets but this is pretty static in that sense again you tell you this particular mechanism dependent on you in the use case so if for example we clients will never ask for more than four tickets why don\u0027t servers just are pending for tickets all the time instead of two and then we can just call it a and go home and make any changes over as I was saying that it would be nice if we could kind of avoid you know in the connection between use case where you might want to just build up a pool tickets and use them to vend out the other process needs to sort of connections very quickly if you could avoid a hack right you know connecting getting budget Achatz and slowly increasing your pool so again the goal is just to make this kind of explicit to avoid ticket waste to make it very clear to the server how many think it\u0027s the said that\u0027s pretty much it there were some comments in the list about this I think it\u0027s pretty simple approach and interested if anyone else is in favor of this particular lady or finds it pleasing or displeasing I have you make an excellent cloth or have you considered making this an exporter in some way I\u0027ll be able to export these having a post handshake messages as you mentioned is is pretty tricky in a bunch of implementations maybe you could export it in its is the use case you\u0027re looking at something in which you might use HTTP to or some higher-level application protocol to transport these tickets or does it have to be in TLS no [Music] we have not looked at it I guess we have not looked at doing expert and it is not strictly hb2 so potentially other applications are the protocols about USA would use this yeah I think David was next so I guess I\u0027m going to say something which suggests exporters but I feel really bad making just tickets exporting so I\u0027m not sure what the answer is but so one thing we ran into with the key update message was that so suppose you have your read stream is going much faster than your right stream like you\u0027re going over TCP and the other side is just not reading we\u0027re not reading from you so your right is backed up or like the net they\u0027re down like it\u0027s just slower whatever but they\u0027re sending you lots of ticket requests you can sort of grow an unbounded number of ticket requests and then yeah that\u0027s somewhat awkward for DRS reasons things like HTTP to tend to solve this by saying like okay well you\u0027re only allowed to have so many open streams at a time and like the HP two layer knows what that means and can deal with it but since the terrace layer tends to be kind of this dumb pipe things where stuff builds up can be a little bit awkward "
  },
  {
    "startTime": "00:27:38",
    "text": "I guess one obvious answer is we should just say that you\u0027re not allowed to have more than like seven open ticket requests that time but it feels kind of weird and arbitrary so I\u0027m not sure what to do about this sort of thing yeah that was sort of the nastiness I was referring to really would be you know potentially avoiding the post to inject message and just shoving it you know the actual number of tickets you want and you know the client hello extension and then not dealing with any kind of course entry message so I mean deem a that that may be the better approach if you consider this particular communication both being nasty rich yeah yeah I mean I guess the other alternatives were just universally deploy ipv6 but yeah we do races all the time and this would be helpful yeah tell me tell me probably so just echoing what you said I think I want to re-emphasize that we don\u0027t want a solution but relies on http/2 or a higher layer it\u0027s we\u0027re going to have just for royalty less rooms or any random application without having to extend them I agree that that point about the problems that can happen with building up requests is pretty bad so I think that makes a pretty good argument for including them just in the initial well there could be we\u0027re essentially 50/50 on that there could be some cool ways of I cry learn that I\u0027m going to be doing more races and more connections to this connection later on but I think optimizing it by having a best guess is just a just fine also to the point of racing this isn\u0027t just happy eyeballs I\u0027m so yes v6 only is great but we may have multiple v6 addresses as well as multiple powers potentially even multiple protocols yeah yeah I think I probably should have presented it as a proposal to instead of the main one in the alternate but yeah so soon it ticket dependent exactly how your or gas can burrow involves some kind of an asynchronous request which was in the make up and before this there wasn\u0027t really anything after the handshake so I think from that perspective that\u0027s have a nice property to have um if we can just like get the exact number of tickets that we want in the initial request yeah okay so option to this might be a good question but because we use there\u0027s different protocols for that we can switch from A to B it\u0027s just an area ticket to the specific LPM yes um you haven\u0027t considered a particular issue so I don\u0027t really have a clear answer for you on that so thank you yeah yeah so another thing that occurred to me we haven\u0027t actually like played with us to see if this works out but it did Kurtis at some point but if I said my "
  },
  {
    "startTime": "00:30:40",
    "text": "game um but actually even if you need say like 20 tickets because you make 20 tickets in parallel it\u0027s not obviously wrong to send only even one because so you\u0027re the number of tickets you want is like like the amount of like parallelism you have in your connections if you make 20 connections but they\u0027re all one after another one ticket is just wrong correct and so if you make a resumption connection you use one ticket and put one back and if you make unfresh connection you either way after a connection you put a connection back and so instead of you make you you like so once you reach your maximum parallelism like you will continue to have that many tickets going on at once as long as tickets always we yeah doesn\u0027t matter whether or not you resume if you use a ticket you\u0027re gonna get a ticket back if they\u0027re not so fresh connection and so if I\u0027m gonna suggest that we should be just sending one ticket I mean potentially I mean I think the utility like I said depends upon how your racing things and how quickly you\u0027re depleting your pool so I mean you could start by racing 10 and then getting 10 and then just continually going from there forward every time your resume gets them or forget one more and then just kind of march forward in time perhaps a misunderstanding a particular comment looks like Ben\u0027s gonna get up I don\u0027t know if we have time sadly yeah I think well I understand how many people have read this draft okay folks think this is on the working group should work on just a couple hands okay anybody be mentally opposed to this work okay I think it\u0027s we obviously I think need to have more discussion on the list TOS 1.3 with each pls so if you\u0027re still around show up exciting all right but even more exciting encrypted so unfortunately we\u0027re kind of running short time so there will be some potentially controversial things in here especially really the DNS so please ask if you have question related units record format or anything please hold them to the end so we can kind of get through the TLS bits and then discuss that later for position on the list so getting right into this thing\u0027s pretty clear that this is in the scope of the working group I mean we want to as the text says basically encrypt as much as possible and protect against massive active attacks and yes and I is something it\u0027s in the clear "
  },
  {
    "startTime": "00:33:40",
    "text": "let\u0027s wrap it up so with the development of TLS 1.3 we should do pretty well in that respect most the server extensions are now encrypted everything pretty much have to keep share and stuff that\u0027s it encrypted inside with the extensions or certificate and the client certificate or both encrypted fortunately the client extensions in this particular context yes and I also things like the LPN are sent in the clear I mean these are sensitive things that you might want to hide from a privacy perspective and you might want to hide this particular bit of information because or depending on your particular threat model and what cookies adversary are doing with so if you\u0027re doing with a passive attacker who just wants to sort of surveil you and learn out where you\u0027re going hiding this and is certainly a good thing I wager if you\u0027re dealing with an active attacker who\u0027s trying to censor you based on your s and I basically cut off active connection to a website this is also a good thing I mean there\u0027s little asterisk there in that particular detail regards to sticking out put just move right along so there\u0027s many different sources of survivability leakage which the s and I you know presumably had that indicates the first of course is DNS resolution the first thing you do before you serve a connection is actually just go talk to DNS and reveal to the world exactly what you\u0027re after and there\u0027s a yes and I itself theirs was the server certificate back in the day there is the server IP address which may or may not be unique depending on your deployment strategy and how your application it\u0027s actually hosted and then a huge whopping bucket of traffic analysis and what you can do to learn where you\u0027re going and what who you\u0027re talking to so many things fortunately IETF have kind of plugged with these holes so the work in the deeper Ivan doe group working groups have sort of you know made DNS resolution private you know of course module traffic analysis and so on and so forth this particular draft is again as the title suggests interested in plugging me sni whole the server certificate was handled by TOS 1.3 thank you guys the server IP address handled by CBN\u0027s multi turning I asked right there because you know it might be the case that particular applications are given a dedicated IP in which case the IP just reveals exactly to where you\u0027re going but there\u0027s work on that area as well unfortunately this is still subject to traffic analysis and like much the internet so can\u0027t fix all the world\u0027s problems at once and as a working group we spend a lot of time in this particular issue going back pretty much the surveillance 1.3 there has been many different proposals many different injures address if you were to go through the archives and we have spent a lot of time trying to actually nail down what the problems they would be what the requirements should be pointed to the sni encryption draft from christian we can\u0027t unfortunately could be here today and Eric and this draft they recently turned in to propose solutions to these are the requirements for S\u0026I encryption and you know how you should assess a particular solution so we try to take care to assess our particular design in the context of this this draft and its requirements and back in the day before we had Dolan DNS or privacy we basically "
  },
  {
    "startTime": "00:36:41",
    "text": "you know decided that this was a really hard problem to solve because there are so many different informations or multiple ways that this information get out so you know I don\u0027t want to say why bother but it was it was a hard thing at the time unfortunately that\u0027s changed now we have Dina\u0027s we have been at privacy we have dough and if you have massive you know CDN servers that are our CDN infrastructure that are also providing you with your TR your trusted recursive resolver and giving you do functionality who also happened to control the DNS records of their clients their origin servers they could flip a switch and turn on encrypted s and I for all their origin applications or all their origin sites that they support so they mastery configure all their domains and then pretty much everyone belongs that anonyme said you know benefits from this particular design carried again that depending on how you you know assign keys in particular DNS records to origins you know determines the size of your nominee set so just a quick recap today without deprive so today I depending on what system you\u0027re running this is what you know generally the your connection looks like this is where your traffic goes any chance you have a query from a client to be notice for customers over for bargain address back send barring the SNR into this client facing server which was identified by a record from your personal resolver in your address your adversary basically sees everything you\u0027re doing and we want to presumably if you can encrypt the Dinah\u0027s traffic and encrypt the s and I both of these holes abrupt so the high-level summary is that the client facing server which is the CDN who controls the DNS records for all of its clients installs yes and I keys which are key is used to encrypt the USMLE into the dienes claim wears them gets back an address in a key and it uses that key to encrypt yes and I as its sent to the client facing server with the client facing server in possession of the private key in that particular record can decrypt it and forward it along to the correct back-end application so in this case but for no long to bar the other configuration is the share mode where you might happen to have the applications just hosted in the same box and you just simply decrypt yes and I there and then use it to you know serve the right certificate based on you know what the value happens to be I should note though I\u0027m going back to the previous one that it is the case that because you don\u0027t want to share PSNI cans between the CDN or the client-facing server and the origin that the origins what websites don\u0027t actually see what the real sni is so there\u0027s a caveat there\u0027s some text in there says you know it\u0027s the origin server has to serve up essentially just want certificates otherwise it just is guessing basically what the one certificate it should provide to that client so this is what the record looks like Indiana\u0027s it\u0027s pretty straight forward naming could be Vegas so it starts with a checksum which is basically the upper 32 bits or they\u0027re basically checksum of the rest of the contents of the DNS record starting from the keys the key "
  },
  {
    "startTime": "00:39:41",
    "text": "share entry vector all the way down to the extensions and we included this basically to protect against potential transmission problems of the DNS record as you fetch it down from the wire it\u0027s a vector entries which each have a name group and then something else in there forgetting right now in a way of cipher Suites potentially used for encrypting the es and I a padded length which is the length of basically the size of the s and I blob you want to encrypt before sending it to the server and this is important because you want to make sure that the length of the encrypted sa9 does not reveal what SNR you are actually sending some not before not after timestamps that determine the validity of this particular ES and I he record and this was useful deem useful because it helps operators kind of handle key rotating and quickie rotation rollover in a more straightforward fashion and then some arbitrary extension block if we want to potentially add things there later and this is all stored in a text record base64 encoded with the name underscore yes and I with the actual s and I value appended to that and so for example the one that\u0027s hosted on the cloud flower server right now is listed below I don\u0027t know if it\u0027s changed since I don\u0027t think so also hundreds here you can probably but you can query now and find it so pretty simple and then once you get this particular record and you have your key share what you then do is send a new extension which is the encrypted S\u0026I it contains a cipher suite which indicates to the server which it is high and facing server which may be used to encrypt yes and I say it\u0027s a digest of the buldge digest of the DNS record and this is particularly important to prevent against downgrade attacks because you want to let the server know that this was exactly the set of keys that I used to choose my name group for my key share and then of course the encrypted sni value which follows cuter evasion is pretty simple you get a you have your client key share which has to match the Group one of the groups that are provided in the es and IQ structure and you mix that with one of the public key shares that\u0027s in the SMI key structure this has some interesting effects in particular that means that the client facing server and the origin have to use the same group effectively the client must send only one because that\u0027s the same one\u0027s going to be used for us on our encryption but this this every suite that\u0027s actually used for encrypting of the handshake traffic is still negotiated as per usual the cipher suite that\u0027s in the clinics the new client hello extension is exclusively for clipping of the es and I nothing more and one subtle problem with this right now is the design of specify it has a potential for downgrade attacks in this layer and this is different from the downgrade attack that I was kind of referring to earlier by including the record digest so I comment on interaction two little boxes from "
  },
  {
    "startTime": "00:42:42",
    "text": "section 93 in the texts of gs-13 basically requires that you know a middle box that does not understand any extension must not send it along so presumably the server then would you know reply with a default certificate that the server would trust or the client would trust so you should have a way to be able to detect this particular problem but for non-compliant middleboxes those that just you know completely ignore this test unfortunately and I\u0027m sure there will be some David Benjamin can probably comment more on whether or not you know he\u0027s had middle box problems in the past so we\u0027re not entirely sure how you\u0027d detect this particular type of problem you know maybe some kind of captive portal thing but this is yeah this is something real that would this is still very much an open issue after the case of disabling yes annoy say your inner like and enterprise it doesn\u0027t want to use it or say your server that is under heavy low and you want to turn it off and start doing a bunch of encryption presumably you could just strip the DNS records that contain yes and write the records that contain yes I might use from DNS or just make sure that the TTL is are relatively short so you\u0027re not you know your client has to go on fetch a new record and then unit your window of exposure is you know the length of that TTL for example but you might also want to you know if you\u0027re a client that\u0027s implementing this particular feature provide a way to sort of push down you know a kill switch to a client so if you\u0027re like if you eventually just kill off all connections to enterprise applications because of this particular feature which would not be good you know just in no warning you potentially like what this ability to turn off and you know there might be other some other course to deal with this particular problem as well so we\u0027re of course open to suggestions for that and so several times during the design of this particular work we\u0027ve got us a question why not just encrypt everything and the reason is that we want to make sure that you know the ESN is kind of a special piece and that\u0027s used to it primarily identify the certificate but also potentially use for routing like information so if you were to have you know if you were to encrypt all the extensions you potentially have to share a key between the client facing server in the backend or you know the origin server which is not what you want to do in many cases I mean if you configure your origin server with single certificate and respond then you can keep the key separate and you don\u0027t have to worry about any particular you know key management issue or at a larger scale that is also if you happen to encrypt all your extensions you might run into middleboxes what just happened to drop all of your new extensions because they do not understand them which is a pretty useless client hello i would say so i mean we could later look at you know proposing alternatives to encrypt the rest of the extensions or more of the extensions for example the hey OPN if you want to show up some you know potentially private privacy sensitive thing in there but for the context or for the purpose of this particular graph explicitly chose not to because we\u0027re trying to enable that you know that shared and that\u0027s what topology use case also a very big disclaimer that you know mostly "
  },
  {
    "startTime": "00:45:42",
    "text": "content in this draft is potentially wrong between a structure being one of them received many comments particularly for those people medina sauce working group which is really great because it\u0027s nice to have kind of feedback and cross-pollination there you know they\u0027re issues such as it should be removed base64 we added it because we all love base64 and that was a very wise engineering data-driven decision there is also talk about potentially using something other than a text record such as you know just dedicating a new one for yes and I honestly I\u0027m just deferring to these experts on this particular one who could tell me what the right answer is so happy to hear that you might even use if he goes raisin HB AB is needing using a service to publishing es mi team structure yes there are some also problems with the TLS bits of it um you know maybe you might not want to use the key share that\u0027s used for the actual handshake and use for the for the SNR encryption but the caveat there are though is that you have to bind them together otherwise someone can just come along and strip out the encrypted s and I blob that you have and shove it in their own coin hello and then send it to the server and get back the certificate that you would have gotten so we need to there are some proposals floating around as to how to actually do this we don\u0027t have a you know put anything down concretely in writing yet but you know that is something that we\u0027re thinking about over although we think you know based on our experience at the hackathon and you know the ease in which this kind of came out and how it kind of fits seemingly naturally into the ecosystem that we think this is the right direction you know caveat that we think and you know other people may think differently so just a quick update on the inter up status so over the weekend we got into NSS thanks ekor implement it and the client side of boring it\u0027s to sell and Kazu implemented and equal to us Firefox has support so actor was able to connect to oops I didn\u0027t think I thought website as well which is really great and working on getting in Safari as well just to experiment and there are two test servers up right now you go to us and believe boring us or so not sure how that bit is actually implemented but so very much hopefully we didn\u0027t you know gloss over too many details in the interest of time but like now to kind of you know post a big question to the room is just something the working group is interested in and if so how shall we proceed I will take any questions and comments of the mic Ben Schwartz I support adoption I\u0027m just gonna bother you with weird ideas I want to put a replacement sni field in me yes an IQ structure can be "
  },
  {
    "startTime": "00:48:43",
    "text": "empty or you know in which case you get the behavior that client doesn\u0027t know that\u0027s Venus and I or it could have something there I think that could be useful for certain deployment architectures so their placement nests and I then would be like please say this is what you should actually put in yes and I feel like I\u0027m going to great Randall thing calm which is nowhere near bad so please don\u0027t block my traffic and you actually put the bad thing example calm and encrypted s alright so I think that\u0027s that seems a little silly given the Fiat cryptic as my extensions right there at the end of the client hello but there I think there are deployment architecture is where basically there\u0027s a there\u0027s a front end that only inspects the SNI and and then there\u0027s a much smarter back-end and so you know your your topology here requires that front end to BES and eyewear and you know maybe there\u0027s maybe there\u0027s a version of this where your your front end dispatches based on based on a clear text that\u0027s yes and I that doesn\u0027t reveal all the relevant private information in the private extension okay thanks only thing about so we do only have 10 minutes left and there\u0027s seven people in the line or eight so let\u0027s keep it short thanks um there\u0027s canal Zee Apple so I like this I think that is a problem that this working group should try to solve and I think I agree with that this is going in the right direction one thing I would like the group to consider is potentially trying to also encrypt other things that are in the client hello thanks to this mechanism so like I was mentioning earlier with the alien like I am of the opinion we should do that in a separate route because of the reasons that I discussed but doesn\u0027t mean we shouldn\u0027t do it here absolutely like cooking yeah and I know what your case is and okay very good Mike Mike Bishop I also think this is moving in the right direction I will point out one more way in which the raft is wrong which is great it feels to cover multi CDN cases and the way it\u0027s written right now you get one is a nike per first name per origin and in a lot of cases they\u0027re actually a multiple cbn\u0027s that it might be shared amongst but you probably don\u0027t want them to have the same keys so you have to figure out some way to disambiguate yes and then it\u0027s indeed an issue that we\u0027re discussing both working authors and that\u0027s going on sobs thread so yes thank you for pointing that out this in case for this particular version the drop does indeed not cover that that particular case so thank you hi Brian um this is a sick hack there\u0027s a lot of details to work out but I really like it I think this is the place to do it I caution you against I\u0027m going to you know as experts and asking them whether tax records or anything to do but yeah it\u0027s a detail so I would say that I would say that there doesn\u0027t need a coordination "
  },
  {
    "startTime": "00:51:47",
    "text": "so this is this is excellent work I support the working group working on it thank you one thought that we addressed maybe my fishes concern is to actually bind these two in adhirata instead of two the name I realize that creates an additional potential latency during lookups but it\u0027s that could be solved by push situations or other arrangements the advantage there is that the key that you\u0027re looking for is actually the key for the endpoint IP address and so the linkage that\u0027s made is the linkage between the IP address itself not between the host name I just one point that out and I have one question for you which was does Apple know that you\u0027re doing a presentation with Comic Sans [Applause] so yeah this is good work stop using Comic Sans we have better thoughts I just want to speak in favor of the current structure for DNS I mean I\u0027m sure things will change I like several properties of it there that I don\u0027t want to lose as this evolves I think it\u0027s very important that we can do this from a implementation that doesn\u0027t have HTTP in it that doesn\u0027t do stuff like also if I think it needs to be for every low level thing with a lot too much of a layer of violation here I like despite any problems with stuffing this all in the text record I like that it seems deployable this way and we\u0027re not going to have problems about getting it through whatever solution we have does need to solve that problem so let\u0027s keep going down that road one thought regarding the IP address solution that dkg just mentioned that\u0027s very cute I\u0027m a little bit concerned about the latency that that could add to the beginning as I was thinking about how I would implement this because you know we\u0027re doing das Cruzes already happy eyeballs I was imagining I could essentially do the text record query before I do the aim quality and then just fire it off afterwards to make it really fast if I have to wait to get the IP addresses now I\u0027m actually doing way more queries and it\u0027s actually forcing me to at the end so we just need to think that through thank you thank you good secure Google one thing it seems missing here is there is no at all acknowledgement of the fact that yes and I was successfully accepted and decrypted by the server or whether it was simply ignored and then the client doesn\u0027t have an indicator whether the negotiation was successful right there the draft assumes that there what bki verification will fail in that case but that\u0027s not necessarily true with white birth certificates and stuff like that right okay yeah certainly something we can clear up in the text yeah thanks I fell hard Baker Komodo security solutions I really like the work I strongly suggest you split the "
  },
  {
    "startTime": "00:54:49",
    "text": "draft into two so that you have all the crypto piece and the TLS piece in one and all the piece about how you get the parameters out of the DNS in another and the reason for that is that I have in the past being told many times how easy it is to deploy new resource records in the DNS and I happen to have two ISPs that support my websites neither of which will allow any records other than the ones they support so there has been great Hope over experience that has not changed in 15 years the other thing is that I think that you will find you get pulled into the hole how do we reform how HTTP streams are discovered and there\u0027s a whole thing of should you use SRV or whatever and doe is changing that and I think that you want to have that whole world separate from the crypto stuff um interesting suggesting we hadn\u0027t actually considered that but yeah well you know we\u0027ll talk thank you David Benjamin so I like this draft I think basically what the slide said is going in the right direction there\u0027s some details to work out like I think your hand waving there is probably better about the reusing key share and waving on the slide over there about reusing he was probably one thing that is probably worth thinking about is the draft at least as is is kind of operationally scary in that when there\u0027s a mismatch on the key you sort of have no record like the connection will fail and you are just sad until the details expire and so if we can avoid weakening the threat model or maybe if we can avoid like making this totally useless or like you know less useful while also like making it the global that would be a good thing to get yeah I agree so I would beckon server operators in the room to sort of you know help us work that particular issue as a client I just seen the server works all the time which is actually I would look the the crypto side of it out from the how do we deploy those cues to clients because I think that how you do that ladder made vary based upon some protocol protocol like for the web use case I think the that I dug up some of my notes when we were going through this four years ago and now I feel really old because that happened a long time ago in the early T rs13 sni discussion we effectively came to a design that looks very surprisingly like the art service stuff not surprisingly that it has a lot of similarities to that and we had the basically the equivalent of this in those records and that makes it a lot more to flow from a CDN perspective it solves some of these "
  },
  {
    "startTime": "00:57:49",
    "text": "it has some perf benefits from work on deployability some custom ways we integrate with customers deployability benefits as well as addresses the melting CDN case but that said that may be appropriate for the revenues case but it would not surprise me if other uses cases of t left/right have a better a different way to do it for there that\u0027s not out service for Tom for there\u0027s I think separating out the from the how do we do it perspective I will add in the should we caveat again on that what unfortunately for better or worse SMI is one of the less harmful signals to middleboxes that they can use to do for during and I would I\u0027m seeing some grimaces but it see the we should think through the what are the ramifications of this their middle box is today for enterprise use cases that today will use us and I to do filtering whether or not this is a good idea or it is not a good idea but it\u0027s what they do if we take that away from them they may it may increase the number of things that are actually trying to do on active man in the middle which is worse nice fun yeah I spent a little time thinking about this um you know we already take on clients and general profession bars already take signal for the enterprise about what they shouldn\u0027t shouldn\u0027t do and you know like there\u0027s like a price policies and I think we run I mean dough is the same kind of funny property which is like you know like less enterprises don\u0027t really would prefer you didn\u0027t you don\u0027t want to run you want to date a specific way I think like what\u0027s gonna happen as works as clients although some way that a price policy to say like don\u0027t do yes and I I\u0027m just like not like the most desired welcome I want es my every word but like I also don\u0027t feel very idea like I want to hear all right cool so that was useful for it to be in this working group because it\u0027s clearly in scope I think that point it\u0027s not debatable if you would like to appeal that decision feel free I\u0027ll write it for you I don\u0027t think you\u0027re gonna win anybody who\u0027s read this draft I find this son shocking for like three weeks I would like to do a call for working group adoption this it was obviously that there\u0027s still some stuff to be worked out whenever we cross the streams with the DNS people we have to go figure that out but I liked it like at least get it in a working group and get going on an actual you know um getting getting the technical details down on whether we have to split or not I think it\u0027s fine that you leave it together and we can split it out later and maybe it ends up going someplace else but whatever long as we get it stuff in one place so we\u0027re gonna do two homes yes for adoption and milk for adoption at Morton I\u0027m going to try to do it right this time the first time if you would like to adopt this draft as a working group item please hum now if "
  },
  {
    "startTime": "01:00:51",
    "text": "you would not like to adopt this working group on this doc draft is a working group right of them please home now for the minutes is pretty clear we\u0027re going to adopt it so min departs I quickly skipped over the finest line which I completely forgot to acknowledge all the co-authors in this particular work so Eric zero Nick thank you so much and [Applause] with that we\u0027re done blue sheets "
  }
]