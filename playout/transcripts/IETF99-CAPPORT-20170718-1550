[
  {
    "startTime": "00:00:23",
    "text": "that\u0027s something we\u0027re not I couldn\u0027t risk is possible what\u0027s that got that USB Wow so actually is anyone willing to take some notes yeah you know here in a minute or so it is anyone willing to [Music] [Laughter] you tender is no monster best Oklahoma stay with me a 30-minute sigalas okay thanks yeah another different so you didn\u0027t original my knife someone maybe you should not be "
  },
  {
    "startTime": "00:03:43",
    "text": "contributing unless you making materials but it\u0027s been a few months to change this their intent is to it\u0027s been a little bit of try and talking up and erect architecture it\u0027s going to talk about this Tommy which means that either way maybe a couple of weeks when we have some calls but that\u0027s not the problem I will point out for the taxonomy and the survey aspirational at best first one that doesn\u0027t really fit into the last time that we have there and so so the idea here is to try to narrow "
  },
  {
    "startTime": "00:06:50",
    "text": "this down so part of it one of this discussion is to sort of scope out so these are the questions I think we need to do when it comes up with it\u0027s the same question and if there\u0027s any sort of deficiencies in seventy sevens then what we need to do his reputation and then once we get there what does the um if you\u0027re wondering what\u0027s going on here we have no way of tracking the video you have apologize to them and Stripes is ready so what information acceptable so as long as we have Whitey\u0027s I see some options on this yes this is general direction do it you\u0027re taking my slide to work "
  },
  {
    "startTime": "00:10:02",
    "text": "change the definitely [Music] okay um so I\u0027d like to us hey David Olson I will the this for a minimum features that I think that we\u0027ve also should look at how to notify the users other than HTTP redirection so I guess that could be a my captive but it\u0027s for okay I guess I\u0027m just hoping it goes beyond a my captive being discovered by I think you answered this already but I just to make it explicit to the mi captive to be discovered by means other than probing a port 80 listen Tommy Polly Apple right I think this list of two is good to the point of like yes oh yes the discovery should not be HP redirect although I imagine that we should probably say that for the minimum viable product here that a captive portal that is still interacted with using HTTP in a standard way is totally what should be done and all the extensions to doing something other than that are the extensions that we leave open but we should focus on the HTTP stuff there are a lot of things and the idea "
  },
  {
    "startTime": "00:13:38",
    "text": "is pure and providing the information yes eleven there because we seem to be talking about discussion there is my reading from the discussion without my collection but it is and it\u0027s useful as a redirection this instance I see people knowing I consider this death anyone oops if this is a liar and somebody waits up to the mailing list with you or your reasons for why this is not like that hi I\u0027m Dave Tolson and the co-author on this was Kyler rose a bit of a background of this is Ladd before the last IETF we wanted to get some stuff moving in the hackathon and we needed a framework to rally everyone around so we wrote this up with the our understanding of what people were talking about and it seemed to be get a lot of traction so then we got some feedback on it and we\u0027ve updated it since then so next slide please so these are some of the updates we got from some feedback so there\u0027s a version one now it was we\u0027ve made it so that there\u0027s an emphasis on the devices voluntarily participating in her captive quarterly because some people thought we were you know requiring devices to announce themselves and participate and we wanted to make that clear that you could turn that off if you didn\u0027t want to I had it added a section on architectural principles that like a mission statement if you will was mentioning provisioning domains might be relevant so we added a section on that someone said we should be using RFC 21 19 language so there you go it was it was so yeah so we tried to make it you know use the capital must and actually not so many must mostly should someone that the IOT stuff was maybe too complicated and a bit of distraction so we\u0027ve taken it out for now at least not too forever but just to try to make things simpler and in the urn our picture we separated the API from functionally from the web server though they may not necessarily be separate but we functionally open apart and generally trying to clean up language next slide please so these are these are the principles I\u0027ve paraphrased these they\u0027re a bit "
  },
  {
    "startTime": "00:16:38",
    "text": "more wordy in the document but we sort of said you know we don\u0027t want the solution to be require man-in-the-middle of DNS or HTTP you know to inform the user we want to find something better than that we wanted to use Internet Protocol listen you don\u0027t exclude you know act technology access specific technologies or link layer technologies we wanted to be able to notify users of things like you know BitTorrent and voice and you know users who didn\u0027t happen to be just doing HTTP in the clear to know that they were captive and we also thought we want to make this explicit captivity so currently captive portal being detected by you know a well-known a request to a well-known URL and you know what the answer is supposed to be and if you get something different you infer that your captive we wanted you know a message to say you are captive and this would help with machine response and of course incrementally deployable so today\u0027s device is what the new networks new networks with today\u0027s devices and try to improve the trust and ideas and I\u0027ll get to a slide on that later next slide please so this is a nicer picture than the ASCII art but it\u0027s it\u0027s the same like I believe so the parts in here it\u0027s obviously user equipment that\u0027s the end users device we\u0027ve got provisioning service which is think of that as you know DHCP or router advertisements to tell the user how to talk to the captive portal we\u0027ve got the actual captive portal API which can be queried or you know a my captive what are the parameters of my captivity which also could be a cat part API could be provisioning domains solution could fit there there\u0027s a web server which is where the user is given the human user is given the experience of understanding why they\u0027re there and what they have to do to get out of the portal the go get out of captivity and then there\u0027s enforcement which is the thing that actually you know blocks your packets and possibly responds to to to them and it\u0027s it\u0027s the thing that\u0027s keeping actually keeping your packets from reaching the external network hopefully that\u0027s all easily understood next slide so on the enforcement point currently devices in in this function will have rules set up to block most traffic trying to access the internet and will have specifically allow traffic to the web portal possibly to some partner sites possibly to some advertisers and for certain otherwise if "
  },
  {
    "startTime": "00:19:41",
    "text": "it\u0027s like port 80 HTTP might change it to a redirect message or to you know just a JavaScript or something change it in in some creative way or modifying DNS to try to get when you go to a your favorite web page it will send you to the portal instead and this is where we\u0027re proposing the new ICMP messages be coming from which is what David Bird is going to talk about anyway we think that this the newer newer approach of the ICMP really is an improvement to just reacting to port 80 HTTP but you know admitting that for the backwards compatibility issues for the incremental migration that you know port 80 modification may need to continue for some time Ben Schwartz how will this interact with a DNS SEC validating stub resolve it so we\u0027re we\u0027re saying we should not be modifying DNS in the future the DNS sack is one of the reasons that it\u0027s gonna stop working any and actually there were some questions about to what extent this is currently used apparently some IETF errs we\u0027re noticing their DNS SEC being modified in some places so this is we\u0027ve got some mostly anecdotal evidence I think that some portals are doing it so yeah so we\u0027re not recommending DNS SEC modification except for possibly portals may need to keep working the way they\u0027re working today for for some for devices that don\u0027t okay.i I just want to point out that if we are going to sort of mention a sort of legacy solution to be used for some time going forward should probably just pick one not sort of document and endorse multiple bad behaviors well it\u0027s an interesting point though we might be able to say that you know the the recommended way is perhaps a particular kind of port 80 saying right and and say you know if you\u0027re doing dns maybe you should look at this other way which achieves the same thing I don\u0027t know if we could would say anything like that or not but we might know take a note on that a next slide please "
  },
  {
    "startTime": "00:22:41",
    "text": "okay now a little bit about that the API now this is this is the this is the way in which the let\u0027s say this is the way in which the device asks in a in a nice way you know what are the parameters of my captivity do you want to jump in yeah I just had a comment on the last part or question so when we\u0027re specifying the legacy behavior are we saying this in terms of like client behavior interacting with the portal or what the portal does so I was talking about what the portal does right because maybe like I think we can make strong recommendations in terms of what a client should do in interacting with legacy portals and I imagine that we will likely have clients move to new protocols before we see large deployment of portals and so it\u0027s more gonna be a problem of how to clients fall back to old portals then new portals yeah there\u0027s a leafless survey on that coming up or was that more eco had some information it just it might be hard to get one tricky thing about that might be it might be hard to get Apple to currently we see like Apple device is going to apple.com /a my captive or something and Google device is going to something else and it may not actually be one that we can tell them all to use that they will be willing to use okay so so this is so yeah so the the idea of this API is this would be that the URL I have this would be delivered in DHCP or router advertisements and it\u0027s a place that a device can go at any time and say okay I\u0027m a my captive what do I need to get out you know I\u0027m just waving my hands here I don\u0027t want to define this exactly but I did say it should be idempotent which means that the device can do multiple gets on this whenever it wants to find out what\u0027s going on and and and not have you know strange side-effects every time we go it basically for the so for the most basic behavior I think coming back to the minimum feature set is you know a my captive and an interface to go to the web application to to find out more and some of the advanced things that we can talk about for the future maybe to understand how much how many bytes I have left how much time I have left and you know people were talking about financial transactions and things like that which but I don\u0027t want to go there right now anyway we think this this way of "
  },
  {
    "startTime": "00:25:41",
    "text": "delivering notification of my captive and what URL to go to for the web page is an improvement over the man-in-the-middle modification of the age ep2 to find out what URL i should go to and this this api i note that the provisioning domains might be this api you could fill this need next page please and I don\u0027t want to explain provisioning domains exactly but the role um there\u0027s no there was a bit of confusion for a while is that Ivan we added provisioning domains to our draft and then the next day the provisioning drange draft removes the catholics portal example but i think and and then in the hackathon the provisioning domains did captive portals so so i i think the provisioning the main street boys support me because they\u0027re here i I don\u0027t pretend to understand the details of the authentication of the provisioning domains but I thought it was interesting that there was an attempt to to to defy to say you know you are this request you did can be authenticated in some way to try to build some trust now some of the rights it so to avoid masquerading hotspots right so you know the fake airport Wi-Fi and then wardriving type stuff so some of the things I don\u0027t want to really start this conversation now this is one of the rat holes but these are some of the questions that that I heard and that we can you know for future discussion you know is whether this is to special case for provisioning domains you know some or whether this API is even required some people are saying that it this API isn\u0027t even required because we can all the devices should always just you know probe anyway to see if they\u0027re allowed and there\u0027s an issue of redundancy with RFC 7710 which is the DHCP and router advertisement options for the captive portal webpage so what if provisioning domains are used there\u0027s also dhcp options for those so if we go down that path we may need to obsolete 7710 if we don\u0027t not going to use it so there\u0027s there\u0027s some questions there about the way I see it is 7710 is announcing here\u0027s how to get out of the captive portal and provisioning domains is saying here\u0027s a really generic way of telling devices about stuff and one of which is captive portal so it may be a more general solution next slide please yeah so I some of my questions is similar to Martens okay don\u0027t need to "
  },
  {
    "startTime": "00:28:43",
    "text": "say yeah so if there\u0027s interest in adopting this well you know we\u0027re obviously we gotta set the scope as a working working group yeah so whether we with a captive portal ICMP should there be an API or not what do the requirements what about trust I think that so far the what the web interface does is entirely out of scope I I think that\u0027s the right thing which means you know we\u0027re not gonna say anything at all about the web what the webpage shows you or what it asks for or whatever whether it\u0027s allowed to show you ads or anything like that so that\u0027s just all we\u0027ll talk about is a URL to go to the web page for a human to participate and also you know the people want to bring the Internet of Things devices back in or not do I want to be able to get a device without a screen into a network you know there are different devices you could talk about do I like provision it with bluetooth with enough information to get through the portal what do I do so edit that\u0027s another question of whether get in there but you know I think based on what Martin\u0027s saying earlier on scope is that we should just not go there right now but kind of have a vision of where we might put it later next slide please and I also wanted to talk about a little bit about trust we mentioned this in the security sections of the architecture you know if you think about existing mechanisms you do a request to a well-known URL you get back something right there\u0027s you have very little reason to to trust that and you have a lot of reasons to suspect that there\u0027s some kind of phishing or it\u0027s some kind of bad thing so you know currently it\u0027s you know the browser\u0027s will sandbox you in this case and you know limit what you can do and not let you do any kind of you know access use all the capabilities to the browser and this this breaks what some portals want to do is they want you to do like maybe like Facebook log in or something so the browser\u0027s might block that so then the portals try to defeat the kappa portal detection also as the games are played so now I\u0027m saying what if we could build trust so that you know when when I attach my laptop to a Wi-Fi they can say you know you are attached to the Hilton\u0027s Wi-Fi and there\u0027s like the little padlock in the corner of your screen and you know that this is actually the Hilton\u0027s Wi-Fi now you might be willing to put your name and room number in you know you don\u0027t mind telling the hill in your name and room number so I think anyway I think that there\u0027s this may lead to better experiences I think is that the last slide oh yeah I\u0027m not in Thompson taking "
  },
  {
    "startTime": "00:31:44",
    "text": "out my chair here cuz I actually have spoken to folks at Mozilla about this so so Firefox actually does the captive portal detection and throws up the URL on some platforms where the native platform has failed to do the detection because it\u0027s being defeated or what-have-you and we don\u0027t do any sandboxing and Lorenzo is probably gonna tell me all the reasons why that\u0027s not why we have a special API and the fact that you can do it says the things but there\u0027s a bunch of things there I our philosophy here is that it is not particularly difficult to get someone on the Internet to visit your website and the basic underlying threat model that we operate in the browser with is basically that\u0027s that should be safe to do you should be able to show anyone any webpage and though the pixels that are displayed on the screen might be offensive that\u0027s about the extent of the harm that\u0027s actually done to you and so there is no actual need for sandboxing from that perspective in our estimation however there may be some practical considerations in terms of the fact that you have an operating system that doesn\u0027t want to open up that network interface at the point that you negotiating for access to the Internet and so you may need to use special api\u0027s in order to get those network requests out over that interface and in order to support that then there may be implementation challenges for doing that in browsers who expect that when they make a request it just goes on for the network and on routing rules apply and they don\u0027t have any facility to deal with the fact that this needs to go over a particular path so in principle I think we\u0027re okay but that this is a huge rathole and I think we need to be a little bit cautious about getting into this too much I would like to get an answer to this this problem that we all agree on this room but I\u0027m not sure whether or not this is exactly a sign of a start what\u0027s the question you want the answer for the general question that you\u0027re asking here which is you know truly be sandboxing should we make be making any recommendations about that and so wonderful and we - - it\u0027s kind of funny cuz we own that code and I don\u0027t know the answer but my feeling is my understanding of the concentration it\u0027s alright it\u0027s hard to say until you come up with a plan and then actually bet it with all the stakeholders but my understanding of the reason why Android does does sandboxing is not security it is technical there\u0027s simply that Chrome just has no exploitive idea at how to do something that\u0027s not the default Network somebody wrote that "
  },
  {
    "startTime": "00:34:46",
    "text": "code we would have a very different conversation so until that happens we\u0027re basically the cookie store is sandboxed off from the application store and so that\u0027s why we have to have our own app we don\u0027t like it the users don\u0027t like it nobody likes it but that that is the reason and it doesn\u0027t seem to be the case that the chrome team would be particularly willing to address this problem and so here we are but so it also seems strange that people would defeat this detection just to do just to get around the sandbox hang a bit but I suppose maybe that\u0027s what Tommy Polly Apple yeah so I mean I think in our case the reason that we have a sandbox captive web sheet probably started out also like oh we had to go over the special interface although now we would have the ability to force Safari to go over the captive portal if we wanted to I what all of it or all of it or only prick certain tabs yes but I think there is a perception at least of people working on this that yeah we don\u0027t want to have cookies leaked into their sessions so you\u0027d almost want in some type of private browsing mode but people do and have defeated our probe a lot because our sandbox one doesn\u0027t support like full video watching capabilities etc so that\u0027s been the main thing now that that\u0027s kind of a technical implementation thing but we do know that this arms race is very possible and it is happening and we should try to back away and establish trust I like the trust so I guess some you know clearly you can put trust on whatever page you forward to but I think it\u0027s also the API itself or they basically a trusted wait you know when someone gives you a URL to go to if there\u0027s you can be something increased trust in that as well so the argument that that held sway like I said we actually didn\u0027t ask the question because the code hasn\u0027t been written yet but the argument that held sway in first instance with the security person who was looking at this was the user clicked on this if the captive portal operated wanted to steal anything they just wouldn\u0027t have put up the portal done and so he\u0027s like yeah I guess and so so I don\u0027t know if that\u0027s worth maybe you know if that\u0027s worth revisiting but in our in our cases it\u0027s a technical issue right so that\u0027s the last slide down oh sorry that will I wanted we\u0027ll make one more point we referred to one readiness we referred to the problem statement Nottingham Kapoor problem which has a lot of really good points in it and we "
  },
  {
    "startTime": "00:37:46",
    "text": "if this group is not going to adopt that we would probably put some of them into the architecture document so that\u0027s I just wanted to as a new document [Music] I\u0027m just a house does anyone want to speak against signaling the fall of words how much of it how much of it there\u0027s a lot to it right a lot of questions yeah but I\u0027m asking what you know so yeah so how oh yeah no not nothing like that it just seems like I think we we should try to have something that\u0027s I mean minimum viable otherwise we risk sort of going off into the weeds I think and and also it has to provide a clear advantage and to my mind the reduced interaction all that stuff sure it\u0027s very nice the thing that we can\u0027t have today even if there were no arms race is like we don\u0027t know how to react the portal before it expires so I think you know if we improve one thing then that\u0027s the one we should improve I feel I don\u0027t inherently disagree with adopting this document um I I have sort of a concern that affects adopting a document though which is um I guess when this group started I thought it would be sort of like behave and it would say how to captain portals work today what\u0027s good what\u0027s bad what are best practices and then we would get "
  },
  {
    "startTime": "00:40:46",
    "text": "to the point where we said okay even the best captive portals could do better if they did certain things now I feel like we\u0027re saying this is what we wish captive portals worked like Jenna said and I\u0027m not really positive a document that says this is what we wish captive portals worked like in the absence of implementations or protocols or anything has value and so I and I we might have ended up with an architecture in the world that I pictured but now I\u0027m not sure what we\u0027re gonna end up with like we\u0027re gonna end up with an architecture and what you city be great if we came out with anything and I don\u0027t think it\u0027d be great if all we came out with was an architecture document because that doesn\u0027t make anything happen Tommy poly when I got up to say which dovetails well into that is that so I like the document I think it\u0027s on the right track I would like I imagine that this will be going in parallel as a working group draft to all of the protocol parts and that likely this document won\u0027t close or go out to last call and be an RFC until those ones are mostly finalized and so what I\u0027d like to see for this is essentially at the endgame of this whatever has been decided this is the entry point like if you\u0027re coming from outside of the group it was like they did for RFC\u0027s how do these work together this is the one you read to understand how they all fit together and it reflects all of the other parts that we decide to put together I\u0027d have a similar view of yeah it would evolve in parallel and anything we decide not to do we would take out and so yeah this should not go out without I\u0027m also wondering if it might make sense for us to listen the other presentations agree on a basic direction we want and then agree we\u0027re going to adopt a modified version of this document and at least one protocol a document do you mean that would make me feel better mm-hm and I think Dave\u0027s doing a great job of writing this salmon it\u0027s not like this document that I have an issue with I don\u0027t want you to think that I just I won\u0027t be offended Adam Roach so the one thing that I wanted to mention was if you decide to adopt this and to publish it think really hard about what archival value it might have because and then the other "
  },
  {
    "startTime": "00:43:49",
    "text": "thought would be how much that I can move in the architecture document like what it makes sense to merge these ok got it thank you publication of arc Turkey documenting is generally good but problem statements typically look like requirements and that\u0027s the sort of thing where you have to think really hard about why you\u0027d want to put that in the RFC series did I hear you say you would want to put the recommendations for legacy or if I\u0027m migration approaches into this as well today we could also then you that could be a best practice for supporting the legacy devices as well I\u0027m David birdie and I\u0027m here to talk about captive portal item V so fundamentally I think you know notification should come from the network not from an application and this is not a foreign idea I mean notifications comes in at work already so let\u0027s take a closer look at the network and at the NASS and what is it a supposed to do when it gets a packet so right now it has a few options right you can allow the traffic and forward it this is like your wall garden resources DNS they kept the portal itself of course there\u0027s the HTTP redirect and there could be other things that hotspots do but I\u0027m not gonna you know go into that too deeply or I can block but what does it do when it blocks right so he has it can easily silently drop the packet return an existing I instance the air like this mission unreachable and this really pretty bit or it can do something protocol specific look at TCP reset but none of these actually give the Yui in the real indication of what really happen to that packet it\u0027s like so what I propose is really two flavors of ICMP the first one is a an IP s ICMP "
  },
  {
    "startTime": "00:46:53",
    "text": "extension based on RFC for Eve forty-eight were just clarifying question from confusion the audience of definition of Nass just because I don\u0027t think everyone knows that comes from radius sort of the world I mean this is this is literally that whatever piece of you know software that is deciding what the fate of the packages forwarding it I mean it could be Linux itself right with IP tables next slide so what does this so the ICMP extension is meant to be added to the destination unreachable packet today and it basically gives the the NASS ability to accurately inform the kept portal uee of what really happened to the packet while also giving some indication for legacy devices because for legacy devices the the the nasa will still have the same three options is it forwarded blocked or is it you know redirected so it\u0027d be interesting to have a formally defined what the mast should do in the kappa portal networks for both cap port and legacy devices next so I\u0027m also proposing a new ICMP type altogether and this ICMP message carries the same information as the extension except this icing B message is specifically not intended for like C devices to understand and these cases I believe this unlocks are the non float terminating notifications so this might be like location where you\u0027re not captive but you might be at a low tier of bandwidth so these messages could basically notify the UE that you might you your suggested to visit sick epic or no the upgrade your you know you your session the NASS is also in a position to indicate changes in policy to the patient\u0027s you know the NASS is the the component that will be making this switch between captivity and not so it knows when captivity is when the access policy is going to change and it can be probably in a very specific way but it can be told to you know enforce a new policy after a certain mad time and then the nasa has the ability to notify the vewy prior to changing the access policy next light so just quickly just "
  },
  {
    "startTime": "00:49:54",
    "text": "to go over some that with with kept port ICMP codes or c types who using the extension so I see three different sort of you know message types which is that your your your packet was dropped in your flow should be drops it\u0027s a basically destination unreachable but it\u0027s you know entertaining it with the captive portal so captive portal is required there you might also get a drop notification for a packet but that is not session terminating and this might be like the the QoS debate the bandwidth limitation indication so again this is a suggestion to go to the catapult not a requirement and then you can warn that a flow is about to be dropped and again this is a basically you know an indication that your time is about to run out or your data it\u0027s about to run out or what have you next Lane so ICMP allows for some fields they have you know the standard ice-cream header has some unused areas that every specific type you know you typically uses so I proposed some fields to go in there so one will be the session ID and this is really just meant to to help the Yui group ICMP notifications into more or less a single event because you will be getting notifications from different resources that you\u0027re trying to access so it makes sense for the UE to try to you know clog late that into something you know more meaningful it could also indicate a change in the system ID could also indicate changed Naxos policy so any timers that you might have related to the old access policy it should just disregard and there was a concern that the ICMP might be susceptible to forging so as you as a you read try as multiple resources on the network and gets these ICMP messages if they all have the same such an ID the chances are they between forge from the external parties is even more unlikely and then that propose a flags field which we can give some extensibility to this this protocol so I have some examples of some fields that would be useful in my opinion ability time which is basically how long this is considered clarification question if if the NASS can make up whatever session ID it wants how does the session ID allow a allow the increased confidence in the message not being forged how do i distinguish the NASS changed its mind from a forged ICMP message well so I turn around and say that you could assume that you might be being garaged with forged messages if you if the session ID is is changing "
  },
  {
    "startTime": "00:52:57",
    "text": "welcome so you have more context obviously in the Yui to determine if this packet was was fake or not so I mean you are you have their coated headers from the original packet so it\u0027s no good right but someone needs to be in in line to be able to forge your code to Tedder\u0027s you need put it on the mic come to the mic steve Dolson here my understanding was that you know potentially if you\u0027re streaming or something you know you might get a thousand ICMP messages or whatever and and you know the session that you might be a way of just filtering out them so that you only receive the message once was that what you were thinking yes yeah the security context it was more from the last IETF where it was brought up as I CV generally is doesn\u0027t have the entropy it\u0027s what was stated you don\u0027t need to be on path because everyone talks to the same port on the same IP address and so you just fake your messages from that port an IP address and ephemeral port ranges in in in in in coma noises aren\u0027t that large so you\u0027re pretty sure that somebody\u0027s gonna go to whatever you know cookie dough facebook.com/ and port 443 so okay that source port sure and there\u0027s not very many of those there\u0027s like I don\u0027t know there\u0027s a few thousand right now yeah it doesn\u0027t do anything and you do that exactly enough we knew we should be going down this hall right now but the that was if the in the architecture we we said that the ICMP don\u0027t don\u0027t have to be impossible to guess just kind of hard to guess because the the side effect of it is going to the API and saying what\u0027s up which you will rate limit so even if you get if someone\u0027s can send you an ICMP message with the correct inner quoted packet so your side effect is just you\u0027re going and asking the API what\u0027s up and it might say you know nothing\u0027s up that\u0027s why we didn\u0027t put the URL in the ICMP message that\u0027s so there\u0027s very little impact to receiving one Tommy right I\u0027d like that clarification of saying that this is being used in conjunction with the other API work so I find the the initial just like you\u0027re blocked ICMP I find that useful to especially the first ones I\u0027m concerned about growing complexity in the details that we can add into here and the extensions is especially if we do have some other way which hopefully is a trusted HTTP connection that we can make up to some API portal that we can interact with that should be able to do all the trust stuff so just saying something\u0027s weird go talk to them hopefully would be "
  },
  {
    "startTime": "00:55:58",
    "text": "enough and that way we don\u0027t have to worry about the validity quite in the same way as what\u0027s in here and so I\u0027d rather leave as much as possible out of the ICMP details sure I can never say that I mean my concern with a with the API giving that information is that the API might not be the source of truth in this you know the NASS knows what\u0027s going to happen it knows what it\u0027s doing in those wouldn\u0027t change what it\u0027s doing no I mean you all get to smell my last light will show you like maybe a more complicated hotspot where I\u0027ll show you where a one application may not know the whole truth next slide so I\u0027ll just quickly go over the message types so this is just the the new ICMP type and section ID go into the standard ICMP header coded message and then the optional fields explain the extension format it\u0027s basically the same thing but with the RFC 4884 84 they specifies the amount of quoted headers and then the extension object follows it nicely and so we put the same information in the extension header thanks Lee because this the cap port i simpiy wouldn\u0027t make sense to be in a destiny destination unreachable fragmentation message so we don\u0027t need to preserve the MTU in to you field so we could actually shorten the extension object to you know remove those fields up into the standard uh header nextly so I\u0027ve heard lots of comments that this is too complicated which I find interesting just because I consider it pretty simple I mean this is actually things that the the NASA is already doing if you don\u0027t have a route somewhere you get a destination around reachable you know already to me it makes no sense to ask an API what the network is gonna do just just like there\u0027s make no sense to ask you know that API do I have a route to AAA my other concern is that we don\u0027t want to dump the complexity onto the wisp the the Wireless ISP well I people have the opinion that hotspots are broken that you know there\u0027s lots of moving parts and this is largely true but you know it\u0027s largely because of there is a lot of complexity that you know a wisp does in setting up networks and they don\u0027t always do it correctly portals are broken I mean we\u0027re talking about you know 13-year old "
  },
  {
    "startTime": "00:59:00",
    "text": "web developers right I mean the bars are becoming a wisp is you have an AP and a venue right I mean and you have a service company that you might want to hire and I was also going to suggest that we don\u0027t assume a single vendor so I the NASA missions could actually be split up between multiple systems so you might have a Nass sort of router doing the time database calculations but you might have a completely different system doing your rate limiting so you know an API we do there\u0027s a lot of infrastructure implications with the API all these systems have been talking to each other and talking to each other well otherwise we\u0027re just going to consider the hotspots even more broken next slide yep so moving for what so I don\u0027t understand how we can simultaneously will say that the icmp should be a hint to say hey go check the API if something has changed and also say that the API and the ICMP message could be out of sync that\u0027s that\u0027s the whole lot of battery spending but then but then we need security Crysta to Tommy\u0027s point right then we need it to be solid and robust and and you\u0027ve got these forging attacks was like if some if somebody if some web developer who\u0027s not an expert in networking setup it has an access point in a venue as you said and forgets to disallow crosstalk then I can get Eric\u0027s phone was like oh look Eric and I\u0027m just like bombard him with ICMP messages and but I don\u0027t think our workgroup is trying to solve open wi-fi\u0027s I\u0027m just saying we need some security if that\u0027s the case if it\u0027s a hint like if that can cause a notification to be pls displayed on somebody screen then there has to be security right that\u0027s not okay if it just if it just tickles if it just says the device go check the API then that\u0027s fine but like saying then well we have the API won\u0027t know what\u0027s going on cuz any of that work what\u0027s going on then that seems like a recipe for disaster because we will just like thrash between these two sources of information I was like oh let\u0027s do a query oh ah nice and Pio let\u0027s do a query oh and i simpiy right Tommy yes building off of that I don\u0027t I see your point but I don\u0027t have a ton of sympathy for the network configuration here in the complexity because in a captive portal today the way that it works is that there is a web server that is redirect my traffic that knows all the information presumably about the fact that I\u0027m blocked I can interact with it at a high level it will tell me how much time I have left I type in my credentials it lets me through like they already have so sometimes the captive web portal I\u0027m going through right it could be a static page and "
  },
  {
    "startTime": "01:02:02",
    "text": "I imagine that like so my assumption is that whatever we do on this API hopefully should be simple enough to do that it\u0027s as simple as serving up what you have today on a portal no I don\u0027t doubt that whatever so it should not be any harder to deploy the API in a way that understands the network configuration what you\u0027re being blocked on than it is to deploy what you have today with a capful portal that serves up a webpage whether it\u0027s static or dynamic okay so example overly complicated hotspot so let\u0027s say we have a venue you know this could be a hotel it could be a coffee shop it could be you know someone\u0027s house they have an access point so typically an access point commercial-grade ones anyway will have features such that you can have a hotspot completely internal or you can put one or more of these systems remotely so like a lot of access points well you know Cisco you know Lucas HP they\u0027ll let you do everything internally you local users local web pages local images on the AP as you get a little more advanced you start you know putting your systems more remotely by even higher hotspot service provider like hotspot sources comm who provides the portal provides radius might provide you with billing processing and maybe some vouchering and they might even hook you up with some roaming partners like Boingo or I pass the VIN you might have their own roaming partners in marketing partners of their own that this guy doesn\u0027t know how because the AP actually lets them configure multiple radius servers based on the realm so this portal couldn\u0027t be a static web page that simply redirect your authenticated the portal or this guy\u0027s radius to have known nothing about that session only the nastas sure that you know a network you know engineer could fix this the proxy through his rating server he can make sure accounting is all squared but it just puts a burden of implementation so much whiz you know an industry that we already complained doesn\u0027t do things correctly and we assume that they\u0027re gonna do this flawlessly i I don\u0027t buy it all right mom Thompson so this is very much hats off one of the pieces of feedback that I got about this particular piece of work is the in addition to the fact that there are far too many bits and there are too many messages and whatever else and perhaps even to the point that why do we even need a bit at all if the destination is unreachable maybe that\u0027s a good good enough Google that signal in some place setting that aside if you have the ability to provide this signal you "
  },
  {
    "startTime": "01:05:03",
    "text": "provide the network provider with the ability to create discriminatory services and that opens up a huge can of ones and it doesn\u0027t sound like it\u0027s a lot but if you can say that I\u0027m gonna make your captive if you go to Apple comm but not if you go to Google comm suddenly we have a problem that\u0027s what a lot of Orden is that\u0027s what the wall gardens are but what you\u0027ve done is you\u0027ve exposed those levers for that right and and this is this this is the caution and and and and you know chair head back on again if that\u0027s where we go we\u0027re not prepared for that we\u0027re not doing that that\u0027s not in our Charter if we start down that path we\u0027ve failed it is not forbidden nothing is forbidden but but we should we should really be very very careful when we start talking about these things because if it changes the the balance of power between users and the networks that they interact with in a fundamental way this is this is the argument that\u0027s played and it says like yeah you don\u0027t have to buy business class then we forbid it in the Charter well we have a charter right now and it\u0027s possible that we could breach harder but maybe we don\u0027t have to maybe go and just be at I\u0027ve got nice things for bid so you\u0027re saying that you can\u0027t sell higher tiers of quality service oh we\u0027re gonna have that argument yes is it surprised that we\u0027re talking about business with it yeah but that happens today with walled gardens I\u0027m just doesn\u0027t so change that one bit so so um the point is that we\u0027re changing the dynamics in the market in a way that could be detrimental or a way that we do not understand and we need to be very careful when we think about these things because we don\u0027t just have effects on you know the nares provider and the way that they have to do engineering to get the information to the right places we also have social effects and downstream effects on on users and services on the network who may be detrimental affected by by these practices and you may not subscribe to a particular philosophy on this or not I think that\u0027s irrelevant the question is if we embark down this path we have the responsibility of considering those things are your comments specifically to ICMP or just though what we\u0027re doing here ah yes oh so this is this what we\u0027re doing here altogether yes more in general but this one has a particular special characteristic how though because I can decide to send different signals on different paths right and you\u0027ve provided a signal that is that is "
  },
  {
    "startTime": "01:08:03",
    "text": "non-terminal as in you will continue to be able to use the network but you\u0027re receiving different signals for different destinations that you\u0027re interacting with in the non-terminal you know the non destination unreachable case and so you have to be I\u0027m just cautioning somebody something for people to think about when they think about this draft dave Bilson so I can see where you might go with that is you know if we structured the if we actually went this far to define the API between the enforcement point on the back end where you could structure it so that the only thing you can say is on and off and we don\u0027t give like a lot of fine-grained access control so if we designed if we design Nate with it isn\u0027t currently in scope but if we design that API we could have some input into in into that so we could we could make an API that only has one tier like that\u0027s hello everyone I\u0027m Tommy I\u0027m one of the co-authors on the PBV draft which is actually draft in into area although it\u0027s related to this parasol so here is my co-author next slide Oh David just sorry he\u0027s always here all right so just a quick review of what pvd\u0027s are because as has already been mentioned they are more general they come from myth they come from multiple interfaces so a PVD is just a consistent set of network properties that either is implicit so we all have implicit pvd\u0027s by definition when we connect to a Wi-Fi and we get DHCP and we get our DNS but they can also be done explicitly and one of the pieces of work that was never completed was defining how they are done explicitly and so the draft is mainly about that so in the draft an explicit PVD is advertised as an fqdn identifier through a router advertisement and that is the only way it works and the point of that is to identify that the network knows that it is essentially giving you a provisioning domain if I receive multiple arrays with multiple PPD IDs in them I am now aware "
  },
  {
    "startTime": "01:11:04",
    "text": "that the network thinks it is providing multiple up links that I could use independently the draft also specifies that you can use a JSON API based on the PvdA ID to talk to some resource to get more information about the PVD that is an optional part and the RA signals if there is anything more to be set and so in the original draft there were captive portal properties directly in this JSON to clarify why they were removed in the update I think that is mainly because we see the API work going on for captive portal specifically having our own list within this general document which is mainly about specifying the RA was not particularly useful and I imagine that if we decide to go this route which I think does fit well for two portals it would make sense to either just in the API document say here\u0027s how we put the captive portal API within the PVD or as like a separate thing or have a separate like pvd\u0027s for captive portals application draft to explain how you\u0027re using the main one okay next slide please alright so what I wanted to do because there was some discussion on the list was just kind of go over the workflows that we would imagine for the various options for discovering captive portals so actually first back and specifically it separated out into discovery and interaction I think that\u0027s a very important distinction so most of the interaction parts are going to be on what we consider to be the API and so in this model the way we\u0027re thinking of it is that there\u0027s your wrapping discovery phase and that is very separate and we\u0027re trying to solve that problem with Phoebe\u0027s next slide okay so here is roughly what I consider to be the status quo two cases the world when I am on a captive Network I received a TP or I receive an RA I pretty much always send out a probe to captive dot-com or your Google site I get redirected the redirect is the moment of discovery I then interact with captive portal I do something to make the portal happy and that is the interaction API and then it\u0027s complete and then from then on the user requests just go through and when we\u0027re not in a captive portal it begins looking very much the same because I have D SPF an RA and then I still send my probe because I have no way to know that this is captive or not the probe just goes through and then I\u0027m fine so that\u0027s status quo not great so please write so problems we do the probe all the time it\u0027s not too bad but it\u0027s clergy and now "
  },
  {
    "startTime": "01:14:04",
    "text": "we\u0027re just essentially advertising you know hello I\u0027m an Apple device I\u0027m talking to captain Tom every time I join a network that\u0027s fun there you have no updates about captivity changes we all know that\u0027s a problem it relies on redirects and man in the middling and there\u0027s no support for these future non browser clients which are not in scope right now but we do want to get them eventually so next slide alright so as far as I\u0027m aware I\u0027m not aware of any deployments of our Cee 7/7 n yet but here\u0027s roughly how I imagine it would work is that you get your deed spiro RA with the captive portal URI in it you request that captive portal you interact just as you did before so in that case the actual exchange as far as the packets from the clients perspective stays exactly the same the only difference is that my moment of aha I\u0027m on a captive portal came a step earlier but I still have to do essentially the same number of interactions as I did before and when I don\u0027t have captivity I still have to probe because I may be on an old network and there\u0027s nothing essentially there\u0027s nothing in that option that tells me I\u0027m not captive so next slide overlay right so the good thing is yeah I don\u0027t have to redirect I don\u0027t have to man in the middle but we still have all the problems we had before of no updates you still need to probe because you may not have a new captive portal implementation and there\u0027s no way to support a non browser clients so we\u0027re just slightly better than we were before next slide all right so here\u0027s trying to capture roughly what we have when we have the ICMP and sorry if I misrepresent some of the stuff but there\u0027s just my impression going through it essentially we\u0027re at the same place but we get more network updates we can realize when we have run out of time or can say do more things but still we\u0027re in a world in which we self to probe on that work attachment and it doesn\u0027t necessarily unless we partner with an API it doesn\u0027t support anything more and RFC 7710 alone does not really allow you to have an API or discover that API all right so now getting to how we imagine things would work with PV DS and this is of course open to design and so this would may lead to like a document of how to apply PV DS to cabin froze so here\u0027s a scenario in which I am NOT on a captive network but the cap but the network does have some PVD information so let\u0027s say I\u0027m on some enterprise network or home network that tells me oh yeah you have cool properties about your link in that case this is the generic PVD I receive in my RA a PVD ID you can say oh yeah I have support for a PVD API "
  },
  {
    "startTime": "01:17:06",
    "text": "right cool I\u0027m gonna do a request to this to find out my extra information and then I learned that it\u0027s a cellular network with a certain data plan great next slide right so the good thing is I didn\u0027t do a captive probe I did still do some sort of HB request though and I can get other network properties so that\u0027s nice I think a key thing is that if we do the PVD ID option and it says I don\u0027t have any more information for you I would like to make that a must in the PVD document that you must not have a captive portal to essentially say I don\u0027t need to do a probe and that from that point on our clients will essentially if they ever get redirected we\u0027re going to assume that someone is just messing with you like you\u0027re just being man-in-the-middle attacked and that\u0027s not a and like say you\u0027re not gonna get a captive web portal we\u0027re just gonna say this is an evil Network and we draw people so hopefully we can kind of skip that step and move into a world that if people end up supporting pvd\u0027s if they want to submit of connectivity they need to do it the right way we will assume you\u0027re not a captive portal we\u0027ll assume you\u0027re an attacker yes yes yes yes but essentially you wouldn\u0027t do the implicit right we wouldn\u0027t do random probing of clear-text HTTP pages right so the goal would be eventually you can get to a world in which maybe we only ever do HTTP we only do TLS because we get this we can do TLS to the pvd\u0027s server and we never have to do clear-text probes odd timing related that way right because what you\u0027re gonna say is right there are three cases that were dozens of work DVDs we do what we usually do procure the network does support pvd\u0027s and it hands you an ID mm-hmm and it\u0027s wide open awesome great the network does support pvd\u0027s in a hand your PvP ID and it\u0027s a captive portal and this point you have to somehow not send any traffic until you actually go look up the PVD URL and find out if it\u0027s a captive portal and do stuff or else you\u0027re going to get these redirects which you\u0027re going to disregard and consider that some sort of an attack is happening yes I mean I think if you receive the PVD are a option and it says I have extra information the client behavior should be that I\u0027m going to fetch this information before I join the network because I don\u0027t know what this like this isn\u0027t essentially we will join the network but I would not promote that network to be the primary Internet "
  },
  {
    "startTime": "01:20:06",
    "text": "routing interface until I know what it is because maybe it\u0027s a walled garden maybe it says I\u0027m your game controller Wi-Fi network yeah there\u0027s no point from like giving you\u0027re up on it because you can yeah I\u0027m not rounding application traffic over it until I know what it is until after you do the PVD look up exactly and get back write that it\u0027s some sort of network you might want to route traffic over and so during the hackathon we built this O\u0027s so Cisco and iOS added that so essentially like in the are a demon you just immediately fetch the thing whatever you okay yeah you can see he\u0027s doing the next thing interestingly myth was the name of working group not a protocol so saying you\u0027re doing the myth thing means absol nothing he\u0027s doing the things to the PVD document presumably yeah renter cuvee I wouldn\u0027t be too optimistic they will get to this anytime soon Kissimmee yeah no I I like to think long term as well but yeah so the good news is I think we don\u0027t need to depend for on these so for this approach but I don\u0027t think we need to depend on on this dream ever being realized because I think realistically until we get to HTTPS Everywhere there\u0027s gonna be the you\u0027re doing this is gonna I think it\u0027s gonna create the wrong incentives and and I am NOT I\u0027m not in a hurry to explore the implications on on user experience of where this incentives leads I guess I guess I had one question which I think you answered your initial implementation basically waits for this to complete but I don\u0027t know that you would want to do it because you know if somebody forgot to you know configure the server or whatever we maybe don\u0027t want to spin there for a while well I mean today we need to work on the heuristics for that but today we wait for the captive probe to complete before we let any traffic go over the network so you don\u0027t even even when even when you have no one or interface that said when it\u0027s your last resort okay yeah so even though I can\u0027t on an iPad with no yeah okay no we don\u0027t do that okay I see Thank You lease for us is trading potentially one evil for the same because that could take a long time right if it was misconfigured okay thanks networks can be evil I was I was confused on the floats do you get the PVD ID and it says there\u0027s extra information you go into that you\u0027re all that PVD never and it says there\u0027s no captive portal then you sit your teeth are out there but weather is so if they lied yes right you well how did you know they lied you probe well no no I so so for example today know you brought this case up on the list as well so today we do a probe as I mentioned before some percentage of people whitelist our probe they lie and then we\u0027re in situation which we go primarily interphase and people are redirecting our traffic and it\u0027s bad and I think "
  },
  {
    "startTime": "01:23:07",
    "text": "that\u0027s a solution for our platforms to determine what do we want to do when people are evilly redirecting your traffic and so essentially just makes that if you lie you\u0027re going to look like an evil Network that\u0027s redirect my traffic and maybe like today I let the user do that but that\u0027s not really a captive interaction at that point maybe it eventually gets someone to the captive portal but the system will not consider that to be captain what I want to make possible here is that there can be a good case in which I don\u0027t have to block on an HTTP probe before connecting to the network that\u0027s not possible today I want to make that possible in good cases that won\u0027t be everywhere but I want to have a way to do it Dorothy Stanley hree maybe you\u0027ve kind of answered this how do you know to trust the information you\u0027re getting from the network how does the client know to trust that information right so does it not and you\u0027re assuming this is a good case so I think that\u0027s something that we need to do a more in-depth analysis on here in this case the connection to this extra information server is an HTTP connection that we\u0027re creating that would ideally we\u0027d be checking that it has the certificate for the PPA D it claims which is not a perfect solution but it\u0027s a start as far as what\u0027s in the RA I guess they\u0027re the people giving us all their addresses anyway Pierre can comment okay so you\u0027re assuming HTTP yes yes yes please listen co-author yes every green quarter OC donor hiding in the back of the room as a security guy so what we do as well into the JSON from blob that we send back we send the prey fixes that are allowed into the array so if you extract all the other types Bao out of a / 48 for instance you will find it slash 48 into the JSON so it kind of avoid people cheating with you you cannot drop the JSON file from an existing PVD and apply it on a network vis not one of yours and now as well the server to avoid ntp on PT prefix translation that could bypass this restriction the server serving the JSON file of a TLS mass check that is serving the request for the JSON is coming from one with network as well lost on somebody doing network prefix translation so it\u0027s not perfect but it\u0027s raised the bar high enough I think but "
  },
  {
    "startTime": "01:26:08",
    "text": "it\u0027s not perfect that\u0027s what I say that\u0027s I would like to hear it again I mean to me it sound like your explanation still had that probe you didn\u0027t get rid of the probe right you get the PPID you you query the little worried of the thing but then you still don\u0027t know if it was a your bad or a good one sure but there\u0027s so I consider user initiated traffic to be useful request that in the good case if someone is browsing to a server that they want to go there that those aren\u0027t wasted packets wasted probes so in the case in which it says there\u0027s no other information the only request I\u0027m doing our real queries rather than and this is role evasion evasion you just read a whole lot easier well but I mean they can whitelist our probes today like I don\u0027t think it makes it different chef is tell one of your co-star as well I just wanted to add to Eric\u0027s comments that it\u0027s in ipv6 it generally admitted that the RA although it\u0027s not secured it\u0027s not cryptic it\u0027s not there is no security on yari it is trusted and if you if you don\u0027t want to trust the array well you don\u0027t have connectivity at all and if you believe that the array is not secure and that\u0027s a problem well guess what there are many things that are worse that you can do so just one more sentence once you get your Peabody from GRA that you are supposed to trust then that PV DS of fqdn when you do the when you retrieve the JSON it\u0027s using HTTPS so that\u0027s secured and then again with the CAPTCHA photon you supposed to be secured yeah I learned three I do we do we do we need this to be bad I mean can we just like not argue about this because it right we don\u0027t need this benefit sure yeah so yeah okay yes let me go into the excited school yeah your statement is false but it works but but doesn\u0027t matter yeah it can work okay okay so essentially the way it works if you do have there they\u0027re essentially two ways that you could build captive into pvd\u0027s either you have the you got the PVD ID you request that you get the PVD JSON that tells you oh there\u0027s a captive URI then you interact with that you can go back and forth it can add potentially a step or else next slide okay essentially if we collapse the captive API into the PvdA JSON then we can kind "
  },
  {
    "startTime": "01:29:08",
    "text": "of save some time and especially if we have just kind of system only interaction that should help as well right so some things that we can try to look at it making things better explicit indication that there is or is not a portal it at least give us a explicit hint that\u0027s good the it can bootstrap your system level interactions so I think the main point is that this opens up possibilities for something other than just going to the HTTP page and again separating the discovery from the interaction is very important here all right I think that it yes right so lying pvd\u0027s we\u0027ve already covered that you can read through this I think essentially people can lie but in the good case we want a smooth predictable set of interactions I want people to be able to implement captive portals or networks that have walled garden interactions that can give predictable behavior and hopefully people have an incentive to do that because it makes their networks look better than other networks Michael Abramson so um the the PVD in it and for like basically if I have everything fully up and running I do turn Wi-Fi off turn it back on again five seconds later are you still going to like reget the PVD information or did you get a sit on it today we have heuristics around like not reprogram captive portal I imagine some of that would say the same for example if I received the RA have the same Peabody ID had the same like there\u0027s a looks like a generation count in there we assume that yeah nothing changed okay so that should just be as simple as just getting your RA again you wouldn\u0027t have to refocus so you do this yeah okay right you said you were doing this with the capital program already so okay yes exactly and also as far as like where is this server located I know you had brought up concerns like is it way back and not at all related to the NASS I think for the broad cases this PVD information can be stored a lot of different ways but for the case of if you are a captive portal it should be served from the same place roughly that you have your captive for the web page today and that you would have the captive portal API it\u0027s just the same thing that\u0027s serving this up you mention the security provided by TOS and the PVD is you check the cert the PVD yeah do you person vvd to the users for their acknowledgement out there that they trust that PVD right so I\u0027m in I mean so we\u0027re still we\u0027re still you know learning about this in the demos that we did yes I was presenting essentially the idea would be like you can join this network as says here are the different sub networks you can join this one\u0027s a captive portal here\u0027s the fqdn that it "
  },
  {
    "startTime": "01:32:08",
    "text": "presented do you want to join this so it should be usable yes yep slide yes it must have yes right so as far as how you express the captive portal in the PVD extended information we could just provide here\u0027s the URI go do what you always did we could provide a URI of a separate captive API server I think that\u0027s a potentially too many interactions going on or you could essentially extend the API that\u0027s already existing to to say yes continue inter activates interacting with me for your captives right and if the working group thinks this is useful and I hope it is you might make sense to have a separate pbd captive fertile document that explains this in detail so um another presentation on the cat port API upon the advice of the working group chair Martin we called down a lot of the API and hope to gain consensus with more reduced API and then possibly build out from there as has already been discussed URL there your old retrieval through DHCP option or ipv6 RA remains that\u0027s the 7710 stuff the status API remains the session identifiers remain but it assumes that the network access requirements are going to be fulfilled through an interactive website so the API has become very very straightforward and simple we can request a list of networks that we wants to know about and provide session token\u0027 to get back the responsive details about the networks whether we\u0027re permitted but when the session expires how many bytes we have remaining and our session token\u0027 back again as I said we removed the network access conditions aspects and details the terms and conditions for now are removed in the latest draft the pass code was removed in the latest draft and so questions to everyone is reducing the "
  },
  {
    "startTime": "01:35:12",
    "text": "api\u0027s as a general idea I was generally a desired desired goal or would we rather have the API be something that that can get you through the captive portal and if reducing it is the where we want to go is this the right amount of reduction you\u0027re fine um chair had both on and off I\u0027m in favor of of the production of the API I do have a question about but maybe it\u0027s for later you have a few more slides about what the expanded definition of networks what the non default networks might mean to you in your conception um it could be after you know know so go ahead and flip back so this had been part of my my presentation last time in Chicago the idea with the networks is that\u0027s you you might have a you might have a walled garden or or or something along lines you might have a network access server that allows you access to local resources without any authentication but then you need to provide some sort of captive portal authentication to get out to the Internet in general and you might have just different different networks that have different privilege levels that would be defined here so these and lazy the protocol would be that the first time you request you you send that that exact top request and you get back a list of networks default is defined to get you out to the internet other than that you can make up any words that they want for it and and so is that is there or is there not some possible overlap with pvd\u0027s certainly is certainly is okay that\u0027s Tommy so yes reduction is good I like the shortening of it I mean adding more stuff in later I think is great but in terms of the Minimum Viable Product getting the short one first we can always add extensions as to the nested networks here I think that definitely overlaps with the PVV stuff and I agree that it\u0027s a very interesting use case and that\u0027s part of what we were doing at the hackathon I think it\u0027s probably it probably makes more sense to have that be something that\u0027s notified more at the kind of our a network level and then we can fetch the information from separate queries mm-hm right so essentially in this model you know we get three Ras I do three different JSON API is tonight captive portals and this one says I\u0027m a walled garden this one "
  },
  {
    "startTime": "01:38:13",
    "text": "says I\u0027m a captive portal and that way we can get source address selection to interact with this so I like the direction that\u0027s going in and honestly it seems like yeah this could be our API you can just write it it\u0027s great that\u0027s the question the question here is when you have multiple provisioning domains do you need the extra level of indirection regarding networks at this layer as well right okay yeah yeah there\u0027s my they make they\u0027re very clean why do you have a request what\u0027s the session type what\u0027s the purpose of the session token\u0027 because I think that\u0027s actually the main sticking point for me I couldn\u0027t understand it so I\u0027ll admit the session token\u0027 I had stuck into the original one simply because people had said they wanted a session token\u0027 on the API I didn\u0027t see a whole lot of reason for it but people wanted and so I gave it in alright so I think if someone wants the session token\u0027 we have this thing an HT to be caught of cookie and though I\u0027m sure many people of marks left I will get stabbed for suggesting it that is if that\u0027s what you want that\u0027s what you got so I I don\u0027t think you need to to burden this particularly much with that okay I believe the idea with the session token\u0027 was that it was going to coordinate with the ICMP messages but I think that that has now been lost to events because the ICMP messages don\u0027t have a single session token\u0027 anyway okay maybe all right understood good well while we\u0027re aggressively simplifying Dave presentation mentioned something that will actually wind back the simplification if this were able to include the interactive URI that might save a redirect so I thought about mention getting up and standing when Dave was talking and I said do it here my my original documents talked about having the URI URL for given through the RA or DHCP and have that be a single URL for all of your interaction with connective portal if you post and get JSON data types you\u0027re using the API if you\u0027re you if you posting get HTML then you\u0027re going through the traditional the traditional one so be more more conventionalized than so I\u0027m actually imagining a deployment where you have the thing that does this that understands that most most clients coming to it will probably be you know sort of forced into it by virtue of "
  },
  {
    "startTime": "01:41:13",
    "text": "hacking the port 80 and so it will understand how to redirect to something else that has all the HTML and user interaction and all those sorts of other things and can do the demultiplexing stuff but you would actually have a separate endpoint that had the HTML and you would want to keep the two responsibilities as separable as possible this would have to be able to understand the request for something that didn\u0027t have the right except header in it because of that\u0027s the limitation that we have in 7710 I don\u0027t think we actually need the same limitation in PVD so having having that there would be would be useful I think and it would save a reiterate that was actually going to be one of my questions coming up so thank you so if you have it oh and you have it here and you assume that this URI is some different URI where do you get this URI like I mean we what the current spec says you\u0027re gonna get from like 7710 or whatever a URI and if you go to it with JSON you get this and then but then you\u0027re saying it you would be sent now a user who did 77 10 and didn\u0027t do this as being now sent to the wrong place maybe I wasn\u0027t clear so somebody\u0027s 17 you get one euro and you go there and if it\u0027s a legacy client it\u0027s actually a web browser ends up here they will put you know except HTML and all the usual stuff that browsers do and the point is that maybe you don\u0027t want to actually have all the HTML machinery at the endpoint that\u0027s providing this URL you would just redirect to the thing that has the HTML for that client and for the API client you would serve the API from this from this point yeah and if you wanted to host them in exactly the same location and actually do all the stuff all on the one URL which is kind of kind of icky because you don\u0027t you don\u0027t get caching cymatics and all sorts of other things it gets it gets messy you could point the interactive URL back at itself if you really wanted to it becomes a deployment choice and you get that little bit of extra flexibility that\u0027s all yeah Lawrence cuvee I like it\u0027s nice and simple feels like it\u0027s almost like there\u0027s nothing left to take away which is great yeah and and I think yeah removing that extra network saying actually that that we can take away so yeah this is this is great and I think it also I think compared to the option of putting this stuff in the PUD I think it\u0027s in real in reality will want to be able to evolve this differently and this is gonna be highly tailored to whichever cookie the network sniffed when you did in a clear text request and what your MAC address was and all that stuff so I would expect that you know that one of "
  },
  {
    "startTime": "01:44:14",
    "text": "the difficulties with with actually putting the the captive parameters and the PVD is that those change every time in the face of the moon changes right it\u0027s like you know here\u0027s how many seconds you have left or like oh look you know you opt it into this other business deal so now you have another - because you cash in a voucher at the you know at the at the at the register and so I think having like this is essentially an Oracle right was the PVD is kind of optimized for static information and I think in reality if we were to invoke that the the mystical you know what was it thirteen year olds I forget what like web developer I think configuring this to return a different answer every time compared to like having it having it be able to return like the different PVD information every time and generate that on on demand that seems like this would be easier to do so um so if you did that then when you like in the PVD world I guess the PVD would give you the URL to find this for that network because I don\u0027t want to have to do DHCP 7710 and PVD and this right so to reiterate kind of from the last night I had the options you have or if you did want to combine PBS with this is either you get your kind of static PVD and then it just points you to this and you can switch over and do that one or you could I mean I think it\u0027s perfectly legitimate to say that the PVD for a captive portal is a very dynamic thing right so that it could be essentially if you don\u0027t care about any other information you could just reduce them into the same thing we say here\u0027s your your I and then oh look inside that rather than saying here\u0027s the captive portal API URI it just says and here\u0027s the captive portal JSON it\u0027s an option so we should discuss it on the list I mean I guess the question would be whether it\u0027s an expectation that if I look up a PVD based on the ID I\u0027m always gonna get the same answer for the same ID or no okay open issues Dave Dolson had given a review that I was did not incorporate in his Davis a way of working it had more explicit session creation and deletion and again talking about the the URLs involved and as I said I left it I left the session creation and deletion to be explicit be implicit rather than explicit it also sounds like we it\u0027s between the PV DS and the simplification I\u0027m not sure we actually need a session anymore so this might this might be no longer relevant yeah any any thoughts on "
  },
  {
    "startTime": "01:47:15",
    "text": "on how to update this information on demand with the with the PVD mobile it\u0027s either if we either if you stash the information the PVD or if you stash your redirect role in your own the PVD you can Rev the sequence number or as this it seems like you know it\u0027s well you have to count you you have to figure out how many bytes you had and then you have to count you better bet you better hope if you\u0027re counting match to what the network counting was and nobody like decided that their account account IP headers or Mac Anna\u0027s differently and so on and so I guess yeah so it seems like it would be useful if we could update this and if we if we I suppose if we have an ICMP message that says go check again then we can use that yeah my thought is that you could go and check this at any point in time and see the counters decrease and it\u0027s not just if I count no there\u0027s also like a timer grant a calendar whatnot but my thought is that the the operating system can go and retrieve the this just status and whatever it wants but I mean how often would you do that would you take that as a promise and say ok I\u0027m gonna check at the 90 percent mark would you do that you could do it at half but I mean if you hadn\u0027t up then but then you\u0027re kind of committing to what you say here which kinda means which might mean that your your promises here have to be a lot less sort of they have to be a lot more forward-thinking and that you might be able to make fewer promises I don\u0027t know anyway I think I think your answer is you you you there\u0027s you don\u0027t envision a mechanism to change this and if you want to get more up to the information you have to ask again wait which which is to find out since you mentioned me I\u0027m going to comment David Olson here so part of my email to Unruh view of this part of it was a stylistic thing on the API and part of it was the content I was initially reacting to the idea of post for doing this as that because I was thinking get you know because it\u0027s idempotent just get what\u0027s there you know possibly and also you know I took sort of you know restful approach where you know for different operations you want to do it would give you the you know point you to the URLs to do those operations so I maybe I would mind if people took a go back and find that email and take a look in terms of style of that I just wanted to point out that before you just dismiss it because of the operations yeah the the the comments were made at a point where I was still trying to suggest that we should do network requirements and satisfactions via this API so at that point the the post was required because you were actually submitting information in at this point "
  },
  {
    "startTime": "01:50:15",
    "text": "with with just there just being a status status retrieval I think the nine potent get API is entirely useful or entirely the right idea dear bird I just wanted to reiterate the the fact that this information could eventually be wrong or miscalculated with a Miss aligned with an ass so like this a CoA is might come from multiple various servers maybe even a local event that triggered an idle timeout or something there could have been multiple sessions from the same Mac or from the same accounts they\u0027re building against the same data so like you might be reporting their individual uses but the various servers really the counting servers really the one that\u0027s accumulating all their usage and their information so I questions protection government is this something that we should be working on and publishing so for the a protection government question is do we wanna milestone or an architecture "
  },
  {
    "startTime": "01:53:26",
    "text": "that was a yes I\u0027m sure those people would call this a hostile area so the [Music] right sir in this particular document I think this is document is it the basis for that milestone and we should adopt it so we asked the question about whether the was could be I fit into we "
  },
  {
    "startTime": "01:57:35",
    "text": "the taste of the ice as a wonderful decisions sign pushes I thought one here I don\u0027t know what the other one way around oh sorry "
  }
]