[
  {
    "startTime": "00:00:41",
    "text": "[Music] [Applause] and so I should pull up we appreciate the confidence you showing in the doers good afternoon everybody and welcome to d2 of HTV this somebody in the back row mind them just closing the door to the hallways that always makes it much easier this year what\u0027s going on wrong presentation well the chairs get going here I\u0027m asking if someone in the back door could close the door to the hallway that\u0027ll make it a little easier for us to hear thank you that\u0027s awesome I appreciate it we\u0027ve already got a note-taker thank you for you ever and we\u0027ve also gathered ever scribes Thank You Julie so got their act together at least you get going here today is a little more diverse than our first meeting of the week we\u0027re going to talk about a number of all of our adopted work or almost all of our adopted work progress that is making as well as you know some information on you know proposed work and items of interests will be moving to the agenda fairly quickly we\u0027re pretty full up here\u0027s the note well talks about the rules under which your participation in the IITs IETF rather no no no the IETF that\u0027s just me slipped it up a little bit our governs if you got questions about this stuff it actually is pretty important feel free to talk to your chairs or any ad I guess Alexi is with us today instead of very because of scheduling conflicts here\u0027s our agenda hopefully these drafts look familiar to you and you have read them very own specv 56 bits which is in interesting thing the cache header a client hints at our structure secondary certs will have a great update from Mike Bishop on the HTTP 3 work and how that\u0027s going with quick and then one two three four five proposals and sort of my eyes so as we talk about the adopted drafts will also probably talk about open issues in the effort to move those drafts forward that\u0027s that\u0027s it so variants mark me go speak to various yes would you like you "
  },
  {
    "startTime": "00:03:42",
    "text": "know that\u0027s a microphone yes please how far away can I stand is that so that\u0027s wow that\u0027s a good mic hello but here I think okay so yeah so variance is fairly quiet the two main kind of areas if you look at the issues list I think is a few issues and a number open by Jeffrey asking Jeffrey are you here yes you are hello you\u0027re very yellow again it\u0027s very easy to find you I so the the main consumer for a lot of the feedback we\u0027ve had from variance is actually the web packaging work they\u0027re using variance is a way to talk about the selection of the representations in the package as I understand it and so Geoffrey\u0027s been given good feedback and for me it\u0027s it\u0027s really good confirmation that variance seems to actually work for their use case which means as a mechanism it kind of works I\u0027m also still talking to implementers fastly is talking about it internally well I don\u0027t have any commitments to make there of course and I\u0027ve had a long-running conversation and needling of lathe Hedstrom from Apache traffic several a for you in the room yeah still at lunch Weiss wise man he\u0027s looking at prototyping it in in a module because the way modules work in ATS it probably won\u0027t be a full implementation but at least give a proof-of-concept see how it runs I won\u0027t go into the issues here I\u0027m I just once again encourage people to review it to implement it if you so feel inclined so it get some more feedback for me the only big thing in mind about this spec is its nature that to work with a particular content negotiation mechanism so I had a you know request had a response out of pair you need to define an algorithm and in aspect somewhere and have that implemented in the cache for it to work otherwise you fall back to very behavior that\u0027s the trade-off we made the the first attempt that this was the key header if you remember that and in key you actually embedded that outdoor them into the header you know in this little constraint language and we decided that that was horribly complex and hard to implement because it made met potentially unbounded CPU on the cache and error prone because authors had to get that out grow them exactly right when they produce that are so that\u0027s why we moved the variant approach there\u0027s still a little doubt in the back of my head so I\u0027d love to talk to folks if they share that doubt or they don\u0027t that\u0027s it for variance must be live questions there\u0027s life your ears were burning laughs do you have any feedback or announcements on variance it likes you too this is Roy fielding "
  },
  {
    "startTime": "00:06:46",
    "text": "what do you why is it that the variance key exists as opposed to just reading the header fields that are in the representation because the key can diverge from the contents of that afield okay I\u0027m happy to talk about that offline except I need to work through a worked example and if you want resonation will do it there do you want next on our list thank you Mark is BCP 56 is so don\u0027t don\u0027t sit down right BCP first is this we think we\u0027re done it is parts waiting for HTTP core to be done so that it can reference it that causes a little consternation by some but that\u0027s what we\u0027ve decided I probably will do another editorial pass through the document and make sure that it still makes sense at some point and if people have additional things they want to talk about I think we probably could do that if we needed to it\u0027s not hard hard closed it\u0027s just kind of soft closed yeah I like to consider a closed pending you know that consensus was it was closed pending you know those real cases maybe you know it\u0027s not published so yeah it\u0027s easier than updating an RFC for short she\u0027s dead jeopardy this is not the same kind of microphone you have up front so this is just something that kind of came up during the discussions around using DNS over H yes one of the pieces of advice in the 56 bits is that one of the ways of disambiguating a an application that is not the web that uses HTTP as a substrate is using a media type which is what h the dns over HTTP essentially does because it uses the UDP wire format of the the DNS is kind of a key part of its so could you say it\u0027s not part of the web if it uses a media type I don\u0027t know can do is maybe you use an application specific media type to indicate that it is not the standard browser interface that\u0027s using HTTP so it\u0027s it\u0027s already in the document right you got that sounds very odd I don\u0027t think the document says that okay let me read it yeah we can put it on screen if that would help just give us a section just a second think are you reading from BCP 56 bits or doe pcp 56 bits like what is it writing is very poor pictures now "
  },
  {
    "startTime": "00:09:49",
    "text": "thank you nails for your service to the community yeah you see how the clean your audience like so in 4.1.2 coexisting with web browsers on the second page using an application-specific media type in the content type header and requiring clients to fail if it is not used which paragraph is this it\u0027s a first one on page 21 right okay so that\u0027s if you don\u0027t want web browsers to interpret things as generic content than use an application-specific exactly and so I think this is great advice I was just going to suggest that we also add something into the security and privacy considerations that say what that does mean though is if you have a proxy or something else that\u0027s capable of seeing this application specific media type it becomes a fingerprinting point to allow them to know which of these applications you\u0027re using since it\u0027s not a generic content type it is a application specific media type right but we also encourage people to use HTTPS absolutely but it becomes something which is leaked to approximate so there\u0027s an underlying issue there which is is has come up and in another context which I think we\u0027ll probably talk about later which is is a proxy that\u0027s acting on behalf of the origin server for example part of your threat model and then what does that mean so in particular for the privacy section all I\u0027m suggesting is that it note that when you use one of these application specific media types anything that\u0027s a proxy along the path being on behalf of the end-user or the origin server will thereby know which one of these applications is using the HTTP substrate I\u0027m gonna push back on that a little bit because I think that what you\u0027re really saying is that if if you don\u0027t encrypt data anything on the path can see that data that\u0027s true for I it\u0027s true for the headers it\u0027s true for the body mime sniffing is now well-documented and widely implemented so even if you use generic media type they can still understand what application you\u0027re using well if if folks don\u0027t agree I won\u0027t won\u0027t stand at the microphone any longer I think it would be valuable but if I\u0027m the only one who does that\u0027s that no other comments okay we can move on mark don\u0027t sit down but then you get a break after this what\u0027s next the response of the cache responses so open issues um I "
  },
  {
    "startTime": "00:12:50",
    "text": "think this is largely done as a spec I think I probably need to do one or two more iterations on it and I think we need to get some people prototyping with it the two issues we have open seven seven eight cache header name there\u0027s a proposal at 777 I think this is a bike shed I don\u0027t really care I chose cash because people use X cash most widely right now and that seems to be the most direct translation of what we\u0027re doing on the other end we are going to propose proxy status a little later on and maybe it makes sense to align them if we do choose to adopt that using cash doesn\u0027t seem particularly consistent with other existing headers like so that was mainly where this came from and again proxy status is oh yeah we just hammer or something like that either way I mean I\u0027m has it in the hub if there are no opinions just like anyone have an opinion even they don\u0027t want to stand up raise your hand if you have an opinion or figure out a way to do it there may be coins involved so so generally in the past work we\u0027ve said that editors have some degree of discretion when it comes to naming correct some here so I agree with question but we want this consistent with the rest of and I think that that sort of input is always appropriate and if Mark you\u0027re willing to wait for people to get experience deploying this thing then maybe you can also wait for the other things to come to the point where it\u0027s a little more mature and then you have a little bit more information sure I I know it\u0027s a little when you have to go out and probably some things without a name or short that\u0027s harder this is pre-emptive it\u0027s easy to something it\u0027s easy to get people to prototype it when they think they\u0027re not gonna have to do much work after that high on the list might be surprised to hear I foresee an even numbered design team coming I\u0027m sure that\u0027s gonna work out well sure I I will chat with else on offline and see if we can figure this out next unless Julian wants to join us Alex\u0027s feedback 766 so this is I think just some feedback from the very long-running experience that squid has "
  },
  {
    "startTime": "00:15:50",
    "text": "had with these issues and I think it makes sense to incorporate these as probably new parameters on the header design so in like a collapsed parameter and the Refresh one I want to look I think we already addressed that but I\u0027ll double check that does any other cash vendors have any opinions about this and indeed if we have other cash vendors if you want to add new parameters to indicate different states let\u0027s let\u0027s have that conversation pretty soon life okay I think I would take that offline thank you ma\u0027am thanks mark yeah right next we have client hints I think he was gonna give the presentation yes got 15 minutes for this including discussion here that words okay hi so I\u0027m your vice I work on Chrome and on client hints I\u0027m gonna explain a bit what the framework is what it does and what hints can potential use it and then we\u0027ll discuss it a bit so essentially the mechanism that we\u0027re talking about is a privacy-preserving proactive content negotiation that\u0027s a lot of T\u0027s so it\u0027s based on server opt-in which means by default requests contain no information so this does not does not add and potentially reduce passive fingering it\u0027s only over secure connections so that would prevent MIT m\u0027s from extracting that information and increasing surveillance situations same origin only so this is more of a web concern but it basically prevents unauthorized fingerprinting by third parties when the first party origin enables those hands and at the same time in order to enable some of the use cases we do permit cross origin delegations so a first party origin can delegate the hint to certain third party origins which have a legitimate use of that information the opt-in mechanisms are a couple of server response headers one of "
  },
  {
    "startTime": "00:18:50",
    "text": "them is accepts eh a header that provides a list of tokens for the various hints the various features that this server is interested in getting information about and the other is except th lifetime which gives a number of milliseconds for which that opt end should be preserved for that origin so that enables client hints over navigation over future navigation requests the third point delegation mechanism is basically like I said client hints are sent only to first party to the same origin by default when the opt-in is delivered over the top-level navigation response which prevents us from leaking information through passive resources so previous concern with the proposal was that if page includes image reefs forces those image resources would get an information even though they cannot theoretically run JavaScript in order to extract it by other means so in order to tackle that we introduced a delegation mechanism that is using feature policy and a feature policy header can be used to tell the browser that a particular host should get a particular hint so for example enable a viewport width and DPR delegation to image CD ends that\u0027s the main use case that we had in mind potentially contentious part here is that we want to add a sec prefix to all the hints we want to do that in order to reduce the chances of hitting a legacy server bugs we want to avoid course pre flights at all costs because they\u0027re not good for you so we want to be able to send to safely send client hints to servers so we want to avoid any kind of legacy bugs we want to be able to guarantee more certainty to servers who process these headers to you know knowing that the browser generated those headers gives you some guarantees versus any random JavaScript developer on the web even though you shouldn\u0027t necessarily rely on that because browsers can also be malicious but it\u0027s still better and a small side effect of that is that it may enable simpler processing and such I should actually so that was potentially true last week I\u0027m actually not sure that it\u0027s true we had "
  },
  {
    "startTime": "00:21:51",
    "text": "discussions since I\u0027m not sure that it\u0027s still provides simpler processing but but the main arguments here are the first ones oh we want to not send cores and be sure that we\u0027re doing the right thing okay so there are various features that rely on that infrastructure I divided them into improved content negotiation which we have image related hints that are the finest fire as part of HTML or are supposed to be the funnest part of HTML once the PR lists land and we have a bunch of Network related hints which are defined in net info in the net info specifications so RTT dowling effective connection type and we potentially may want to spin-off save data into its own [Music] specification because it\u0027s slightly different and we\u0027ve heard some interest from people who want to implement save data but not the other network related hence all of this is currently shipped in chromium the content the third-party delegation mechanism is not currently shipped but it\u0027s being worked on so hopefully we\u0027ll ship soon okay and we have a couple of features that we want to use in order to reduce acid fingerprinting surface on the web so currently user agent the user agent header and except language are headers that contain multiple bits of information they are sent with every request on the web to every server that is interested or not and we want to make it stop so we plan to replace those mechanisms or start by supplementing those mechanisms with the client hints that enable access and enable deliberate access to the same amount of information but one that requires a server opt-in and then hopefully over time as compat permits deprecated or freeze the passive fingerprinting vectors this is currently implemented in chromium but not yet shipped and changes to the draft since the last time we presented is that we removed the image specific hints that were part of the ITF draft and moved them to the HTML PR we did that both to have better processing models define for those as well as reduce confusion between the hints infrastructure and the features that are using it because theoretically "
  },
  {
    "startTime": "00:24:52",
    "text": "browsers could implement the infrastructure but not implement the image related hints if they choose not to we have a PR up in the air to add a sec prefix record least a sec graphics recommendation and I also wrote down because the current specification is split between the ITF draft HTML parts fetch be ours and other specifications I wrote an explainer and a document that kind of ties it all together for people who want to review the current situation without clicking through a million of tabs and and essentially we are looking for more implementers and more implementer interests we currently have running code and chromium as well as in various servers and one particular image CDN that we work with is cloud Neri and we want more browsers to implement in order for us to be able to move forward the ITF draft in order to lend the PRS and most importantly in order to improve user privacy performance and experience on the web so with that questions do we have any issues let\u0027s shift theories I would like to offer a thank you for reading the guide to where to find all this information that\u0027s a very useful thing yeah Martin Thompson the guide is helpful it\u0027s first time I\u0027ve seen it sir I didn\u0027t realize there was so many different moving parts here we have some reservations about the use of feature policy generally I know that I\u0027m about questions talking to Ian Cleland about this one routine our our input has been that there are aspects of the future policy stuff that are not very mature which might be and some of them some of them that we don\u0027t necessarily agree with this is spread over such a wide amount of different places that it\u0027s very hard to follow so if we go working group last call on this one it\u0027s gonna be difficult to make any sort of real assessment about what how it all fits together but this this this was my concern and this document they\u0027ve got in front of me now I have at least a hope so thanks for doing that okay sure regarding the future policy I know that there are some concerns about inheritability of feature policies too nested context "
  },
  {
    "startTime": "00:27:53",
    "text": "and in in the context of client hints I like to be honest I think it would be fine either way whether the frames inherit that or not or like inherit that without opting in as themselves or not would both be like from my perspective both solutions would be fine so I\u0027m only having seen this for the first time today and I didn\u0027t realize you two in creature policy until you mentioned up on the slides here it does seem to fit fairly well with the use of feature policy that we imagine is most directly useful in the short term unfortunately we have some reservations about how that policy is expressed and managed and so forth and the way that the other aspects of feature policy then sort of bleed into this making it a lot more difficult to make progress yeah that\u0027s probably feedback for the feature policy people as much as it is here I would say that you could probably move forward with this and the other pieces of this modulo the concerns about the fact that I haven\u0027t read all of it without the feature policy part and simply say that it doesn\u0027t delegate in 2/3 Modi context until you work work out the future policy part and then progress that independently maybe notice functional yeah or is useful but certainly something you do okay thank you Tommy Polly Apple and as an individual so yeah thanks again for the clarifications on this so we had discussed before and you made a comment about save data being a little bit different from our perspective I think at this point we\u0027re interested in being able to mark save data at this point I don\u0027t think we are necessary planning on doing anything with the other hints we do have some reservations but thank you again for presenting this will definitely go and review that more can you clarify just exactly what your plan would be for a separated out save data is how do you imagine that working I imagine it to be a separate graph that just mentions save data without like basically spinning it off from the current network info API into its own independent draft so that folks would feel free to implement that and not implement the other network related and cool thank you and actually I\u0027m just kind of from an editorial standpoint then you may be good to mention what things make sense as client hints or not I think for like the networking info perspective a lot of those things are saying oh this is my RTT there\u0027s other properties of the network the save data seems like a different category because it\u0027s probably more of user often and so giving a rubric for people extending this in the future to say these are the type of things that make sense as hints would be great okay thank you "
  },
  {
    "startTime": "00:30:55",
    "text": "so mark yeah this mic is different Marc Namie have so with my fastly head on I\u0027ve talked to her a monocular optimizer team and they\u0027re interested in this it\u0027s you know exciting to get that granularity of data and to be able to automatically you know optimize images for websites that are our customers so yeah please continue with no particular head on I would encourage folks to look at this document they were talking about in this working group as a framework for new content negotiation mechanisms and I would hope that we would not require all new content negotiation mechanisms to use it but there\u0027d be a lot of encouragement that this is a good pattern let\u0027s find the right pattern for this document it and then can I beat the bushes towards that in the future I think that\u0027s your intent and that\u0027s where to get confirmation there yeah okay great thanks I\u0027m gonna soft cut the line which means if you want to speak get up right now yeah no squirrel not like I guess I\u0027m not sure I agree with the characterization that this uses the finger for any surface changing some of the things that are currently sent in rich headers and the client hints obviously does but the problem is you\u0027re also adding things which that would not otherwise be accessible to the server versus memory so each one of those hints is also coupled with a JavaScript API so browser I should feel better about that basically this is not adding any new information that a website cannot conclude from a JavaScript API so it\u0027s in a sense identical to currently existing active fingerprinting vectors that browsers can track block lie about or somehow you know penalize usage of but doesn\u0027t and any passive factors if that makes sense I mean I know not true because is it it\u0027s passing vectors because all arithmetic all javis with a bi so something that was previously accessible via JavaScript API and now it is sent by the client all the time that is a changing active vector in the vector that is not sent all the time it is only sent on a server opt in so was it but it\u0027s an every question that server wants a service requested where the server can do the same with cookies or can do the same with the URL decoration for a third party delegation yes I am aware that fact but that\u0027s that\u0027s interesting fingerprinting and almonds a storage and given that and given the browser taking out are specifically taking action your strict state storage that\u0027s like nah that\u0027s like not a very precise argument so I I "
  },
  {
    "startTime": "00:33:58",
    "text": "don\u0027t think that that the current mechanism doesn\u0027t expose any new vectors so a website Kendra active vectors make some passive vectors it is not passive vectors because it requires a server opt-in there Zoe thing would make a death once again there\u0027s a difference between something which is something which is something which the server\u0027s explicitly do a saying which every with every request and so one of the one of the things that we one of the things that we look at in order to determine whether or not the line one of the things we look at you know in order to determine in order to determine whether or not certain certain certain activities by servers or fingerprinting is to determine with it whether they making requests for data which they don\u0027t care taking of the Jimmy use of on the client-side and so um so first a WebRTC and so when what happens is they ask for an array of things which then gets into the server and we have no way of knowing how the surra processes them that actually does form a kind of passive fingerprinting back towards the different set of properties than the Java treated be honest how is that different from sight-reading that data into like using javascript and adding it to cookies or adding it to a URL as I very parameter as I said hours were taking activity or take the actions restrict the use of a storage so browsers can take very similar activity against the usage of those client hints for websites that collect many bits of information so browsers can keep track of which sites collect which bits and in this case client hints tracking client hints will not be more complex or less complex than tracking the equivalent JavaScript API yeah I don\u0027t think that\u0027s accurate for the reasons I indicated these fact is we can tell when the Queen the site is actually coming to make use of the data and as opposed to when they\u0027re shipping it back for storage but when it\u0027s being sent over when it\u0027s being sent and if it are stuffing a cookie that is something we potentially abusive but in this case when it when the second is when the site asks for it and then since it back to itself we have no way of knowing how that is being used and so that\u0027s a different situation how is that different from sending viewport width and dpr to the server yeah and if it\u0027s regularly doing that and not not apparently making it use of it that look that is something that is something which we like to look at the apparently making use of it is the same like it would be identical for client and query parameters this seems like we\u0027re going into an I disagree about this fact ok let\u0027s talk about this more words this is coming up fairly often yeah from different folks yes and I think there are a number of people who feel that the there is an equivalence here and other people who disagree so it seems like we need an issue just about that and we need to find a way to get resolution probably pulling in the appropriate people sure um different places yeah let\u0027s go ahead and do that "
  },
  {
    "startTime": "00:36:58",
    "text": "ok sure I guess my question would be is anything has any other WebKit web engine indicator implement this feature not at the moment and I was my impression is and to be clear that\u0027s not necessarily a bar for us publishing there\u0027s not a formal bar on the way didn\u0027t want working group however one of the questions when asked when when asking what the thing has consensus you\u0027re in advance is it gonna be implemented yeah and if is he implemented primarily by one client that is a strong indication any problems for not advanced yes but there\u0027s a history in this working group of still doing that so well take it as a case-by-case thing I love Robin Marx I just wanted to say the idea of splitting a safe date ahead or enjoy a separate speck seems very good to me as we talked about before I see a future where we also have more specific user preferences not just a generic safe data but actually users saying I want this type of counselor I don\u0027t want this type of content please URL so that would make that easier in the future to do or quit so please do that okay Alun ffred new Allen from Dell a clarification question about the server sent response headers is it intended that those will be sent on every response from the server or it needs to go like once per origin they are respected only when coming in on responses from a top level navigation response and so if if the server is not sending an except I\u0027m and it\u0027s only interested in hence on sub resources it can send like it needs to send them every on every navigation response if the server is interested in having those hints be applicable to future navigation requests then it needs to add an exception lifetime and for that lifetime it doesn\u0027t need to opt in again even though it could okay my motivation for the question is if this is if this does become part of the standard I\u0027m wondering if we should have these headers included in the queue pack static table or not I didn\u0027t hear that she should be add these headers to the queue pack static table yeah Yoav thank you for your time that was educational thank you oh we are already over time on this I\u0027m concerned about the rest of the agenda is there an issue that we think we could make progress on um maybe discuss the sec prefix cuz I don\u0027t know I\u0027m just yeah I haven\u0027t really given a ton of fun of which "
  },
  {
    "startTime": "00:39:59",
    "text": "issues we need to discuss here in which we don\u0027t so but this seems like the by my math for ten minutes behind on the agenda so we can just study yeah okay alright so thank you okay thank you I assume Paul honey I didn\u0027t see a man meet ago are you gonna do this month yes yeah so structured headers is I think nearing completion we have a few issues open which we need to work through I\u0027ll go through a couple of them very briefly and then I think the meaty one is the last one 737 so we just opened 780 to define a URI reference type I think we kind of informally considered this before and and didn\u0027t see a lot of interest but it doesn\u0027t cost a lot to add so my only concern here is that what\u0027s you know how strict are we going to be about the URI reference syntax inside of the brackets if you know there\u0027s this tension between the formal definition of your eyes and what browsers often allow inside your eyes for things like location and if we specify something that\u0027s very strict will that strictness be maintained or will we have interoperability issues as some people loosen it up right to the microphone so destroy well I agree that\u0027s a concern I think it\u0027s a concern regardless of whether they\u0027re represented in angle brackets or double quotes so I don\u0027t think you\u0027ve addressed that kind of concern anywhere else in the spec it\u0027s just sure yeah tress is just a way of distinguishing them from districts it\u0027s just there\u0027s a fairly strong practice of using sloppy call them sloppy URLs there\u0027s a fairly strong practice of using the mouse where but I\u0027m not against trying here I think the worst possible outcome would be that we specify it and it gets implemented but some people implement it badly and then this is an area of expect that you can\u0027t use because there\u0027s poor Interop or that you have to use with with kid gloves or whatever but but that\u0027s not to say it\u0027s not worth trying right it should be clear I mean it would be okay if we had sloppy reference in there instead of URI reference okay when I what I would define is as a as a reference today is I\u0027m really hoping this term is gonna stick now thank you yeah I\u0027m happy to add that I think next one 781 empty lists and empty field values I think this is we constrained the syntax of things like lists to require at least one item back when we were being really strict about a lot of things I could see an argument to allow empty lists the only thing being that if I remember there have been issues in the past where you have headers with empty values that are stripped by some implementations I don\u0027t know how widespread that is but I think it does "
  },
  {
    "startTime": "00:43:00",
    "text": "happen and if I remember there have been cases where we\u0027ve decided that it\u0027s a best practice not to use a header with an empty value because of that I think maybe that\u0027s why we were acquire at least one item wrong again I can understand that as a theoretical concept but I don\u0027t if if we\u0027re going to have structured header fields to keep in mind I still don\u0027t believe we actually need this at all this to know what the structured header fields specification as because there actually is a generic parsing syntax for HTTP it\u0027s just that we don\u0027t declare it but if we have one I want it to actually make some progress and not reduce the amount of things that you can define the accept header field for example has meaning when it\u0027s sent empty see so it\u0027s I understand why people may be concerned about that but having a structured header field syntax standard for HTTP which cannot represent common HTTP doesn\u0027t make any sense to me so the goal of this is to be somewhat compatible with common HTTP but more to have a crisp data model for new headers especially people in the past have said why don\u0027t we have null here and I think that\u0027s a an interesting question my response off-the-cuff was that we don\u0027t see anybody using Nolen existing headers but I\u0027m happy to be proven wrong for that for for empty lists you you characterize it as a theoretical concern I think it\u0027s a very practical one it\u0027s that it won\u0027t work in certain circumstances it sounds like you want it to be theoretically completed in allowing empty sets which I understand and I sympathize with it\u0027s just in the current syntax that won\u0027t work on the wire in some circumstances as far as we\u0027re aware having said all of that I\u0027m happy to open up the syntax and and and just put a warning there if other people think that this is important I see Kazuto nodding his head anybody else how many things who cares about this Julien Karras anybody else Julien can you just do you agree with Roy just point at Roy if you agree with Roy he grows with Roy okay all right let\u0027s open it up and see what happens but I do want to put a warning there that if you have an empty list in your syntax it may get lost along the way cuz you wrote would you like to point out someone reported this guy okay thank you okay let\u0027s do that if you could record that or someone could record that me issued so I don\u0027t forget that bit good next parameters is a set I noticed oh I\u0027m so descriptive yeah yeah me if I remember correctly I think that this actually is watering all "
  },
  {
    "startTime": "00:46:03",
    "text": "right yes that we have right now parameters are a set when there\u0027s a question of whether you want to be able to preserve ordering there because dictionaries are an ordered dictionary we added that a while back because it seems like there was half-decent implementation support for and there were definitely use cases for it so i think the actual request here is to turn parameters into an order dictionary rather than an unknown or unordered dictionary I don\u0027t know my comment said does that make sense to folks because I found a use case for it I forget what it was or they were at the cutting edge here well let\u0027s try again if I remember correctly the variance he is actually using an ordered set yeah yeah yeah but that\u0027s it so that\u0027s an ordered ordered dictionary it\u0027s an ordered list yeah well that\u0027s a list yeah no so dictionaries are an order they\u0027re an ordered dictionary and the because parameters on a parameterised item our model is a dictionary there\u0027s the there\u0027s a distance because dictionaries are ordered and parameters are not and what I think we want to do here is make parameters in order dictionary as well and I see a thumbs up Geoffrey askin all right and Geoffrey askin yes I assume that in a spec that wants to treat them as a as a set we would just say that explicitly in the spec instead of relying on the structured headers definition sorry the word here said here is a distraction sorry in in an order dictionary inspect fit doesn\u0027t care they\u0027re one Street all orders as equivalent yes just say that yes it would need to say that yes and we should probably have a hook for that I just have a clarifying question so you want this to become a list with no repetitions allowed no it would be an ordered dictionary which is a data structure that is being surfaced in more and more languages that\u0027s a list with keys and values and you can\u0027t repeat a key twice that would be one representation of it yes is my Johnson is it true that you can\u0027t repeat okey well I think and again I was so descriptive when I raised this issue I think that is maybe the knot is is whether that is going to be maybe that\u0027s why I said Sat that would be the the trade-off that you can\u0027t have a repeating king is that true for the dictionaries as well for dictionaries it is true yes okay well as long as the two of consistent I think the principle of least surprise dictates "
  },
  {
    "startTime": "00:49:04",
    "text": "that they\u0027d be consistent so go ahead okay I think that\u0027s enough guidance I\u0027m incredibly vague issue thank you yep please for the love of God somebody write that so this is the fun one integer limits um one of our implementers are hard-working limp owners noticed that implementing structure headers in JavaScript was tricky because integers in in in yeah I\u0027m not done yet Murray because integers and JavaScript have a constrained range see there\u0027s a lot more here and so we went back and forth on that for quite some time very wise getting to the microphone now Kazuo and we kind of came to a point where I made a proposal that we constrain the value space and remember structured headers there\u0027s an abstract model and then there\u0027s a serialization in the HTTP 1.1 headers and textual headers and the Micra proposal if I remember correctly was to constrain the value space to roughly negative to 252 to positive to 252 with I think a small Delta which I\u0027m sure I\u0027ll be corrected upon momentarily and that that was the minimum that implementations were required to support but that could support numbers outside that range if they chose that was the minimum footprint for interoperability which is the same approach we\u0027ve taken on most of our other headers for example we say lists must have as implementations must support lists with at least fou members and I think foo is a hundred thousand twenty-fourth I remember correctly and so that seemed to gain some support and then phk came along and made a different proposal which was I love the reaction to the phrase then phk came along he made a proposal that we limit the syntax to a number of digits a number of characters first and then you pars it and then you have an integer and so then I believe the number of the D proposed was 15 after you take the sign off and so the practical effect of that is is that you we are our abstract value range is fixed it can\u0027t be or great or if your implementation so chooses and it is smaller than 252 it\u0027s it\u0027s you know because you need to chop a digit off effectively and so we went back and forth on that and if you scroll to the very last message here I think um yeah so the PRI allows up to 19 digits you know if you support that many whereas his supports 15 digits and so it\u0027s a trade-off and I think the trade-off if I understand the RM it\u0027s being made is that by constraining the number of "
  },
  {
    "startTime": "00:52:05",
    "text": "digits and failing if it\u0027s more than 15 and then parsing it as an integer we actually get more reliable behavior we\u0027re not throwing it into an integer parser and then hoping that that works in a way we understand and then you know constraining that result we\u0027re doing it the other way around and then so it\u0027s more predictable and I like that property that\u0027s a good property the pH K makes another argument which is that it\u0027s easier for implementers to get the range right because it\u0027s not you know to the fifty-two it\u0027s just a bunch of nines which I personally find a little bit weak but hey whatever and then the other argument is is that I think you\u0027re not good he says you\u0027re not gonna need that extended range which is where I wanted to pro people and see if they felt I think that the pH case proposal makes sense I just wanted to get feedback from everybody that they understand what we\u0027re getting into here that the integer type in structured headers is going to a fixed range and that if people need numbers bigger than that they\u0027re gonna have to do something else like stick it in a string or a binary or come up with a new structure header type which might be completely okay but I just want to make sure that this is where our eyes open so actually my understanding was that phk argued for having minimum guaranteed range of 15 digits and I think that resolves the concern that you have the last comment that bigger numbers need to have a different so to me it seems that the the discussion has shifted from the 52 bit approach to the 15 15 digit approaches just about selecting the meaning of guaranteed rings I didn\u0027t get that at all from the conversation my understanding was that he wants to clamp the number of digits and generate an error if you exceed it as a way to make sure that whatever you feed in the parser is what we think it is you know so you know I think you do a filtering for non digit characters number of digits and then if that all passes then you\u0027re good to get a feed it into a parser if you don\u0027t clamp it to 15 digits you don\u0027t get that property and then I think we\u0027re really the only difference is is can implement or type in a bunch of 9s more reliably than they can type in the digits that form to the 52 and I really don\u0027t find that compelling to cram and then pass helps you know that was mine I read sorry I didn\u0027t understand well so a little close to the microphone sir sure allowing implementations to clamp to first check number of digits all day passing it allows it to reduce the chance of having vulnerabilities and thereby making the minimum guaranteed range to 15 characters make sense even when you allow implementations to exceed "
  },
  {
    "startTime": "00:55:06",
    "text": "that range knowing that it might have inter burbage I see so you\u0027re saying minimum guaranteed ranges 15 digits implementations can choose to clamp at a larger number of digits if they know that they can handle that yeah but that\u0027s an implementation decision yeah would there be a max on that no Wow I can I guess think I can live with that but okay let\u0027s see what other people think so not in Thompson the reason we put numbers in header fields is usually to count things and like 15 digits is a lot of favors yeah and we do have limits in other other protocols that that sort of are in that general general size category now it is in theory possible in a even in a protocol like quick to exceed this number in terms of counting bytes or if you want to count bits you can count bits milliseconds nanoseconds you get a pretty long way with with with 15 digits and I\u0027m perfectly comfortable in in following BHK suggestion here because I think that anyone who needs anything more than that I think they can probably get by with the string hack or the different type hack or any of these other things and this is pretty straightforward do we do we do have floating point or did we cut that I think we don\u0027t have floating point Oh China wavelets where floats yeah yeah this will have that debate separately venture but I think that that\u0027s if you want to go really big sometimes you might need precision on that but if you\u0027re talking you know financial things good luck to you got a number that pink by the way but then you you\u0027re going to have to build special data structures for it and you\u0027re gonna know that you\u0027re gonna need to build special support so I\u0027m I don\u0027t mind because you\u0027re a suggestion and sort of naturally so start there but then when you think about it I I can\u0027t think of use within this byte ranges of that reach this large good luck I\u0027m so my reaction kazuto\u0027s proposals nervousness because I think it might suffer in places that matter and yeah so it\u0027s a just a concrete example if you are running over quick and you want to represent a stream identifier you can\u0027t do it with an integer here and and I think I\u0027m okay with that too like I said you can come up with a big into if you want later on you know soft cut the line here so get up Brian sniffing my concern here is that if the limit is there some people will lazily build parsers that just parse whatever JavaScript naturally represents and so there will be some messages that are interpreted in some place as a against it fits it doesn\u0027t "
  },
  {
    "startTime": "00:58:07",
    "text": "fit in this and some places as a string and so that\u0027s going to get complicated and then eventually exciting so have you read the essay respect okay so this is the wonderful thing we\u0027re trying to do with SH is is we really really really really mean it that you be strict in parsing and so all the parsing is specified by algorithm and we have a test suite to prove that people actually follow the algorithms it\u0027s yes it is a bit of a game of chicken somebody might go out there and create the permissive structured header or parser and then we will within that I know thanks for that nightmare before I again I just have a Metacomet that the idea as I understood it originally was to simplify the processing of HTTP message handlers by proving them a more regular grammar I I do not in any circumstances understand why the you would need this kind of data in a header field now I could understand having large numbers I can understand having binary values I can understand having utf-8 very large strings of digits doesn\u0027t make any sense to me whatsoever because there\u0027s a point at which just put it in base64 otherwise you\u0027re sending too many characters I mean obviously people don\u0027t read these numbers so what it sounds like your agreement of the phk approach then okay yep so 15 characters not 64 bits but mark mention if you if you just happen to have two to the 61 or so quick streams and you wanted to identify them you won\u0027t be able to oh well when you think about what it takes to get to to the 61 or in the order of 261 streams into a quick connection you\u0027ll you\u0027ll realize that you\u0027ve run out of packet numbers and so it\u0027s it\u0027s kind of academic well in a way but but if I if I define a field that is suppose if I define a header field that\u0027s supposed to be able to represent a quick stream ID it it would be weird not to allow it to represent the entire range sure it\u0027s weird so I just use something else all right if you really do care about that sort of thing yes I think we\u0027re gonna have to move forward I think we\u0027re done okay thanks very good inputs thank you so much Mike you\u0027re gonna be up next with sort of that quick and it should be three update No oh I missed secondary search that is my fault but might Michael be speaking on the topic so that\u0027s convenient can I make a final comments about us you "
  },
  {
    "startTime": "01:01:08",
    "text": "mean after the line was cut no the blue tape blue sheets that would be great go ahead link okay all right so if we can recap the last couple IAF\u0027s we\u0027ve had an ongoing discussion about ways in which secondary certs make things a little bit easier to attack and there are two different scenarios that we care about one is the missing cert problem where you\u0027ve been able to the attacker has been able to induce a CA to issue a certificate with your name on it and then can go and get somebody to connect to them thinking that they\u0027re actually connecting you and the other one is that you get a legitimate cert and it\u0027s compromised and is easier to use because you can go deploy it on your site and send it over secondary certs so long as you have the appropriate private key so when we\u0027re up to stay on that one for a second so when we\u0027re talking about what you need to do in in both of these cases if you want to pick up an attack traffic you have to be able to subvert either IP routing or dns resolution in the normal case and we\u0027re trying not to create that situation with secondary search we don\u0027t want to make the problem worse but make it easier for attackers next slide so this is a simplification of an approach that we presented last time and I\u0027ve taken Nick\u0027s suggestion to get rid of the affiliated domain property and just go with requires so that is sufficient or if you\u0027re on a CDN then the client said no each customer of the CDN says that it requires the CDN and the CDN will have to issue a surge that requires whatever the crime area delete is and if you want to bind a whole set of certificates together you designate some sacrificial domain that you put in all of your certs and you require that from all the certs and any of them are acceptable so next slide this is what it looks like on a CDN where the CDN has to have some kind of a bridge cert that can require whatever the primary cert was and then that\u0027s the thing that all of these secondary certs that it\u0027s going to present from other customers in Java so we talked about this last time this seemed generally acceptable but it has one major failing big slide which is that it really only fixes one of the two problems we\u0027re talking about if you have a compromised certificate "
  },
  {
    "startTime": "01:04:08",
    "text": "that\u0027s legitimate the certificate was originally issued as saying it is only able to be used on my CDN somebody compromises it gets that private key they still can\u0027t use it as a private as a secondary cert anywhere else because it\u0027s bound to that CDN and if they bring it back to that CDN presumably they will notice that they have a second customer presenting a certificate for the same domain and alert someone that that might be an issue so the problem that we don\u0027t have a solution for yet is what happens with Michigan with Miss issued certs where if the attacker is able to get the CA to sign anything they want they can put anything they want in the certificate and nothing we define to be added to the certificate can stop them next slide so remember the problem that we\u0027re trying to deal with is this is an induced navigation now you don\u0027t have to put the attackers domain in the same search so when you do a certificate transparency check you will eventually find that missus or your domain and you don\u0027t have the breadcrumb to say who it actually belongs to I see so you\u0027re shaking your head go to the microphone no problem I don\u0027t think I understand the issue with mrs. Xuan\u0027s I\u0027ll explain at length later but whose presentation okay so the issue in the issue here is that without secondary search if somebody were to go and miss issue a search that jointly covered victim calm and attacker calm and they could get you to click on a link to attacker calm then you know the owner of victim calm would be checking CT logs for things that reference their domain find that cert and have it revoked now the difficulty with secondary search is you no longer have to put attacker.com in the missus victim concert so you haven\u0027t really changed the outcome you\u0027re still going to get the certain revoked but you no longer have a clue now that clue might be a next useless because they will hopefully be putting a throwaway play they will most likely be putting a throwaway domain in the third so I don\u0027t know how much value there actually is there but it is a reduction in security but comparing next slide comparing the case with miss issued certs where we\u0027re saying oh well this is removing the breadcrumbs to the other problem that we\u0027re concerned about where you have a compromised certificate and we say the problem is that you\u0027re going from you have to be able to subvert IP "
  },
  {
    "startTime": "01:07:08",
    "text": "routing to you and all the attacker has to do is an induced navigation what we already had that problem we agreed that that was okay when we did our FCA 336 which is origin so fundamentally I feel like the working group is coming across opinions with this and either we meant a 10-8 336 that this is not a problem so let\u0027s solve the compromise certificate issue with the PR that we already have and move on or we now think that this is a problem and we think that we are maybe reversing ourselves from 8 336 or we need some other kind of guarantee there in which case let\u0027s fix it both lists so next slide I think we need to have a discussion about which of we have two axes here of do we have to have clues about the bad actor and do we need anything other than there exists a legitimate search and if their service there it\u0027s ok because it will get revoked soon enough if it was miss issues or compromised I\u0027m just trying to think through the defense you\u0027re proposing for or the first defensive proposing sure um can you go back to the slide please sorry yes no even better good good good okay so so as I understand it the way this works is that what I want a secondary search it\u0027s gotta have a trivial version it\u0027s gotta have lists the name of some of some primary search which has to be previously displayed right that\u0027s to already be proven on the connection yes right and that if this is intended to fend defending against this defend against the scenario where um where the certificate it was difficult all right yes okay and so ends the ends of the concept is the concept here is that on is it that certificate presume that the height of the DNS for that certificate I mean well when I break this when I break into the CDN and I steal like the secondary search I stole auto service right I said all the private keys right so I got them all but the assumption is that I would have to have gone to the DNS for the primary right whatever the DNS is for the primary yes you have to control that okay and to compromising the CDN is not the only way you could have gotten that cert if it was one that the client had issued themselves and then given to the CDN sure okay I\u0027m not to think this thing is real about so say I don\u0027t remember if I have "
  },
  {
    "startTime": "01:10:14",
    "text": "okay yeah so we have the to two discussions here of focusing on just the compromised cert are we 3rd IETF having basically the same proposal are we comfortable that for that problem this is the right solution or do we have other things that we should do instead and for the compromised circuit for the miss issued cert case do we have other questions here of exactly how we want to handle this I\u0027ve heard some suggestions in hallway conversations this week meeting maybe we want to require a CAA record to bind you to a particular CA so that you know you reduce the scope of your miss issue and I see that bringing lots of people to the microcell actually before we go there I want to ask this is Nick Sullivan CloudFlare um I want to go back to the slide where you have required star and I\u0027d like to ask whether or not required star bypasses this ability to track down a minute a stolen certificate or it having required star yeah when it comes to miss issuance though if we didn\u0027t allow require star we could and we require an actual domain name then we actually would have a breadcrumb for miss issuance that is true so which is on one of my other slides for I have the axes one of the points is if we hear about this reduce the scope of a wild card in the department all right so yeah I just want clarify that point and and then the other piece is yes as you suggested there are four some types of certificates such as signed exchanges additional requirements to validate something in the CAA record so that it\u0027s much more difficult to mission miss issue I think that might be a potential helpful situation here for any certificate that has it requires in it yeah and one thing I know you had suggested before and I forgot to mention was putting AC a verification requirement that to have a requires extension in your search the CA has checked the CAA record so mutton Thompson I like the CAA thing is a belt and suspenders and glue option here I think that the simplification that we\u0027re looking for this is already a lot simpler than what we saw in in Bangkok the simplification is to take that requires star option away and and have it you have CDN comm in customer one comm certificate and therefore every "
  },
  {
    "startTime": "01:13:18",
    "text": "everyone else can just point to that I\u0027m not sure that what the star is providing I\u0027ve based on a second look at this one so words providing is for the cases where customers bring their own certs speaking for Akamai we\u0027re not gonna let a customer put Akamai under sir we\u0027re not gonna let a customer that\u0027s the concern yeah it\u0027s the BYO said yes so then basically the trade-off you making is if you can\u0027t have a require star then the CA the CDN will have to issue a separate certificate for each customer right that may actually be okay with it I think we\u0027d have to ask the CDN folks with whether this is a deal-breaker but that particular one is probably something we could we could work with the other thing I was going to get up to suggest was that if we have a cin record at CAA record can actually include cbn.com in it so that when the the CA verifies and issues a certificate for that domain look at the CAA record and only ever issue something for cbn.com or what have you and that might be even more glue and maybe maybe nails this time so I have to admit I haven\u0027t looked at the syntax of CA a closely enough what okay it\u0027s just text okay Oh Watson light here from CloudFlare um I\u0027m a bit concerned with the fact that we\u0027re looking at Miss issuance and saying that well through some issues insert we have no indication of what\u0027s going on and this is very surprising to me I thought CAS had to keep records of all their issuances explain why they issued the certs and if they couldn\u0027t provide those records and there was a problem then the banhammer falls on them and so there\u0027s I\u0027m just a little confused by the miss issuance try it sees me it seems to be going around okay we need more of it and of course Marvins it\u0027s nice but we should already have reasons above its CA should already be checking CIA records yes they should and if they\u0027re not then that\u0027s a problem it needs to be fixed in the in the ours so I think what I hear you saying is don\u0027t worry that much about miss issuance because there\u0027s already enough data no I think the I think why I\u0027m saying is worried about this issuance and if it\u0027s extreme worry here then there are bigger problems out there because IP routing is not at the state that is not great DNS redirection so those are things you know yes it makes the bar a little lower but there\u0027s already bad stuff going on so someone Thomson one of the principles that we used with doing this musician once thing "
  },
  {
    "startTime": "01:16:19",
    "text": "is is not so much worrying about those sorts of columns yes people can hijack bgp and they can do DNS things but the the key here is understanding that there\u0027s there are a lot of these records that are produced and yes everyone is ordering these things but they can only order this audit those things to the extent that they are auditing those things and the people doing the auditing might not have any more information that\u0027s relevant to the particular scenario than the person who was issuing the certificate in the first place and so the reason that you want that one of the principles driving this is saying well if I\u0027m the owner of a of a domain I can look at the CT logs and get alerts for things that I would generate it and I\u0027m really the only one who knows that I have requested a certificate be issued for the for that name and if that if something appears that doesn\u0027t appear in your database you can then take action and so there\u0027s there\u0027s layers of defense that we\u0027re talking about here and this is probably why we don\u0027t want to have things like the requires star in here too often and we probably want to have some rather extraordinary circumstances under which that is issued because it removes that that breadcrumb trail that you\u0027re talking about right it\u0027s an explicit opt-in that I think I can keep good control of my service to take that risk actors can give us comment in this round but we\u0027re gonna look at some issues so we\u0027re not done with secondary search I\u0027m just I\u0027m sorry like I\u0027m just like I didn\u0027t give her sleep loss that\u0027s I\u0027m probably just super dumb but um I read the spyware this PR again and I\u0027m like watch the presentation but I\u0027m still like a little confused I think that some of the mechanism is on but like so um so I\u0027m like I want my I\u0027m gonna get my my my certificate you know hosted by like some CD yeah right I mean my site is presidency yeah so I get a certificate and when I wave you I want is that you know that they went to the CDN to visit Missoula calm and then they make her and then and then they can make a request for like org if I\u0027m not right that\u0027s that\u0027s a behavior i watch um and but like as I understand what I mean unless I\u0027m missing something like the the set of the means they come in on is like random distributed and I said it means they what is like randomly distributed which means that like like I just understand like how how I don\u0027t end up with require start all time is it that is it are they spoke to some other some other secondary certificate the hints through you always okay so the ideas I\u0027m supposed to say like I\u0027m supposed to say my thing CloudFlare calm and then when the on and then when they and then when they and and then to enable secondary search like you said they come in on this a lot then they secondary start CloudFlare and then finally the 2nd distr RTFM that\u0027s the idea supposed to be so then I don\u0027t understand why you need the start but it seems like seeing as you publish the name of that damn thing well where the "
  },
  {
    "startTime": "01:19:20",
    "text": "star would come in is in the CD insert if you don\u0027t allow star then they need to issue a separate search for each of primary domain that you could have come in on versus require a star they could just have one no I guess I\u0027m not understanding that because well I was when I was microphone yeah please okay so the situation is there\u0027s ten different sites you can come in on and each one of those sites can have any of you know a thousand secondary certs so if you had star then we would all as a CBN you would only have to issue one hinge cert that would work no matter which one of those ten you come in on you so each one of those you say require star and it has cbn.com in the sand and then every one of the thousand certs that are say issued by the CDN have require cbn.com on them so you can take any of those thousand sites put them onto the hinge and then put them onto the one of the first ten does that does that make sense no I\u0027m suggesting is I guess Bob testing is you do to secondary cert on proofs yes okay then I really don\u0027t send with ricardo\u0027s I guess because like we now have all the co-authors for that back microphone so so you might arrive on any one of a thousand certificates in order to provision the seedy ENCOM certificate and in order for the client to add CDN calm to the set of names that the connection is good for that certificate has to point to one that you already have in there right so you you know ABCD efg that has to point to every single one of them stop I mean I mean yes you can certainly build the system that way but like that\u0027s just because you\u0027ve got like some mechanism you\u0027re loading like you know just like just treat just treat the proof that you have the seat that the the like the enabling serve that\u0027s like a totally separate thing like so so the I mean like the what like what I\u0027m suggesting is that basically that the you the thing you say requires has some like long ass like random name which isn\u0027t as play with anything which camp you record which can\u0027t isn\u0027t even origin right and I mean or community but in other words you actually serve the offer right and then you prove that you have that and that doesn\u0027t suddenly enable the secondary circus just hang out right and all it\u0027s doing is enabling the other things and they don\u0027t need require strong right so I think at this point we need to make sure we have an issue up and it reflects this that\u0027s 522 all right servers can\u0027t detect attacks so work well yep well pursue it there and I "
  },
  {
    "startTime": "01:22:22",
    "text": "think we need to move on to this the others are editorial I will mention that there is one issue that was opened by David Benjamin that I feel like doesn\u0027t really belong in secondary search and I told him to write a separate draft and he has done so so we are behind on the agenda somewhat hopelessly and there\u0027s a reason we organize the agenda with the adopted work first that\u0027s flow control with nothing else for our ability to accept new work and so to anyone that isn\u0027t going to make it in today you have my personal apologies but that is the priority okay so this one is for an issue that we discussed at the quick interim in January and basically came to the conclusion that we think something needs to change and it is too drastic a change for the quick working group to decide without the HDP working group so it got punted over here and we are then there\u0027s lots of overlap but here\u0027s the place to discuss it so the background for this issue RFC 3986 defines your eyes and it says that your eyes include a port the type of the port is designated by the type of the port designated by the port number TCP UDP SCTP is defined by the URI scheme okay so next long long time ago we defined that the default port for HTTP over TLS is a TCP port 443 you can run HTTP over TLS over a different transport we don\u0027t specify how that maps to escape next in our most recent updates are the HTTP drafts we say that if you use a different connection protocol you would presumably use a different URI scheme but we don\u0027t know what that would look like and also it is the authoritative interface for HTTP that is specific to TCP all right so HTTP and HTTPS are specific to TCP as defined next one so for HTTP specifically we say that it\u0027s governed by a potential HTV origin server listening when a given TCP port TCP port 443 is the default so where does that leave quick htv-3 there is currently no defined way to refer to a quick an HTP 3 endpoint by URI and if you if you have an HTTP URI and you wanted to go that know that you can use h3 and go over quick how do you get there and have an authoritative delegation what constitutes "
  },
  {
    "startTime": "01:25:23",
    "text": "authority next so the first option long live TCP right now we use teat million we use old service so you have to connect over H to get the alt so this header or frame back and then you have an alt service record that says in the future you can use H 3 which goes over quick ok now we always have to have TCP always in forever until we\u0027d find a way of getting an old service record without going over a TCP connection first gives us the nice property that we can get a quick version hint along with the old service record but there are people who are unhappy about this and understandably so if you get an HTTP URI you kind of like to be able to use the latest version of HTTP HTTP to get to it except we\u0027ve currently defined that that\u0027s not an option next so we\u0027ve looked at various ways of mangling the URI to try and express this I think it was Martin who referred to number 2 as a disaster of nuclear proportions so third option so a third option we just do dual stack so 3986 says that the definition of the scheme defines what the transport protocol is we\u0027re currently in the process of revising the documents the specify the scheme 3986 doesn\u0027t technically say there can only be one we could say that if you see an HTTP URI you\u0027re allowed to try both remember which one works there Co authoritative and what that would produce for us next slide is even happier eyeballs than we have right now so I mean there are lots of considerations that we have to make here next slide [Music] [Laughter] so I mean some of this is future future looking will there ever be a quick only server that doesn\u0027t actually have a TCP endpoint what does it mean for current servers that don\u0027t know or run quick that somebody can listen on a UDP port even privileged one and become Co authoritative with the process that thinks it\u0027s okay running on port 443 I know for for us and our deployment we\u0027re trying to carefully manage how much load is going too quick by only giving old service advertisement out to a fraction of clients and if clients are allowed to "
  },
  {
    "startTime": "01:28:23",
    "text": "just willy-nilly connect to both sides we lose that option there are a lot of issues to be weighed here and I think we need to make a decision about what is the right way to declare an h3 endpoint authoritative for Europe because right now we have some arguments that h3h to Co authoritative they\u0027re all the same content versus you have to have an authoritative delegation and the start of authority is that tcp point is defined so let the spec floor your spec flooring begin so just one kind of clarifying question to the group that\u0027s going through the line about what is the question to the group I could kind of see it decomposed potentially into two separate parts there\u0027s the first bit of saying can HTTP like will we allow that to be used for UDP because like you could imagine a schema which out-of-band like with alt serve you say this is allowed to be quick and then you just do it even though the user typed in yes and then there\u0027s the secondary mechanism of how do we signal that which I think could be a much longer broader tail of things so I was assuming that by defining alt service we had already answered the first question those yes it may be good to spike confirm now with that okay because then that opens up a different field so before we get into the latter part of the discussion is there anyone who would like to jump the queue and argue that only the two only the TCP endpoint is authoritative at that URI and it cannot delegate to anyone else and we were wrong and 78 38 I\u0027m seeing no one okay gee who\u0027s gonna jump the queue based on the first half of that sentence makes me worry Martin Tolson so it turns out that HTTP kind of always aspired to being able to resolve different types of your eyes and so when we put an HTTP URI into a quick connection we\u0027re not doing anything more than that the question that we need to ask ask ourselves is whether this is actually someone we should be sending that request to in the first place and this is really the question that web we\u0027re asking if you think about the way that this is in the domain fronting scenarios that happened recently it was most of all the send using any SNI any connection to these servers you could send a request for some resource on a different name so you would connect on a and then you would make a request for B and it\u0027s also possible that you might say have a connection to one port and then you make a request for a service that is ostensibly on another port so we "
  },
  {
    "startTime": "01:31:23",
    "text": "have all of these things are possible and some of them are possible because attackers can change which TCP port number come a request comes in not that this is not authenticated in any way but the way that we deal with this is we have the host header field which contains the clients understanding of who the request was directed towards and the server can use this information which is now authenticated to determine whether or not it wants to answer the request obviously it all these servers can all the servers on the site the same name can answer the request in the same way the certificate is good for all of the different port numbers and it also turns out that the certificate is good for the the the UDP port as much as it is for the the tcp port by design in fact and so the only thing the only question that we really have to ask ourselves is whether we want to allow this and the problem is that we sort of allowed it anyway accidentally because the post header field doesn\u0027t include the protocol and so I\u0027m gonna suggest that the coauthors Eve answer is the answer that we\u0027re looking for this is an important topic and a very long line so if you would like to be heard you know please get into it now you will be accommodated yeah so I guess a couple observations um um you know a bottom of the bowl as those you know various URI of options you presented were the bottom of the bullseye actually the first problem the first problem is any of those you are any any any one of those um like that is not like backward compatible with existing HTTP your eyes like a non-starter because no sane person is no same first things like for the URI like EPQ nobody can dereference so like maybe like you know maybe you like you know shove it like some query programs or something or some other place the partials to know about but like or like it goes like this is not just gonna work right so like I mean like and I suspect like I don\u0027t we\u0027ll come kill me if we kind of shove it somewhere that it didn\u0027t agree in the in a career program so I think that\u0027s it basically they\u0027re all kind of monsters um maybe sometimes you put RIT than I do but um so I think we\u0027re kind of between like like um so the real question is like is it reasonable give an HTTP URI they\u0027re just like you know I only try quick without like any other indication that it\u0027s that\u0027s cool right um and I guess I\u0027m not here like spec lawyer you about like what the specs actually say cuz like we\u0027re allowed to do anything what we can take up the specs like we have to be concise etcetera right um so I\u0027m gonna make two arguments the first is that as a matter of like you know architectural philosophy like the minute we decided like connection coalescence without like you know without without dienasty reference was like cool we like gave up on the idea I don\u0027t like that actually mattered but anything other than certificate actually met and so the um so so the relevant thing the relevant proof that you\u0027re willing to like it\u0027s "
  },
  {
    "startTime": "01:34:23",
    "text": "really willing to be this host is that fact that you have a certificate and the host name in and that is true and that\u0027s just as true and quick as it isn\u0027t as an issue ordinary tea she goes over TLS um and if that\u0027s the same source and it\u0027s like that\u0027s the same like her to graph reportable right so um um so from that perspective I think like the natural answer really here is if you\u0027re gonna htps like totally just right quick and like people who don\u0027t like wanna support quick like you know um don\u0027t this work quick and people don\u0027t wanna some or quick and somewhat like some of them you know only one have personal quick to find somewhere throttle and like isn\u0027t all service I mean so what\u0027s it like my expectation is that most clients are not gonna like happy eyeballs this for a while because there isn\u0027t any quick and so like it\u0027s like a waste of energy to happy eyeballs but at some point like well there\u0027s like a lot of quick than happy animals make a lot of sense of people\u0027s are doing it so I suspect actually as a matter of throttling you\u0027re probably pretty cool for a little while tenor nail trying to be really quick the number two we actually tried in the past doing this decoration for the late and much beloved iris protocol which included a number of different transports including the much lamented and deadbeat it was a disaster not of nuclear proportions because iris was never popular enough to be nuclear proportions but it was an utter and complete disaster for the the scope of the protocol that was involved with don\u0027t do that it\u0027s horrible please stop don\u0027t for option three I agree with most of what Acker said there\u0027s only one thing I would I would say here is there may at some point be some use for having a URI that that tells you that something doesn\u0027t speak TCP and therefore it is not worth doing happy eyeballs to it but I think that this is far enough in the future that you could all service in the other direction if we\u0027ve gotten to happen happy eyeballs there to say hey I\u0027m gonna start putting up quick and telling you that there\u0027s also a TCP or not telling you that so I really don\u0027t think there\u0027s any reason not to go for this is the baseline expectation and I realized that it\u0027s not what your ice pack said but having worked in the URI registration game for some time now we moved from trying to make the spec gate how your eyes worked to recognizing how people were actually deploy them over time and I think this fits squarely in that in that change right Q is now closed mark donning hem God go back to the 7230 texts please the next one geez yeah this is fine so uh the word potential there is is very important it it means that you don\u0027t actually have to go and make a TCP connection it\u0027s just establishing Authority for that URI I "
  },
  {
    "startTime": "01:37:23",
    "text": "don\u0027t think this needs to change I disagree that we need to do number three because the only time we need to consider this is when we deprecate HTTP one HTTP 1.1 and HTTP 2 because they are all still running they\u0027re all still established in the authority I don\u0027t think we\u0027re gonna need this for the foreseeable future it doesn\u0027t mean that you can\u0027t still happy eyeballs if you want to and so no op I can see like Ted mentioned a potential future where we establish a URI scheme for not browsers to use but for example if I want to configure an Origin server for a CDN and I want to say that it\u0027s htv-3 yeah let\u0027s come up with the URI scheme but let\u0027s put huge red warning lights around that that\u0027s not for use in the normal web and there a couple of ways you can do that we can also see a future where we find a way to convey an alternate service in a DNS record which I know that folks like yourself are interested in probably still we know those conversations but I don\u0027t think we need to change this text he inspire go can you go to number the hpq slide anyway I think I just yeah these are under playable right like no one\u0027s really I would be reserved I would be interested in either DNS or like a link or you know and that attribute or some other you know web sort of sort of thing that allows something similar to happen via don\u0027t don\u0027t mutilate the your eyes but um yeah everything else I agree that grazing others Akamai so I wanted us to think about the primary principles that we should be having if you should basically don\u0027t break the internet and right now and I don\u0027t want to be a protocol lawyer and try to figure out the meaning what particular world to put more meaning on and less but right now quick is very young it\u0027s almost well some people can say it doesn\u0027t really hear to exist implementations and you\u0027ll have operators who are trying to try it out and they will try to roll it out they will want to be able to control how they roll it out because they will know there are bugs performance problems interrupt problems and potentially loading the infrastructure problems so whatever we wanna do here we shouldn\u0027t just say let it happen i ball right now and or if you want to do it the clients wouldn\u0027t implement it because the eyeballs will definitely be not happy just in the interest of saving thank you in the interest of saving time if if folks are in line to argue against those options it\u0027s not necessary we get it I think "
  },
  {
    "startTime": "01:40:23",
    "text": "avoid talking about so the alway talking about that the happy eyeballs one which I would +1 to the risks there but the I think for these two cases one of the key there\u0027s a normal case and there is the custom client case I think for the ethically for the custom client case where the client and server really want to use a quick for something and only support quick I think that might be worth separately looking at that class of problems along with we like maybe over in caps or someplace similar if like how we want to configure up these things because it\u0027s not just quick it\u0027s probably a set of transfer parameters so you look mark mention the the the configuring a CDN origin there are a lot of other parameter factors trying to cram all those into a URI is just not going to work so that might be a class of things were thinking of it on its own I think for the youth for the web case with airport web the I think DNS is an area we may want to start looking at it and I think there\u0027s a bunch of areas around right now and like the the on DNS ops there\u0027s a male probably once a month of people saying why don\u0027t those damage DP people use SRV records or make their life easier the it may be that between yes and I keys the a name stuff the has a HTTP record draft that Mike\u0027s alt service draft time to really take to take a step back and say what are all the things we want in a HTTP or HTTPS DNS records that solve a few of these problems and just do that in a way that we can kind of get this sort of negotiation there rather than try to piece of piecemeal it together hi Lukas Marty um so the old service options one of the potential ways you might want to employ this is to have a kind of matchmaking or much making a broker service so something listening on TCP that\u0027s intended to design a handoff to different quick end points but the question of load is really interesting in in this perspective because although it should be fully authoritative and answer to everything it doesn\u0027t want to and so scaling of these things where we want quick to handle most traffic and not have something scale to handle TCP traffic at those levels is difficult and so those options with DNS they\u0027re quite interesting because if you never hit an origin of TCP and you well if you do hit an origin of TCP and quickly go over to quick we need to think about the fallback story and by the clients what they do that if they have nothing to fall back to because they got an answer from DNS to me that seems like a better way to transition into this quick future Roy fielding so my understanding is that this is about the situation where you want to do quick first and you haven\u0027t been told already that quick is available so in all of the other cases "
  },
  {
    "startTime": "01:43:24",
    "text": "don\u0027t matter because you could get information otherwise RFC 3986 is deliberately intended to allow this it is a mapping from identifiers to delegated naming authorities it\u0027s not an instruction to go use HTTP on TCP port 80 whatever above that it\u0027s not that\u0027s not what it says it deliberately allows this option 3 and the this is in HTTP core we have an issue 194 which is currently discussing this yes we read it after the interim right so we should refer to that I\u0027m talking about and for me the only thing that really matters is whether the result whatever we do is consistent with the social requirements of HTTPS which is that the communication be authenticated with the intended Authority before you start sending requests and an decrypted without authority and near as I can tell after our discussion we had Martin earlier that\u0027s sufficient and only sufficient to rely on the the certificate that\u0027s provided so we\u0027re left with the decision is like well if if a site has a certificate and they claim to be a secure site they have to maintain control over the UDP port if they have a TCP server on HTTPS and that I think is a simple a social host requirement that the IETF would impose not a technical issue Eric Kinnear Apple I I would reiterate that I have a very strong interest in being able to just up and connect without having another source of information but that being said when other sources of information are available I definitely planning on using them and and and doing that and in the interest of keeping this short I will mostly just agree with what ekor said in that the incentive structure is already correct for doing kind of the right thing here as quick becomes not super available to very equally available to maybe even mostly available tomorrow a chunk of curry juleps or I got with the guts to the option three I want to point out that for a decade already huge an unexpected amount of for UDP packets of almost an MTU size coming to the port 443 was always a good sign of a DDoS attack and it\u0027s actually used as a detection method so I believe the option three heavily violates the principle "
  },
  {
    "startTime": "01:46:25",
    "text": "less surprise and can cause some potential false positives in real life I think that\u0027s a cue Scott I think that\u0027s a and interesting point and something we should use close thank you everyone case closed okay I\u0027ll send it on I\u0027m going to go Acker speed let\u0027s go proxy status news draft next slide squid gives proxy errors in this format next slide fastly has documentation about how to proxy errors in this format next slide this is how Claire does it using HTTP status codes go Claire flare taking them all next law I\u0027m not gonna talk about how bad that is because I love my fellow colleagues next slide this is how it is done in Oh this is Google cloud thank you next slide and this was a so I wrote up some stuff I saw this and I\u0027m working on how to make interfacing with CD ends and and and reverse proxies more normal and then I came across this which was by Peter hi Peter who wrote how to do this for Envoy and we started talking and he came on as a co-author and we came up with next slide this draft which is huh right right let me go after speed come on as we came up with spec next slide these are some examples it\u0027s a response header that are a proxy of some intermediary excuse me can put on two responses to explain why it generated an error response or otherwise adorn the response even if it\u0027s successful from the origin it\u0027s still in progress we still have a few open issues against it but I\u0027ve talked to a few people about it it seems like people like the idea of doing one things one way instead of 15 different ways and so next slide I\u0027m asking is this interesting and do we want to adopt it Alessandra Claude Fleur I\u0027m not gonna propose to rename this don\u0027t worry so we have some uses for this as you mentioned that was one of those so I\u0027m interested in working on this okay I don\u0027t want to spend a lot of time because I\u0027m very conscious we have a lot of other folks can we just take it to code option to the list or something or did you want to hum I\u0027m sure if you\u0027re sure yeah right sure um well now you just displayed that "
  },
  {
    "startTime": "01:49:27",
    "text": "I didn\u0027t see it before you definitely want to make that cash status the other yeah that\u0027s what we got this is what I was referring to yeah okay well have that conversation sure all right so it seems pretty clear we have interest just to get us into the room for adopting let\u0027s do a quick come on that if you would like to adopt this work please hum now if you would not like to adopt this work please tell now okay that sounds good will confirm on the list thank you we got time we have time for one more left in our show today so uh the update on HB 2 is transport from here yeah if you take right if you take marks lead we can hear a little bit about statehood compression all right all right super lightning speed I\u0027m Erica Lewis microphone is great I\u0027m Eric Kinnear from Apple we talked about this a little bit in Bangkok and it looked very very different than so thank you for all the feedback because some of that\u0027s been incorporated and some of that is pending on being incorporated so there are several gaping holes here that we will totally fill in we talked about this in TS vwg so you can go watch that if you want more details which is gonna make us go even faster right now but effectively we\u0027re trying to do a bunch of stuff that lets us use h to to share multiple streams that would otherwise be separate transport connections so we want that all on one transfer connection and that brings some interesting benefits like you\u0027ve already got this connection up and so you have this nice security context that\u0027s already established and you can just make new streams over it everybody\u0027s happy there\u0027s also some issues with that like you now introduced head-of-line blocking and if you\u0027re gonna be doing UDP and Datagram transport you\u0027ve got all sorts of fun MTU questions etc etc and that sparked the the wonderful thought of who this is yet another way to tunnel things in TS vwg which brings in a whole set of considerations on what happens when you tunnel things and you put congestion control inside congestion control and what could you possibly shoot yourself in the foot with so we asked them kind of where does some of this work belong and especially in the newer form that is very issue p specific because the definition of how to do this is very specific they said it\u0027s something that should probably be covered by HP bus\u0027 but at the same time please do continue discussing it in TS vwg especially around some of the tunneling and transport considerations versus the specific header and protocol field values that that the spec defines me so that\u0027s the update from TS pwg in lightning speed we want to do this because we\u0027re sharing underlying transport stuff yay HB 2 is great because it gives us a lot of what we want and we\u0027ve got this nice connect thing that you can use to talk through the server to some other end point and that WebSockets has this extended connect thing that lets you talk just directly to the server and open streams in parallel with your other requests and responses you can bike shed "
  },
  {
    "startTime": "01:52:29",
    "text": "wire formats for framing to add UDP and that\u0027s very exciting and you\u0027ve got these nice headers that you can add other things too so like WebSockets to find some custom headers that help you negotiate WebSockets this allows you to add that to any of these requests to talk about what the next protocol will be etc etc the document itself defines two new protocol values for the extended Connect handshake one of which is byte stream one of which is Datagram byte stream gives you a new stream so when you send this to the server saying my protocol is going to be byte stream plus presumably some way to know what\u0027s going to be used on that you now have another stream that\u0027s in parallel with your other requests and responses but is just a bi stream for Datagram tossed in some framing you\u0027ve got UDP it goes through there\u0027s some concerns that have already been raised on the list thank you for those we should try it out those um can I get the next slide apparently oh how could you yeah thank you so this cover is ninety percent of what we want and a lot of really interesting use cases that we\u0027ve been talking about with various people and we can talk about those more in detail later or if you have another use case come find me and I\u0027d love to chat but the one that we haven\u0027t talked about yet is quick and since we need quick and every presentation we\u0027re going to talk about quite transport so HTTP three over quick transport talks to HTTP 2 over TLS TCP when quic is not available but we need to know what quick transports go to do if there\u0027s no HTTP 3 on top h2 gives you a lot of the same things that quick 2 as the framing layer separate from the HTTP layer some of that admittedly is coming from TLS and TCP like you know retransmitting losses and things so we make a new setting to say hey I can send the extended connect in another direction to open a stream from the server to the client and if you do that and write some other text about exactly the mapping and frame to frame this is one way and I\u0027m sure there are a great many others in which you can use this to run protocols that would run on quick transport over here so in summary we add some new protocol values we add another setting to do it in both direction for the people who want that and yeh so Ellen we\u0027re actually going to not take questions on this one you try to get another one in let\u0027s chat yeah absolutely thank you for the presentation this is great work and I want to continue to see it you know just discovered in our space Felix stateful compression and although you oldie but a goodie you get our last yeah what is back well just like school hi I\u0027m Felix I\u0027m gonna try to do this in like two minutes next slide I work on Z standard at Facebook next slide I want to talk about improving HTTP response body compression in particular for small responses using an external dictionary next slide basically compression sucks on small values next slide using it using an external dictionary can make compression better especially for small values next "
  },
  {
    "startTime": "01:55:31",
    "text": "slide there are lots of possible places you could get this external data some of which already exists that you\u0027re already handling other ways would be dedicated data that you prepare for this purpose next slide there have been a lot of proposals in the past that explore these different ways to source data and use it we are next slide they have all sort of met various demises there are some challenges in this space anytime you\u0027re dealing with state things get more complicated but particularly in this space there are security challenges next slide sorry next slide yeah compression in general in HTTP is a security challenge I think we all know this and it\u0027s sort of an open topic in some ways so next slide we are working on exploring Murray and I I should say are working on exploring the security challenges as they pertain to the use of dictionaries for compression we hope to have this draft adopted by the working group at some point I think there\u0027s more work we need to do before that happens next slide and then the other thing I am working at Facebook to deploy a dictionary based compression system to our traffic between our infrastructure and our mobile apps we\u0027re starting with a static dedicated dictionary we hope to evolve beyond that and we hope to do this in a way that will reconcile with some future standardized way to do this that could be implemented broadly we expect to see these improvements next slide so in conclusion we\u0027re looking for interested collaborators implementers browsers in particular we want to talk about what it would mean to ship something like this next slide Thanks Thank You Felix Brian sniff and make your way to the front please I think that that last presentation is important we\u0027ve been asking for this sort of level of detail for a while it\u0027s there\u0027s a lot of interest in this area so please do continue that work people please read the draft and we\u0027ll hopefully see that I can see Brian go you should read the draft next slide right now CD ends all of them end up getting pressured by their customers to separate the world into a place where everybody can see and some organizations can maybe shame people like new sites that were only using HTTP into using TLS but then the browser\u0027s talk to the CDN the CDN goes forward to the origin and an alarming number of origins from sites that might terrify you if you knew insist on using non TLS for the CDN back to origin connection next slide please so we\u0027ve proposed for awhile standardized in some way for the CD ends to expose to the front to where everyone can see what\u0027s going on behind is this for browsers to consume next slide no it\u0027s not because if the browser\u0027s block missed customers are just gonna push on lie in this header that I\u0027m proposing you standardized so that doesn\u0027t help anything right getting this adopted requires the browser\u0027s to wait until the tiger is "
  },
  {
    "startTime": "01:58:32",
    "text": "well and fully into the box before we shut the door but there are a number of organizations that have put together fantastic dashboards to use public opprobrium to push the state of the art forward for this and that\u0027s what I want to enable with fastly with cloud fire with Akamai next slide how do you use it it\u0027s a header you use it like this original versions of this looks something like the top one where maybe you say by the way my customers doing something naughty asking the CD ends to do that maybe that works we\u0027re gonna try that but maybe there\u0027s too much pressure to set from the customer to say don\u0027t advertise that I\u0027m doing something naughty omit the header and a silent signal looks like good behavior that\u0027s not so great on the other hand we\u0027re moving into a world between perfect forward secrecy and postponed from crypto where we can advertise that the protocol to the origin and the background protocol is inside these complex CD ends and multi host networks has particular good features and it\u0027s a lot easier to resist pressure to lie by Commission instead of resisting pressure to lie by omission so we\u0027re at a unusually useful point to introduce a header like this and try to push some of these origins to support non plaintiffs communications backwards next slide it\u0027s also an opportunity to write down what\u0027s actually safe versus not maybe there\u0027s some things that you can do to be less bad while acknowledging that you\u0027re sitting horribly as you do this that\u0027s all I\u0027ve got I\u0027d love to talk to other CBN\u0027s about how to do this and if there\u0027s a browser who thinks that they\u0027re just gonna have to ship something that red flags this as long as soon as I put that header there let me know now so I can save my time thank you very much are you asking the working group to adopt this now or soon or yes please who\u0027s read the draft show hints who\u0027s read the draft okay uh-hum is not an official acts and actions I will take it to a list I think thanks that sounds good thank you very much and apologies to Jeffrey asking you\u0027re the only one we didn\u0027t get to bill yeah there was a dispatch video and there was also a side session so hopefully folks had a chance to get that thank you all we will hopefully see you in Montreal we do the best we can sometimes they\u0027re all there hummus "
  }
]