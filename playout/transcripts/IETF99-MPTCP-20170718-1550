[
  {
    "startTime": "00:00:06",
    "text": "thank you well that\u0027s very kind so could we we need a second person to help with taking the notes for the meeting and we need a volunteer and we\u0027re not going to start till we have one so that\u0027s very decisive isn\u0027t it thank you guys that\u0027s sweet so welcome everybody I\u0027m I\u0027m Philip heard Lee Yoshi couldn\u0027t make it this time I suspect he\u0027s on remote so hi - Yoshi and - the other people on meet EKKO if any of you guys want to say anything any point then we can try and get the remote system to work so we\u0027ve got two two sessions at this one the second ones on Friday there are the normal reminders the blue sheet has started going around I\u0027ve only sent one in because it\u0027s quite a small ring so hopefully that could you make sure you keep that meandering around the room that the blue sheet please here\u0027s the normal note well so here\u0027s our our agenda we\u0027ve got so we\u0027ve got a kind of a session about implementation news and recent experiments that people have done related to the implementation and some work that was done at the hackathon on Sunday so that should be really interesting and we\u0027ve got some news about the iOS implementation which is some also really good we\u0027ve then got a little slot on our protocol Biss work that we\u0027ve been doing a short update from Alan and then really a kind of room for discussion about that to try and work out when we think we\u0027d be able to push it through to the isg we\u0027ve then got a longer session about proxies and a related work - proxies so there\u0027s a couple of new drafts there from olivier "
  },
  {
    "startTime": "00:03:07",
    "text": "and from vlad so hopefully they\u0027ll be enough time there to get some really good discussion going and then on Friday we\u0027ve got a couple of other interesting talks so there\u0027s one from Marcus about a proposal they know how to do robust session establishment and one from Quentin which is a proposal for fast sub flow creation so both of those in theory can have some impact on the protocol Biss I think I think they\u0027re sort of proposals to him that could impact I I didn\u0027t think there was time to squeeze all of that stuff in to one session so we\u0027ll have a little wrap-up at the end just at the end of Friday just to revisit what we think we need to do on the on the protocol base that was the agenda did I forget anybody requested a presentation slot or anything everybody happy excellent so just two slides about working group status so firstly about completing the completing the Biss which is our primary goal of the working group they\u0027re completed on the on the standards track we need to complete agreement on some of the items that Bitton raised we\u0027ve been working on the last few meetings we had a talk at the discussion about this at the last the last meeting in Chicago about our different choices and we basically decided to wait for implementations to catch up with what the new one or two of the new things that been added in in the in the best document and because clearly in order to be on the standards track we need some implementation to go forward so hopefully we\u0027re getting close as we will discuss shortly to being able to then push that on [Music] the the other activity we\u0027ve got some going is about multipath TCP proxies we had a good discussion about this at the last meeting in Chicago we talked a bit about kind of assumptions and criteria and we had agreement that minimizing the set-up time is an important criteria for any any solution in this area and then we talked a bit about the the three high level solution approaches that people have people have mentioned so I think the to summarize what happened in that that meeting most people favored one of those which was which is the which was called the the plane mode raft however when we when we did a more kind of formal look at that on the list we didn\u0027t really find an approach that quotes everyone can live with which is the definition of consensus or one of "
  },
  {
    "startTime": "00:06:09",
    "text": "the yeah it\u0027s the definition that we\u0027ve suggested you use so from that we think that more work is needed so that\u0027s why we\u0027re having a lot more discussion here at this meeting and just to alert people I guess most people here will know about the banana both that happened yesterday which was a working group forming off which my interpretation is that when that went well and that there was no support for working group that was a charter discussed which was basically people like with some wordsmithing to go on so two of the things that working group should do is firstly determine how local and remote banana boxes which really means a proxy can find each other and secondly to look at specifying a signaling protocol to transfer useful information between the two banana boxes and then this this working this new working group will will say well you have to have to work with other ITF working groups I guess our grouping a key example of that on making sure those things meet their needs so that\u0027s something we\u0027re going to have to make sure we have input as a working group as individuals into that banana\u0027 activities as it takes off so that was it as an introduction any anything anybody wants to have further discussion at this stage right so first on the agenda is Christoph [Music] [Music] it\u0027s okay isn\u0027t it now hello this is just going to be a short update on the implementations of MP TCP or some of them understand it of them next slide so I will start with the iOS implementation [Music] as most of you know we are using MPTP at Apple since now about iOS 7 and we have been using it for Siri the use case for Syria is mostly because users have a tendency to use Syria why they are walking out of their home they use it why they are walking they ask Siri I don\u0027t know navigate to a certain "
  },
  {
    "startTime": "00:09:10",
    "text": "destination and so it\u0027s very common to basically lose the Wi-Fi connectivity why they are doing this so as they\u0027re losing Wi-Fi and Sirius just creating a single connection to the server to stream the voice over to the server and this connection is really critical if this connection gets dropped or gets closed then basically Siri doesn\u0027t work because we need would need to recreate a new connection resent all the traffic again to the server and so MPT speeds really a perfect use case for Siri and we have seen over time that we have certain metrics for Siri where we are measuring the performance and we have one metric that is called the time to first word that means the time that it takes for the first spoken word to appear on the screen so it\u0027s the time between you speak it until it appears on the screen and in the 95th percentile this has been reduced by 20% and has been reduced because well with M V TSP we are able to choose between Wi-Fi or cell and then the latest iOS releases I think since iOS 9 we didn\u0027t only use MP TSP for handover we also used it for latency reduction by basically whenever we saw that Wi-Fi is being too slow up to a certain threshold we basically started using cellular data and especially in then and the worst case scenarios like 95th percentile in those cases we saw the improvement of 20% time to first word and then also the network failures which is basically to see now you when people are walking outside of they\u0027re outside of their home and when basically Wi-Fi drops in those cases we saw a 5% reduction of those failures which is pretty huge so it was already very low but now it\u0027s really almost negligible the number of Network failures that we see with MP TCP from series specifically you know it\u0027s light so then we have heard a bunch of other multipath technologies in iOS also ready since quite some time now this one Wi-Fi assistance since iOS 9 and Wi-Fi says is very similar I brought this slider actually just because we also have another presentation coming up that is also very similar to our Wi-Fi assist which basically Wi-Fi says this the technology that chooses the interface for the initial sub flow so whenever we create a connection and Wi-Fi is in a marginal state that means the signal strength is too low or some other factors that make I always believed that Wi-Fi is not good enough then we basically we first create a connection on Wi-Fi and after a certain time out we create the connection over cell and so we take the one that wins this race and so this is kind of the way that allows us to choose which initial interface to to select and there\u0027s a presentation coming up later "
  },
  {
    "startTime": "00:12:11",
    "text": "empty SPEA robe from t-mobile I think or Dutch Telecom and so it\u0027s very similar to this now as part of Wi-Fi assist we have then added now in iOS 11 we also added MP TCP into it and so you can go to the next slide so in iOS 11 we are opening up MPSP as a public API so people can start using it and amputees be will be steered by Wi-Fi assist that means Wi-Fi assist is basically imposing some limitations on the amount of cellular data that an application can use when Wi-Fi is in a modular state so that means basically when Wi-Fi is available usually people don\u0027t expect that an application uses cellular data but Wi-Fi assist enables the usage of cellular data even when Wi-Fi is there and so Wi-Fi assist is simply putting a cap on the amount of data one can send on cellular when Wi-Fi is available and every TSP is just going to be part of this limitation and part of those triggers that send traffic over the cellular data and so in iOS 11 the opening up of the API will be done in three different ways we use the handover mode which tries to minimize cellular data usage at all cost the interactive mode that we are using for Siri and the aggregation mode that is available for developers on the site yep Julie\u0027s crop a clip just two quick questions so who picks the mode the user or the developer the developer okay and could this mean only for developers since the developer picks in any case what does it mean in your last point that it\u0027s only for developers Oh only the aggregation mode you can only use it on a developer phone that means there\u0027s the developer settings when you have opted in your phone and then you could enable the aggregation out this is Debashish I have one question like in Wi-Fi assist right when you are trying to steer towards cellular connection so now if there are supposed to interfaces on the cellular connection is there any way to choose them which one is the best two interfaces on the cellular connection yeah in iOS we don\u0027t support us yeah yeah at least possibility there will be two interfaces on the cellular connection so right now you\u0027re not considering we don\u0027t have such kind of videos guys no so we don\u0027t we don\u0027t care about that oh yeah yeah and do you do you have use cases whether we see some use cases where it is possible on the silver connection there may be two interfaces say two IP addresses the same I see okay okay yeah in other ways at the moment we don\u0027t have this so okay thank you so the "
  },
  {
    "startTime": "00:15:16",
    "text": "handover mode the ANOVA mode whenever Wi-Fi is available we only create a connection on the Wi-Fi interface and we don\u0027t use cellular at all we will only bring up the cellular data if Wi-Fi assist is telling us wait Wi-Fi is not good enough and it has a chance of dropping out so basically based on the signal signal strength only then we bring up the cellular data and we start sending the seller if we are getting a retransmission over white retransmissions over Wi-Fi we recommend the developers to use the handover mode for example for long-lived persistent connections the interactive note the interactive mode we use Wi-Fi and cell at the same time we bring up both together and we schedule the traffic so that we minimize the latency we still send more traffic over the Wi-Fi interface but if the later seems a little bit too high on Wi-Fi we send traffic on the cellular interface and that\u0027s the mode that we are Apple we are using it for Siri and that\u0027s the one where we saw the 20% latency reduction for the time to first word for this particular mode we will recommend to only use it for latency sensitive and low volume flows because they can actually send quite a lot of data on cellular interface if an application developer would use this mode and would send too much data what will happen is basically the Wi-Fi assist will blacklist this application and will prevent it from using MP TCP because we have those limitations that prevent an app to use too much cellular data and then finally the aggregation mode that we are exposing only for developers and the reason we expose it only for developers is because the aggregation mode will send a lot of data on the cellular link and we are basically looking for use cases what what use cases do you see or the developers see or maybe here in this room see where we where this tiny little bit of additional capacity would be worth the cost of sending so much data on cellular link because at best one can only double the capacity of the of the Wi-Fi link that\u0027s one well the maximum one can do and so the use case seemed to be very narrow and very specialized and not for the general public so that\u0027s why we restricted it for now only for developers next slide yeah and so that\u0027s all about iOS 11 the API is open and starting in September October we will be sending out the updates for iOS 11 to all to all customers and from that moment on we hope that many application developers will start using it and we will I hope that maybe in a year I will be here and be able to show some numbers I\u0027m gonna say that now let\u0027s get "
  },
  {
    "startTime": "00:18:18",
    "text": "to the next one to the Linux implementation on June force we have really released a new empty speech stable kernel it\u0027s based on version 4.4 of the upstream Linux kernel the new features in this release we\u0027re that there were two new socket options that allow applications to select the scheduler and the path manager we it has been several years now that we had multiple different schedules and path managers to use in Linux and they were one could choose them with the sysctl now they can also be chosen through a socket option one use case from PTC was where people were setting it up on a home gateway router for example and basically doing bonding of multiple interfaces and they saw that sometimes some sub pros were timing out because for example the net mapping got lost and when that this happened basically our in the linen sampling MPSP implementation was basically not recovering this sub flow so in this new release what we added is basically whenever sub flow dies because of timeouts or some other reason we basically create a new sub flow again so that this interface can be used again so that\u0027s also immune the new release and finally we also have an amputee\u0027s pn4 api to get more details about the sub flows materials about the state of the MP TCP connection so that\u0027s new on the linux side and the implementation is available on the usual website yep and that\u0027s that\u0027s all for my site marcos from Telekom I have a question related to the iOS implementation do you plan a future to the pradhan cheaper proxies from from the iOS itself we can I cannot make any statement about any more comments or questions thanks that\u0027s really interesting and I hope there are lots of application developers who to now start using it easily by the API in iOS it\u0027s great who\u0027s up next Fabian its Fabian here oh [Music] it\u0027s that one isn\u0027t it "
  },
  {
    "startTime": "00:21:23",
    "text": "let\u0027s wait I\u0027ve no idea what scheme let\u0027s sweep it up okay hello my name is Sarah Anderson and I\u0027m going to give some updates about the address advertisements a little building modification we discussed past the ATF\u0027s slide please so first on updates on the graph that\u0027s summarized or little balancing techniques and the adaptation we can make to impe TCP to make it work with load balancing so we added in a part on the application layer authentication that\u0027s been made by Alan basically it decouples the token saina saina in the option from the key used in for the authentication so basically it\u0027s an application layer authentication I think it\u0027s some words missing it it\u0027s okay but with the figure probably we will follow the next step for this draft is to add some security consideration because we haven\u0027t done it yet Cendant still important next slide please so about the addressed advertisements we discussed that Lots during ITF 96 and 97 out of 5 proposal we made we kept two which were the node join flag in the NPK pedal and the echo flag in the other dress so what was that makes like this just a quick recap of ideas the node join was basically allowing their load balancer to tell a client\u0027s please don\u0027t send an MP join on that address because it cannot be used to join so if we have the example with the green IP that cannot be used to send joined why because the load balancer rushing most of the time based on this I out of 5 stable so if if a join tried to join on this address the server may a shit 207 then it was not it would not join so you know John was just our window balancer to tell the clients please don\u0027t his address next slide please the other one was making the other was reliable it seemed important in all balancing and I will show why after but to make the other less reliable basically we use the echo technique so if you look here with an address with the echo bit to zero meaning it\u0027s a real other otherwise it\u0027s an address advertisement this one is lost so without receiving any kibitz to one the server will just send the address again until I receive an acknowledgement for that so the acknowledgement is the Eco bit slide please so with this we try to make multipath ccp friendlier to a load balancer than any cast oh well what was the point the point was we were trying to change slightly multipath SCP to make it work with existing load balancer also done has been work to modify a load balancer "
  },
  {
    "startTime": "00:24:24",
    "text": "to make it them work with MP TCP here we are taking the problem you know the way making okay we don\u0027t change one balancer because the other hand nobody is going to upgrade them to support MP TCP and we change MP TCP to make it work with those balancer how did we do that first we implemented the two proposal that\u0027s I present that just up just before so the no join in the relay bell otherwise and we designed as manager that was specific photo balancing use case X like please so what\u0027s the general idea of this load balancing path manager it\u0027s actually pretty pretty pretty simple say it\u0027s you have to add a couple ik IP address to each server I know it\u0027s sometimes complicated but this is the design we\u0027re trying to make so you had an IP a a public IP address that doesn\u0027t pass through the load balancer on each server it could be another an IP address of an ipv6 for instance and this is more realistic just so / 64 / 56 so you had a range on the server so the server can generate IPs and send them to the client so the server needs to advertise it terribly to the clients why because the idea yeah to put the load balancer off path so when the first flow is established the first thing the server will do is advertise the new IP address the one that\u0027s there directly connected to the Internet so the client can join this address then you put the first up flow in backup mode so you don\u0027t use it you don\u0027t cut it because it can still be useful if the new stuff Louis Katz but you put basically the world band\u0027s above path so you expect all of the traffic except the three or four packets that you have used for the three-way handshake and NDL address to go to on a separate link with this load balancer is kind of only used to match the client and the server so use the load balancer that we will make the decision you go to this or this server then you connect directly to the server and you don\u0027t use the road balancer connection again the implication of that is you don\u0027t need big other ways to make your load balancer you don\u0027t need a lot of availability because if the old man cell goes down during the connection the connection continues and that\u0027s the idea so you couldn\u0027t it\u0027s a bit of a stretch but you could make a verb and say we fellas vary by for all I know it would work slide please so the pseudocode for the load for the load balancing past manager is pretty pretty simple it\u0027s basically generating new IP y generating a new IP when you have arranged for some security purpose there is a discussion about that in the in a paper that I wasn\u0027t after but you could say ok I\u0027m will not just add one IP public IP address on my server because I don\u0027t want the wall wall to know how to directly connect to myself so on the fly here we generate a new IP in an ipv6 range and you advertise that new IP only "
  },
  {
    "startTime": "00:27:26",
    "text": "to that clients so the client will connect to that one and when the client disconnect this IP address is removed and it\u0027s not used used again so you generate the IP you advertise it to the client and you set the backup mode on the first step flow next slide please so how does this work with layer 4 load balancer and modify its load balancer on the most left part we have the traditional nut setup while basically all the traffic goes to the bandsaw upstream and our stream everything goes to the balancer in that case of a balancer about like because all the traffic is going to him in the middle you have the director Vuitton this is evilly used in the industry basically all the traffic coming from the client to the server is going to the load balancer but the traffic coming from the server to the client is using a dedicated dedicated link this is good when the clients download files but when you upload files to the bansuri still a bottleneck so this architecture who was we know that there are a lot of DSO the rates of return in the world so we were like you we could use those architecture to make better way of MPCP so if you look at the MP TCP figure the web traffic is the establishment of the first stop flow so the profits used to advertise the address and then in blue you have all the traffic that goes both ways before the club is in the client and the server so the load balancer is not used X right please so to evaluate this we took a very simple setup where you have 100 megabit per second link between the client and the Lancer dual-band service a traditional in Excel vs we didn\u0027t change anything it\u0027s just like it\u0027s using the world then all the server have a direct 1 gigabit per second link connected to the server we run a lot of clients HTTP clients that they are downloading or uploading files between the client and the server so what you will expect showing that is that the clients download that\u0027s hopefully one gigabit per second TMP TCP and what and hopefully 100 megabits per second in TCP X I please so the result they were a lot to figure so I will not be able to prove anything here because I need all the figures to prove what I\u0027m saying so you have two solutions you believe me or you read the paper after but if I have to present all the figure this discussion will be longer that the one on the proxy and nobody wants that so so what we see here is basically MP TCP is not affected by the loss yeah yeah clear clearly it\u0027s not ramping and fast but is because of the latency we haven\u0027t talked about millisecond latency if I you\u0027d figure without the latency you could see that actually NP TCP is not affected by the loss it could be if the address and that\u0027s why this proposal was important if the address is not available when you ever loss this will "
  },
  {
    "startTime": "00:30:26",
    "text": "impact NP TCP a lot for a big for bigger file size because we were unloading foggy foggy bytes in total splitted in one KB tanky be 100 KB so if when you have very huge file size if the other race is lost the faster flow will not be established and then it goes a lot in demo performance because you will download a big file via the 100 megabits interface so if the address is not available I can show the plot here because I don\u0027t have time but basically it affects NP TCP a lots because if instead of ramping up is just crashing because it\u0027s each other less lost means a big file that if to go to the 100 megabits per second link so the bigger file the bigger the costs of losing the address so with that kind of situation you really want the otherwise to be scalable at slide please so something else now we also apply that to any caste because yeah it was over and so but it also we any caste so in this simple schematic if the clients so due to server are announcing in anycast address the same anycast address so before the red cost if everyone wants to connect to the anycast address it will be routed directly to F 2 and then to the server if during the TCP connection the links between f1 and f2 fail then the client will be sent to the node that is connected to f4 then what happened to the TCP connection it\u0027s reset and we don\u0027t want that because if if I was downloading a huge file and then cut in the middle of that and the receiver he said I will have to start again probably so I don\u0027t want that so next slide please we made a setup to simulate that on the hotel here you have the anycast address that is routed to the server each each server does a FD anycast address and a public IP on the same interface so adjust the routing configuration we are not removing a link but each server is a though they have any case address on the loop back n feel big pie fix so what do we do we will send packets the Gouda will do some ecmp and basically just load balance the traffic among the three servers so what happened next please so what happened we simulated a reconfiguration is the network like I showed to slide earlier when an X go down so we have twist ever and every 10 students will remove a server from the ICMP pool so all the traffic will have to go to the two servers what do we see on this graph is in blue it\u0027s the total bandwidth so when everything goes fine we have hopefully three gigabits because each server is connected to via one Gabey link so you have three gigabits but not when one server goes down you have gone to 2 gigabits which is the sum of the two other links so that\u0027s expected so you see everything every 10 seconds we have a drop of hopefully 5 seconds because that\u0027s what we do and then we had it and that\u0027s why it\u0027s ramping up again in the head you know "
  },
  {
    "startTime": "00:33:27",
    "text": "you see the resets that we have received and that\u0027s that\u0027s the problem that I described earlier is when you are reconfigured to another server you will get a resets yeah you see that\u0027s we huge spike in resets when the server is removed from the same people which is logical because that\u0027s our cannot be reached or ashed to another server but we also well so see a spike in the reset when the server is started back again because a CMP just recomputes all the ash and then a fraction of the flow will be sent to the server so you will get is it in that case - next slide please I will NP DCP that\u0027s what we expected we have noted up in the bandwidth and notice it is sent why but because even if the anycast address the Frog fails the direct connection to the public IP address is not disconnected it means that no clients will be interrupted during a download sure enough if the server stays down and the connection from the client is terminated by the client and he established then it will react to another server but within P TCP you basically allow your clients to finish what they are doing when you are configuring the network so when you configure the anycast network you don\u0027t disking people they will just save the time to finish their download and then there will be actual another seller yes okay so in conclusion we made some simple change to impede CP and I have to insist it\u0027s very simple and that was the idea to make it work with unmodified load balancer we are improving the performance they are ability and we are solving the bottleneck problem we have reef net configurations and we also allow MPTP to be deployed and used in any cast service which is a new use is I don\u0027t remember everything anything said about that so all the results will be presented in a paper that will presented in October in ICMP in Toronto and that\u0027s it for me yeah I just wanted to clarify this is using vanilla 68 24 bits as it stands now this wasn\u0027t any further modification yeah no there\u0027s no magnification zhenya thanks unfold great thank you thanks for me Olivia oh it\u0027s not on again how is the blue sheet doing Weiss it got to blue sheet where is the blue sheet so "
  },
  {
    "startTime": "00:36:30",
    "text": "everyone I\u0027m Quentin and I will be I will do a presentation about jacket on we have done and to trigger some discussion about the RFC 68 24 piece so next slide please okay so we did a few stuff related to multipath CP some usage and so on to the socket API usage about documenting multipath CP and other stuff that are related to new feature added in a the piece version of the RFC sonic site so this presentation will mainly focus on these three propositions in the B\u0027s and so next slide so first the multipath experimental option so basically that this allows us to exchange a PAC data between them we are an option that can contain basically anything it was massive during the akhaten we partially implemented it so we learned the transmission and the parsing of the option reception and the main things that we need some clarification about this option is what about the speed so the synchronizing bit so basically what it does it says that when you say you set the synchronizing week you require that all at least you expect some response from the remotest and the question is about said to be reliable what about if for the the the packet that contains an option with a speed is lost do we have to ensure that it is sent or not basically yes it\u0027s an it\u0027s an open question action next slide so we might come back so about the deposit option so basically this allows enough to explain why our sub pro was reset on our MP TCP connection so it is implemented in in Linux so it\u0027s okay and whereas additional discussion about this so the first one is about we have to tip it that\u0027s that said that is the ero transionic not to know if it is worth trying to re-establish as the flow does that is to be taken into account if the code is different from the multipath unspecified reason for our set so for instance if you have let\u0027s say multipath specific "
  },
  {
    "startTime": "00:39:32",
    "text": "error does it has to be taken into account by the receiver also another thing is that the option today is only sent when we try when we decide to send the reset but we don\u0027t keep state about why we reset the sub flows because of memory reasons and resource reasons next slide please and about the reason code that we\u0027re defined the RFC we found some cases where we can define additional code so the first one is what about if you try to do a empty join with a token but the token does not exist anymore on the server you try to establish a new set flow does it works to have and you reason card or not don\u0027t then what about if as a flow time out for the remotest and but the connection is still awright so for instance you sent a lot of data on on one subfloor and then you decide to use a cylinder flow that was established much before but it was removed because the server didn\u0027t use the flow does it has to to have a special reason code for that also if we decide to remove as a pro because we had a remove address do we have to set a special code reason for resetting the float let\u0027s quickly tackle this but any deep any bigger discussion ship will be taken to the list but the general point is that MPT to be reset option was to be analogous to an actual to go on a TCP reset on that connection to carry some additional semantics so for example unknown MP TCP connection there really is no point in in sending that out you don\u0027t want to differentiate that you don\u0027t want to even go anywhere near the mptp West implementation for that time out again the reason code to all things that I\u0027m probably remember now when we talked about the reason codes the general logic was if if we could either be useful for an administrator to analyze a problem or for a for an automatic resolution to the problem for example if was a transient problem and it knew it was low on bandwidth due to that error then later on I could try again for example but you we don\u0027t necessarily need reading code for everything certainly we have a limited number of bits to play with here as well and the previous slide you had should t "
  },
  {
    "startTime": "00:42:32",
    "text": "be set for anything other than zero zero well yeah because it\u0027s got stuff like a lack of resources or out or unacceptable performance those are exactly the kind of ones that would be transient that you\u0027d want to look at later okay but I think that whole list of questions is ideally suited for an email rather than a yeah yeah yeah we can we can can continue the discussion on mail there is a problem yeah and also we did not use yet the code about administratively for creation of the flow and when you have to mention ascended actor on a given support but maybe we will find where to put this but snow and next slide and there is also the new table option that was made by Christophe so basically it allows to use connection key that we defined a tire iron level so you don\u0027t need to be to to send the keys in clear over the connection and I think it works according to Christophe so yeah and that\u0027s it for me it\u0027s really reaction to the slide now people have had another minute to think about it or does this need to go to the list ala 14 yes and it here\u0027s the list but I think it should be fairly straightforward fixed to talk about retransmitting yeah I just don\u0027t think we actually cover that too much it should be an easy fix juda scrubber check for the peanut gallery the people who have come here out of sheer interest what\u0027s the application of this thing what\u0027s the application this is somebody want to take that question so if you want for instance to exchange additional data about let\u0027s as a flow or yeah look at experiments for to deploy your new stuff it\u0027s basically the option is it in that far so thanks Winton so I skipped over I "
  },
  {
    "startTime": "00:45:38",
    "text": "shouldn\u0027t have done just an open call is there any other updates about implementation news that anybody wants to share know in the past we\u0027ve had several other operating systems that have talked about or got some of the way through orth got a lot of the way through implementing multipath tcp so we just traditionally have a moment for anybody who has any other implementation updates and they want to share anything with us for them to do so if they want to okay so we will move on to the protocol this spot with with Alan this is super fast there is one slide about from the title slide which obviously we\u0027re trying to get to Thank You Phil um this is really weird this screen down here my feet um what three changes in in zero eight as based on feedback implementation feedback which is of course the driving motivator here Christoph\u0027s implantation is pointed out quite significantly there are some issues around clarifying that when you send data on the fourth ACK so is the MP capable option being used to provide the data sequence mapping you could end up with a situation where one end since the data sequence signal the other end sends an MB capable and they cross and one end was expecting one and when I was expecting the other so it\u0027s just to clarify that these mappings are identical and should be treated as identical when they turn up in two packets similarly also the retransmit logic for an MBA always a data mapping in it I was just saying their equivalent means that the problem kind of goes away I said thanks olivier on poor point to but actually realize it was actually Quentin was Olivier my apologies Renton but thank you for clarifying that the TCP reset in the fast life situation also put in and finally the updater sha-256 has gone in although I looked again and realized my searching replace wasn\u0027t quite as a as comprehensively there should have been a couple of chartres ones left I\u0027ll get rid of those that\u0027s it on the update and I don\u0027t think we have anything outstanding at the moment there\u0027s no ones proposals that have any protocol modifications lined up there\u0027s nothing I\u0027m off have anything lined up we need to worry about either so yeah so I guess "
  },
  {
    "startTime": "00:48:38",
    "text": "through it there\u0027s a question if if which we probably should revisit on Friday if anybody has anything that they are about to suggest to that implies in addition to the protocol base because if they have I guess we should think about that before we declare victory and and close close it and the other question is about implementation so have we got an implementation of all the new bits that have been added to the base now or not quite my understanding although Kristof might might share can clarify my understanding is this recent tacky work on iOS and Linux is now pretty much got all the best changes update now not quite okay can you come to the mic well great Illinois one of you can clarify at least Linux like we\u0027re doing a hackathon we implemented with Olivier and the rest of the team we implemented all the best pieces but iOS now we haven\u0027t got an interoperable implementation of all but we have one implementation of everything so the so the your Linux implementation that\u0027s now publicly available has all the this items in or the bit there\u0027s only maybe soon basically yeah the code still needs to be released like none of the code that was worked on you into a curtain has been released has been released not yeah but I guess this won\u0027t happen but yeah okay so depending a kind of just pushing it out then it is now everything in the base has been implemented so I guess that Mia is that enough one implementation to push it and standard strike and send it I don\u0027t know what the current view is suddenly thinks I I think that\u0027s mostly the judgment of the working group because there\u0027s no common rule because all the information all the protocols are so different okay what should be justified in the shepherd right up right okay so we were we will have to discuss that I mean we\u0027ve we\u0027ve clicked we\u0027ve you know we\u0027ve got two implementations of all most and most of the protocol and then there\u0027s these new bits and the bits would have one implementation so we\u0027ll have to talk about whether that\u0027s adequate and yeah maybe we should talk a bit more about that timings on Friday it\u0027s the two five six yard two five six implementation is that in the face or not yet not yet okay "
  },
  {
    "startTime": "00:51:43",
    "text": "for people out there that was Kristoff saying that\u0027s it\u0027s not yet in it okay so we we should try and work out a plan of how we\u0027re going to push this forward in the next month or so I think we need to get a security area review to make sure that they\u0027re happy we will think about if there\u0027s any other area of these it should be done ahead of pushing it out no cuz they\u0027ll kind of get done in the formal process when it goes into the isg and things but we probably should start that early okay any other comments or thoughts on on the protocol Biss perfect okay so we\u0027re now moving on to proxy mini session with with two new drafts one from Olivia and one from Vlad so we got a good deal of time for discussion about both than what we got about 60 65 minutes or so just over an hour so we should be able to get to the discussion about them both now how are the blue sheets doing I haven\u0027t seen it come down oh it has who has not right Olivia [Music] do you want to use your own okay so let\u0027s go back to the new proxy work and let\u0027s first come back to the motivation so if you remember if you were in MPD CPC in the beginning you know that we\u0027ve had a lot of troubles with middleboxes and we had to fight a lot with the middle box and we managed to have something which is which works over the global Internet and now the next question is can we design a middle "
  },
  {
    "startTime": "00:54:43",
    "text": "box that would benefit to an ptc so can we get something more thanks to your generation a familiar box and this is part of the chatter and at the bottom you see the the current chatter of MPCP working book and during the last year there have been several proposals that have been discussed so there is a draft plan but there is a draft transparent mode there is socks5 there will be stock 6 that will be presented by blood later on so there is a family of solutions that try to address the problem and in this talk and in the draft I will try to we have tried to restart from scratch based on all the discussions that have been made on the mailing list 12a design which is cleaner and we opiez here to understand easier to implement and which provides all the use cases that we would like to work with an ptc proxies and to distinguish that with what you might think about proxies we have decided to use another name which might change later on but the the name that we use is a converter and our motivation is that there are now far more and PCCP enabled clients than MP TCP servers and for all those clients it\u0027s very beneficial to be able to use MP TCP on a part of the network when reaching a server which is which does not support MP TCP so there is a clear use case and there are other use cases for those kind of converters that have been discussed earlier but I will focus on this use case now because that\u0027s the simpler to understand and if you want to understand the basics of the protocol and the basics of the solution it\u0027s better to start with the simple simple useless so let me first try to summarize what have been the the discussions in February March and April on the main so first point is that if we use a converter one key point is that we do not want the converter to significantly increase the connection establishment delay so we don\u0027t want to lose 100 millisecond because we are going through a converter so that\u0027s the motivation for having a solution that requires zero a key key in contrast with satisfy for example second we do not require the utilization of the converter for all the traffic so it should be possible for the client to use a converter for some specific connections not all the connections and in particular it should be possible for the client to decide to bypass a specific on rotor if it knows that the final destination supports and PTC P because if you have an PTC be end-to-end then there is no need to go through a specific on rotor to give you an PTC P for one alpha the network while you could have mpg city for the end-to-end path there have been lots of discussions on whether we would use TCP options of data Indus in the payload and one of the the question that was raised by George and Julius was that if you place data in the scene you have to use TFO and here is a standard solution and we need to be able to use the effort not "
  },
  {
    "startTime": "00:57:45",
    "text": "only for the connection between the client and the converter but also for the control the end-to-end connection between the client and the server as we see that there is more and more support for careful and finally the design should be extensible and should approve and we should avoid defining new TCP options because you know that putting new TCP options in a sin is a mess when you already have the NP capable the timestamp and all the other options that already present them so what is the cleaner design that that we came up with so we have an application-level protocol that uses a specific port this makes it easy to deploy a solution similar to Sox all the commands that are sent by the clients and the response at a sender the convertor encoded strv messages and using TLV messages provides extensibility we leverage TFO so that we can put the commands directly in the sin which is done by the client like subsidy 6 that will present later so the comments and the respond I stand inside the sea and we have a solution to allow the clients to learn what are the TCP options that are supported by the final servers and this is required if we want to be able to bypass the converter because we will bypass a converter if we know that the final server supports and P TCP in the case of MVT simply so let\u0027s start with an example so there are three hosts in this example you have the client at the bottom the server and the converter which could be anywhere if you want to create a connection towards the server via the converter what do you do you first send the scene from the client to the converter by using the converter IP address and the port number of the converter inside the scene that you send you place a gfo option with the pookie of the converter let\u0027s call this cookie T and inside the payload of the scene and all the information that I will show in blue will be TCP options and the information that I show in red in the packets will be payload information which is encoded as a GL v messages so in the payload I have a TL v message that says please connect me to the server s on port P nothing very strange so when the client receives so we receive the same message what does it do it will create immediately a sin towards the server the server will receive a normal scene and it can reply with the scene with a scenic that goes back to the converter and the converter will return the syn ACK to the client to confirm the establishment at that point we have two TCP connections there is one connection from the client to the converter and one connection from the converter to the final server and these two connections are glued together in the converter by the application running on the contrary so all the data that "
  },
  {
    "startTime": "01:00:45",
    "text": "comes from the client will go to this connection and all the data that comes from the server will go to the connection to the file nothing really difficult okay so let\u0027s look at that in more details which two example with different TCP connections so our motivation is MP TCP so let\u0027s look at what happens when you use when you try to open an MP TCP connection to the controller so to open an MP TCP connection I have to put the MPI develop shown in the scene so I put the MP capable option in the scene and in the payload I indicate that I want to connect to the specified server on the specified port the converter will send a syn which contains the MP kept evolution to the final server and let\u0027s assume that the server supports and P TCP and uses RFC 68 24 bits which means that it provides its key in the NPK level option while there was no key in the any Indian peak evolution of the C so you have the key of the server which is written as a TCP option the information arrives on the converter and what the controller does is that it accepts the establishment of the connection and once you have accepted the estivation of the connection you need to inform the client that the connection can be established and you need to let the client know that the server supports and P TCP and to do that what we do simply is that we copy the content of the extended adder so all the TCP options that were in the synth exact we put them inside the TLD message which is part of the payload on the simple Zak which is returned to the client and then the client when it receives the simply Zak which contains this theory information it will know by parsing the tcp extended adder that this connection to the server will be using and p tcp from the client to the server so that the next connection that the client will want to open to the server it will know that this server supports and P TCP and so there is no need to go through the converter to register here for we want to use the fo here that\u0027s hilly but we also want to be able to use the fo from here to there let\u0027s look at what happens if we want to use the arrow through the converter so again we assume that we already have a cookie a cookie from the converter because we have had many connections to the converter and if I want to do TFO with a server you remember that in TFO we do that in two steps first I send a TFO option which is empty to the server the server replies with a cookie and then I can use a cookie to send data in the next TCP connection so how do we do that with when we have a converter I will send a syn which contains the TCP for a cookie of the converter inside the TCP option and in the TLV message of the scene I have the connect command and I "
  },
  {
    "startTime": "01:03:45",
    "text": "have additional information which contains TFO an empty TCP an empty TFO option so the converter will recognize that and it will send a syn with an empty TF or option to the final destination so the final destination receives a scene with an empty Kia option what does it do when it receives a scene with an empty TF auction it returns the cookie that corresponds to this TCP connection so the cookie let\u0027s say let\u0027s call this as C the cookie SC is returned back to the converter and the converter does the same as with the MP key of evolution it simply copies the TFO option and puts it back inside the payload of the C of the simply Zac which is returned to the client and the client can extract the server cookie and use it for the next connection that it will create for the same server so let\u0027s look at the next connection so this is the second connection on the state of the client we have the server cookie which is known so when we send the scene to the converter this is a scene that contains data because we are using TFO and before the data we have the connect command and we have the TCP option which contains TFO and the server cookie that we have received in the previous connection the converter will copy this information in the scene that it sends to the server and will copy the data the server sees the server cookie that it has sent for this specific client it recognizes it and it accepts the data and then it\u0027s it replies with a simple Zak and the simple zakat returned to the client and the connection is established so we can support both and piki CP t fo and other stuff with usually food me has a question on on the Java room he asks in the MU TCP case when you convert to MPT CV who decides to do this is a client of the converter who these files do what so the question is when the converter changes TCP into MP TCP who is deciding this the client or the converter when the client changes and converter when the converter changes and P TCP to know TCP to MPTV but this is MP TCP so you have MP TCP and you try to and establish an PGP so that you understand the question mini de baby says something original so of course if you if the server does not support MP TCP then you don\u0027t have MP capable back and you learn that you have MP TCP here and you see regular TCP them hi Alan thought how do we you may well this may be coming up on another slide how we had another sub close to this if "
  },
  {
    "startTime": "01:06:45",
    "text": "the client wants to talk directly to the server at this point since both and so V so when you have debt you have to TCP connections so that brought to MP TCP connection in this example you have one from the client to the converter and one from the converter to the final server so if the clients at the surf low the subfloor will be added between the client and the second and the converter if the server adds a sub flow it will be added there so nothing would go direct from the client to the bypass where you can go direct from the client to the server so this would add a lots of lots of complexity complexity to do that for a single MPT speak connection and I think it\u0027s easier to just test the first connection and if you determine that the destination is MP capable then you can open the next TCP MP TCP connection to us it\u0027s over our say in many use cases you have a large number of actions anyway to the server and if not you can apply a kind of a PA word solution or you can also try to open in parallel to connections one via the convertor and one directly to the server and you just take the one that does n P TCP and works correctly okay so the the the presence of all this red stuff tells you that yeah well they again excellent the red stuff here tells you that the server supports and P TCP right and of course I wasn\u0027t in your previous example and in the fuse example it wasn\u0027t there okay hi so my question has something to do with TF oh isn\u0027t it a bit dangerous to tell the client your TF for cookie so the proper the client gets to know the proxies to your foe cookie and then it can do all kinds of nasty stuff with it yeah so the question is why do you give the TF of cookie to the client and not keep it on the controller itself yes it really depends on what your type of deployment that you have on the convertor so if you think of a converter that has a single IP address and this single IP address is shared by all the clients then you don\u0027t want to reveal the cookie which is mapped to this IP address to all the clients because they could be able to do traffic directly but if you have a deployment where the converter is not a single IP address but a pool of IP addresses and you map client address on one of address of the food for example then it makes sense to send the cookie back to the client I see okay I see that there\u0027s the TFO cookie T inside the syn sent to the convertor so we kind of I think in the draft it said like it recommends to pre-emptive proactively refresh the cookie so my question is how much do we rely on T fo for this sin like if for what another "
  },
  {
    "startTime": "01:09:45",
    "text": "reason even if it\u0027s not because of the cookie we fall back does it still work I think so but so what up so the question is what happens if for example the controller changes its cookie and so we have a wrong cookie on the client-side but that\u0027s the normal procedure of TFO that we this would apply there so you would not act the the content of the data so you would not act the message there and that would be a fallback and you would restart and you would have to add the key instead of one entity in this case yeah and that\u0027s the normal TFO procedure [Music] so one of the of the objective of the design was to have extensibility and if you think about extensibility there are two dimensions that needs to be considered the first I mention is the extensibility of the application level protocol that includes the TLD messages and we get that by using tlvs and version numbers so we have a solution which is easily extensible and you have to look at extensibility from the tcp viewpoint what happens if tcp is extended and if someone has another phrase Eid then NP tcp and we would like to use that through the converter well this is feasible as well because we can detect what is the tcp options that are supported by the server so we have flexibility and extensibility in the design of the protocol so the client can decide to bypass the converter once it has detected that the converter that the server supports the options that you would like to use so if at one point all clients are using MP TCP and all servers are using MP TCP then all clients will detect that there is no need anymore of the bypass and nobody will use the bypass anymore so now let\u0027s go back to the criteria that feed and Yoshi send on a mailing list about how to compare different solutions for proxies so the criteria and I try to summarize the email because I could not fit the content of the email in a slide the sentences were pretty long so first comment was no changes to NP TCP so there is no change required to the current spec proxy simple to operate and deploy well this is like stock so we need an IP address and a port number so you can place the convertor we\u0027re in the network so this is existing best current practices session can be initiated from either end we believe this is feasible but this is not part of the first draft because we want the draft to be simple setup type is minimized we we provide that thanks to the utilization of TFO design minimizes the amount of overhead on data basically the only overhead that we have is the theory messages that we place inside the scene and the simple Zak so the overwrite the overhead is only for the scene we don\u0027t need any encapsulation scheme and the solution works if Antoinette encryption is in use the solution is compatible with the end-to-end encryption the only issue is that if you since we are used if you use different IP address on the client and "
  },
  {
    "startTime": "01:12:45",
    "text": "under on the converter you would have you would be in the same situation as with a nut and so if you have an encryption that relies on the validation of the IP addresses then you will add issues other criteria that were mentioned for single-ended proxies in iOS to proxy then likely to be on both default path so this is the case the controller can be anywhere in the network clarify whether the proxy simply for what terminates TCP connection and maintain stays for the two TCP connections from the client to the converter and from the converter to the to the server allows post web traffic that doesn\u0027t get proxies so this can be based on policies or automatic bypass when once you have detected that the server suppose a TCP option that you want to use and an OS and proxy need to authenticate we believe that it\u0027s possible to put authentication scheme in the protocol by using the tid messages but if we we say the word authentication then we left 20 people in the ITF saying that you would like to support our authentication scheme and it will not be a draft but 5 draft and so I want to keep the solution simple but we can add protocol authentication schemes inside the draft as well so to conclude this is a new design which takes into account all the commands that have been raised on the list that\u0027s an application level protocol so we will have to whisper his name and port from the IANA it provides 0 ft t using TF o which was the key issue and the client can bypass the convert or the server suppose the option our request to the working group would be adoption of this document hotshot writer and with that I\u0027ve covered all the basics the details are in the draft scrubber tract cell makes some more substantial comments perhaps after this sock six talk here I have just two minor comments one is about extensibility I haven\u0027t found in the draft where you say what to do can you see an unknown TLD the intent is pretty clear but you don\u0027t actually say it when you see an unknown on TLV yes odd there is a narrow TLD in the drug yes you give the error but you never say what to do you never tell the implementer huic whether that he should return the error and drop the connection okay this needs to be said and the other thing so again that\u0027s something the intent is perfectly clear so you say that it\u0027s a normal user space proxy now you are doing some rather exciting stuff with TCP in here okay for very good reasons I understand very well how you\u0027re doing that but you\u0027re returning the unchanged sin header Sendak header and you are actually replied by a syn ACK only after you\u0027ve "
  },
  {
    "startTime": "01:15:45",
    "text": "received the syn ACK from the others yeah and the reason why we are replying with the thing act on only when we have received a cynic is that we want to be able to test whether the connection to the server works correctly because we know that there are many IP eyeball solutions where you try to open multiple TCP connections in parallel to a given server and it\u0027s important that you are not in a situation where some of the connections always succeed even if the server is not there because this would increase would produce new types of failure scenarios that would be difficult to detect by the applications so that\u0027s for very very good reasons so it\u0027s area that there are some small changes to be done to the interactions between the application and the TCP stack yeah this is something that cursed that student who is doing networking 101 we be able to implement in one of the Norwegian Fjord one so let\u0027s monitor by hey I have to admit I don\u0027t get the question so I just read it out loud in the scenario of the middle box between an end device what this market with only plain TCP support and the middle box talking to a server in the in the platform an MP TCP is the client the middle box so there\u0027s more the middle box would implement a TCP proxy for the end device and sent the traffic in mp TCP to the converter or possibly directly to the destination server if it is detected to support MV TCP I suggest to put that to the list me a cool event um as you say correctly this is kind of an application layer protocol and it\u0027s also not it can also not or it can be used for other things than just MP TCP say I assume this is not the right crew sorry to say that so so the the discussion are on the mailing list was that it was important to have a solution which is extensible so we came up with a solution which is extensible you know I mean this was not a comment about this is the right or wrong solution or whatever I just think this is a wrong group to work on this solution you\u0027re speaking as an individual or as an right now it\u0027s an individual but I can change it anytime yeah it depends what ambition do we have if you want this distribution to be specific to the impetus EP the document will be will talk only about the how we\u0027ll handle the MPCP connections and we don\u0027t talk about the other other usage outside in participate so it\u0027s just a matter of I would say scoping of the "
  },
  {
    "startTime": "01:18:47",
    "text": "document so if that\u0027s what we want we just we can we can say clearly in specification that is it only for handi-capable and the handing of other tcp option is out the scope of this document and we are done for this is just a matter of scoping of the specification yeah you cannot say you can use it for other things but we don\u0027t look at it so it\u0027s it\u0027s good if it\u0027s an application air protocol which is I think the correct term it\u0027s not MB TCP we have to remind ourself where we ended with the applications application layer proxy this is one of the main commissioned imaginative people say that\u0027s if you wanted a proxy just reserved a port number and we are hearing what the what and that\u0027s why we are asking to iterate on the board if now you say that\u0027s no we decided the direction we go because we have this is the right direction but it\u0027s not the right work so I\u0027m like actually and there\u0027s no question say this I\u0027ll say say then I start about which one is the right working right don\u0027t have a good answer yet but to some extent it sounds a little bit like ice as well so maybe this is something to look at if you can maybe can use existing products for this case but but then my question will be what do you think will fit in the last shuttle items which is the working group will explore whether an NP TCP or middle box would be useful when I know is an PTC be enabled so if you look at the chatter on the first slide yes I think we aren\u0027t answering the chatter so this chatter doesn\u0027t so the chatters yes but it doesn\u0027t mean that this has to result in an MP TCP document or in any kind of outcome it will explore the options and and probably what\u0027s really in scope would be maybe an important form a document that is describing how to use options that may or may not be will developed in other groups so we I think we should talk about off you know sort of smaller gathering because it\u0027s quite tedious for most people which work ITF working group things are done in but I mean we\u0027re I\u0027m unhappy first who knows relevant to multi-party speed to give it some time is great has to be talked about in other groups that\u0027s fantastic I\u0027m it may surprise you that given how much I\u0027ve been banging on about application layer protocols for a while here this one strikes me as being very amputees to be specific because there\u0027s all about shifting the options around the impetus be specific options you haven\u0027t looked at how to use it for other options and plus what\u0027s more that\u0027s out of scope it\u0027s in scope as an MP TCP solution and as you say if Mattie is a charter so actually I think it\u0027s quite a good match for this working group what I push or propose at this "
  },
  {
    "startTime": "01:21:49",
    "text": "point is that you actually go and contact other working groups and maybe even present this in like area meetings and stuff and get some feedback about it and then we can see if there\u0027s any other worker group that thinks it\u0027s it\u0027s in there scope and should be done in their working group and if not we can do it here and many working what do you want us to look around the area and area or actually think about it talk about this more but are there any kind of technical question yes so technical issues and then in which working group this because that\u0027s another issue no I was I was kind of waiting to see if there are more people coming today my and they weren\u0027t so but like we can also talk but I have a little bit of a technical taking a question which was related to say you did say this can be used for other TCP options and when I look at it I think it would be super easy to use it for other TCP option would like be straight right like this actually no change record so I think this is actually not MPT cccp specific yes yeah but MP TCP is an extension to TCP so of course any solution that we do with NPT CPA will work for a glow TCP as well so yeah but I mean we also have a TCP maintenance but they never add this issue so there they have produce window scale therefore these times then they produce lots of drugs and lots of solution and they never add this issue because there was no use case with well where you have to access networks and there is a strong benefit of having MP TCP on the part of the network Devon Devon seen that use case so this use case comes from MGP CPM from the utilization of MB TCP I think that you have an a proxy that implements a new option while like one of the endpoint doesn\u0027t implement the option is a very general use case for our kind of PCP experience benefit here is larger than for other options yes but it\u0027s they have this use case yeah but they don\u0027t have documents on explaining how to do this because nobody proposed it so you might propose it there the scrubber track I would just want to add one element to the discussion this is actually a quite manageable document I\u0027ve actually read it all of it and it\u0027s written with an eye to something that we sometimes neglect that is implement ability okay there are a few things so for example there is one thing you cannot take a domain name which makes it and since you are doing strange things with TCP you might want to implement it in a specific environment so the fact that there are no domain names makes it much more implementable and I cannot "
  },
  {
    "startTime": "01:24:50",
    "text": "help I wonder whether if this document goes through a number of other working groups it will still be a manageable and implementable protocol I\u0027m not sure but the reason why there is no domain name in the in the connect message in contrast we saw with socks for example is that we want to provide geo RTT so we don\u0027t want to be in a situation where when the client sends a connect request to the converter the converter has to do a DNS lookup before sending a see and that\u0027s a feature and not a bug and the side effect is that it becomes durable and kernel-space as a welcome side effect the side effect grabbin any more comments me so as an ad I think I would like to advise you to announce it on the TTP area and tcpi mailing list and get some feedback there okay do you want others do you want this to try to present that no just put it on the meeting this you\u0027ll get feedback okay just to answer Julius is common it it is nice and readable this draft it\u0027s good so thank you and congratulations to Pete we wrote it it\u0027s got nice protocol modeling stuff which is how people to advise to write this sort of document so it\u0027s what you know don\u0027t be incorrect that our BES is basically I\u0027m trying to encourage everybody here to go away and read it you will be able to get through it I think and it would be great to have comments from people on I was gonna say on our mailing list but on any mailing list you can see let\u0027s start on this one that\u0027d be great I just want to say as an individual country - I like the proposal and yeah and thank you to the authors for really really listening to the feedback that they\u0027ve been on yeah thank you to the contributions for really listen to the feedback that they\u0027ve been on on the previous documents and discussion we had last time and the follow on discussion to that because it\u0027s really come over that you\u0027ve tried to react to that we\u0027ve heard from at least one people who one person introduced you have some issues with with some of the previous approaches and maybe maybe it\u0027s worth trying specifically to get comments from some of the other people who had comments to see if they can live with the approach that\u0027s proposed cuz do I ask your question about the that you wanted "
  },
  {
    "startTime": "01:27:50",
    "text": "adoption I think well first thing we need to give people more of a chance to read it and get some comments on the main this supportive or with suggestions you know and and and secondly in in order to have the consensus it can be a working group item here or somewhere else in another working group we\u0027ve got to make sure that it\u0027s a solution that people can everyone can live with I mean that\u0027s kind of the definition isn\u0027t it so we got to make sure that happens or that people can come to decision that that\u0027s you know not of not a criteria anymore anymore Commons we\u0027re probably we\u0027re probably on Friday have a little bit of spare time looking at the again we got an hour and we\u0027ve probably not got an hour\u0027s worth of stuff so if people have the chance to read it before Friday either this and the and the Sox draft we probably can have a little you know ten minutes or so slot where people can come up with the questions that they\u0027ve thought of in the time they\u0027ve got during the busy week too and to read the draft and think about it a bit more thank you very much so next up is Vlad I think you want to use my laptop which one are you one of those I don\u0027t think so typical songs is this some time man no I thought so [Music] [Music] there we go okay so I\u0027m glad and I\u0027m going to talk about Sox protocol version 6 of the next slide please so socks5 is 20 years old and it really needed a facelift the main problem with it is that it makes liberal use of round trips so we\u0027ve got one round trip for four negotiating the method of authentication then another round trip "
  },
  {
    "startTime": "01:30:51",
    "text": "or maybe more for authentication and then the client can finally request the establishment of a connection now not only is it very chatty but in the meantime they have been people have been developing zero ATT authentication methods so if the two entities had already communicated they can authenticate in just only one message in and further connection attempts so now we have this hot in use case where mobile users might want to use both the cellular interface and their Wi-Fi to basically get a basically get more bandwidth now and now the problem is that there is little to no HP usage on the server side so we need a proxy for that and since these mobile networks have high latency we really have to trim down on the RTT usage so next slide please so in Sox version 6 we\u0027ve done exactly that so the client is very optimistic and it attempts to send as much information upfront as possible without waiting for the authentication step to conclude if any authentication is required at all so it sends so it advertises its support the authentication methods it asks the as a proxy to establish a connection audience behalf and also supplies some application data if it has application data available and it also specifies what the proxy should use TFO or not and finally it\u0027s also extensible so we\u0027ve added TCP like options in order to do all kinds of cool stuff like maybe asked maybe ask the as to the proxy to use a certain MP TCP packet scheduler or whatnot these still remain to be discussed and standardized and via these options that I have mentioned grtt authentication methods you\u0027re RTT authentication can be done via these options next slide so let\u0027s take a look at how sucks 6 looks when compared to Sox 5 Sox so in Sox 5 you can see that the client at the client first elevators is it authentication methods and then the authentication proceeds and then it sends a request gets a reply and then five then it can send data so we\u0027ve moved those three bits the the blue bit the green bit and the red bit we move them we\u0027ve packaged them into one single message which is the request which the client sends at the very beginning of the connection then the server sends an authentication reply which informs the client whether or attempt occation has succeeded or whether further authentication is needed since this is the first connection authenticate "
  },
  {
    "startTime": "01:33:51",
    "text": "further authentication he may probably be needed after it after the authentication step has concluded the proxy attempts to create the connection to the server and then sends an operation reply to the client telling it whether it has ceases or not so next type please in subsequent connection attempts the client can do 0tt authentication in which case the server can attempt to initiate the connection as soon as it sees the request so it sends an authentication reply and then an operation reply after after the connection has been established so next slide please so let\u0027s take a closer look at the request so it\u0027s basically a mishmash of the of the method advertisement message and the requests along with some date so please note that the client can include in some initial data as part of the request while still asking the the proxy not to use TF all the options are in TLB format and they can aside from authentication to zero out the authentication data they can include all kinds of other stuff that has yet to be standardized so next slide please the authentication reply basically tells the client whether further authentication is needed or not and also it also tells the client which in case for the authentication is needed which method has to which method for authentication must proceed in case authentication succeeded it informs the client via which method the client got authenticated so for example if a client connects to the proxy by its home Wi-Fi the server probably expect some kind of authentication but then if it connects to the proxy via its cellular network the proxy knows that the client is one of its that the client is actually a paying customer and tells the basically tells the client hey no Authenticator we CENTAC ated you via the no identification required method so that the client gets to learn that that it shouldn\u0027t attempt to do any kind of authentication when using its cellular network so next slide please finally as soon as the server as soon as the proxy receive its know after the proxy attempts to kind of to connect to the remote server it sounds an operation reply basically telling the client that it either had succeeded or if it hasn\u0027t succeeded it informed occupy client why it hasn\u0027t succeeded so maybe the remote server has reset the connection or maybe maybe the connection timed out or maybe "
  },
  {
    "startTime": "01:36:52",
    "text": "the server is is unreachable or any other or some other reason now there\u0027s one particular field of one period of particular interest here it\u0027s called the initial data offset so if you remember if you if you recall the request includes some initial data now if if further authentication is required the server has to buffer that initial data this initial field the initial data offset basically gives the server carte blanche as to how much of that initial they tied buffers so it can choose not to borrow any of the initial data a while waiting for the client to authenticate otherwise it is largely useless the next slide please so let\u0027s see how socks v6 fares in action in case we don\u0027t have TFO on any leg the client basically initiates a three-way handshake and after one client to proxy RTT sends a request along with initial data the proxy also initiates a three-way handshake to the server and sends the data as soon as as soon as it receives the syn ACK in this case it takes two and to end our tt\u0027s for a data response same as with vanilla TCP so there\u0027s no overhead in terms of delay next slide please now in case we have TFO on the proxy server leg things get interesting so the client gets gets to send it so the client sends a syn that also contains the request and some data that the proxy counts and is sent to the server the proxy gets in starts initiating the connection to the server as soon as it we receive this sent from the client and thus and as such we shave off one client to proxy RTT in other words if the proxy is on path we actually actually have negative overhead this is highly advantageous for mobile networks where we have high delay at the at layer two so next slide please and finally Inc if if we have TF or no legs the the the scene that contains the request basically gets translated into a scene that contains the initial data and it\u0027s headed for the server and the server can reply reply is immediately and we get data expands in one RTG same as with Bonnie with tearful without any without any Fox in the middle next slide please so can we use multiple proxies yes one solution would be to run socks over socks so basically the client makes the request that contains another request in "
  },
  {
    "startTime": "01:39:54",
    "text": "its initial data and the initial data of the second request is the actual data that has to make it to the server this socks can be stacked over socks multiple times and I\u0027m not matter how many times we stack it yeah tt overhead is the same so we get the data response into our duties if the there isn\u0027t any tier 4 available or in one RTT with Tier four on all paths on our legs of the path regardless of how many servers we stack regardless of how many times we stack socks over socks over socks so no matter how many proxies we have on path we\u0027ve got the same overhead alternatively we could just configure the first proxy to go by the second proxy the second proxy doesn\u0027t necessarily have to be a sock 6 proxy we can use any other proxy in technology so next slide please we do have an early prototype so we have we have modified shadow socks ok some some of you might be familiar with that proxy it uses its own protocol we modified it so that it speaks Sox 6 and we\u0027ve also created the mess library that you can use to create Sox messages and write your own apps using that used Sox 6 by the way this is an early prototype and there are some differences between this and this prototype and the draft so finally I\u0027d like to see some words about about how this compares to the other solutions so they are similar in that when you strip the initial exchange between the client and the proxy you end up with the plain data stream so it\u0027s the however we use an entirely different starting point so this is a purely layer 5 protocol we do not use CIN acts to signal that the remote server has accepted the connection or not we use a actually user some will use some TCP data for that TFO or seen data is not required but it\u0027s ok but it\u0027s required if you want to if you want 0 RTT overhead but if some middle box happens to strip TFO then Sox still works and finally if a middle box doesn\u0027t kill TCP it surely can\u0027t kill Sox and with that thank you comments questions so first thank you Julia scrubber track first thank you because when in the late 90s early 2000s we were upgrading our client software to use Sox 5 instead of socks for a we "
  },
  {
    "startTime": "01:42:56",
    "text": "realized there was one thing that was shocking was that gradient to Sox 5 added 1 RT T to the unauthenticated case with no benefit whatsoever yes so now now we\u0027ve recovered this RT t so it took 20 years but well the comment I wanted to make is that this I think it\u0027s important to stress how much oliviers draft and your draft live in different spaces and I think there is space for both so this thing is something I would estimate that it would take 20 minutes to upgrade an existing Sox 5 proxy to use Sox 6 without authentication and without 0 RTT the simple thing would be very simple I can imagine putting that and software that is not doing proxying just as a way of connecting today software I couldn\u0027t imagine using oliviers technology for doing the same it also has the main name so it fits the needs of Sox 5 so I think this has reason to exist even if early years draft existed to are not at all neutrally exclusive and the other comment is suppose that I\u0027m writing a client for Sox 6 now my client will probably want to speak Sox 5 once would speak Sox 6 and will want to speak to be able to speak to protocol converters it doesn\u0027t care who you\u0027re speaking to it just wants to establish it ones the weaker guarantees that Sox gives with respect to a product to a transport protocol converter so it doesn\u0027t Kirk which it speaks to but the package format between the protocol converter and the Sox protocol are very different so in the client side I have to make two completely different implementations now I\u0027m not saying it\u0027s a good idea I don\u0027t know if it\u0027s a good idea generalizing often year yields completely unmanageable protocols but I wonder whether it would be possible to consider having the same the same package format for both techniques and making it possible for a client you know to connect somewhere and discover whether it\u0027s speaking to a protocol converter or a Sox six proxy well I don\u0027t really know I\u0027m just encouraging you to think about it has to do with the message format so the very first byte of the data stream has to be four or five or six in our case so the VA solution should begin with seven or or some other number other than that "
  },
  {
    "startTime": "01:45:58",
    "text": "it\u0027s it\u0027s no single client that connects the proxy it doesn\u0027t go you mean in the server to climb direction yeah sure so I basically should go like this hi I\u0027m a client I wish to speak Sox version X and then the server says but I stick version Y so my question would be rather shouldn\u0027t suck six support those protocols in a single unified protocol well yes I mean if the client if a client\u0027s opens up a commissioner and says I speak Sox five then the server should speak Sox five Jade\u0027s so if the slide has a request on it yes so the first byte is actually the major version number same as in Sox four and Sox five so so if it\u0027s away for Sox 6 server gets a request that starts with a five just as in Sox five then you can start speaking Sox five to the client yes that\u0027s there mm-hmm just clear I\u0027m not sure how we can integrate that with oliviers proposal in the conductor message we start with a fixed adder that start with a version number and so if we say for example that version number below some value a reserved for stocks and higher value are reserved for converter then yeah I guess that we just need to make sure that we don\u0027t use the value 0 to 4 that you use but I don\u0027t remember whether it\u0027s in in binary or it\u0027s an ASCII code or whatever but with that this is feasible yes it\u0027s in binary format and I have like a last editorial comment the reason why you\u0027re allowed to truncate the data the initial data was not clear to me after reading the draft it became clear after you gave your talk so perhaps there is some discussion missing in the draft on this subject yes I will address Ben Schwartz ok a few points I don\u0027t know if anybody in here was in in deprive this morning but the proposal in deprive to recognize the two protocols happen to be democ scible on the basis of the first few bytes was extremely controversial because it it tightly constrains future development of those protocols now that once there\u0027s a you space that relies on them being democ scible they can no longer evolve to modify those bytes independently they have to be considered as a single protocol so that\u0027s a that\u0027s "
  },
  {
    "startTime": "01:49:01",
    "text": "a point that sounds very scary to me I wouldn\u0027t want to do that lightly the the second thing I wanted to point out is that socks5 is an incredibly widely deployed protocol in essentially every web browser in the world and also quite a number of other places I think your your proposal is an improvement and that\u0027s good but it but agreeing on a new major version number of socks seems almost as big as agreeing on a new major version number of HTTP and again there\u0027s not to be not something that I think we should just do within the NPT be working group no I actually plan on work I actually plan to work on this in the area okay but this is of interest to the MPP working group good yeah in a major version number four Sox I can think of a lot of other things that I would like to improve about Sox so there are so I hope that we don\u0027t just just move ahead with a with an incremental change when there\u0027s a lot more things that we need that need work and in particular I want to point out that this this protocols major improvement is a reduction in round trips um that sucks Sox proxies in general are used primarily in two cases they\u0027re used on on localhost to a very large extent and to also the the remainder is largely on a LAN with extremely low latencies so so that latency savings is useful but it\u0027s only really useful if the Sox server is at a large distance from you and if the sock server is at a large distance from you then you do not have a trusted network anymore which in my view means that encryption using TLS or an equivalent protocol should be mandatory well the use case that I mentioned on the very first night was that mobile mobile users of mobile so 4G 3G and LTE have high delay so if so if you deploy a success over one hop away we\u0027re still gonna get a high RTT in that case you\u0027re over a wireless network with mysterious security properties I would feel a lot more comfortable again if we specified end to end and it will client a proxy encryption I guess nothing nothing stops you from running Sox six over TLS yes I agree that nothing appears to stop you but I would point out that perhaps due to the lack of any recommendation in this to actually do so none of the Sox five clients today perform any kind of encryption between the client of the proxy so for example if your authentication data includes a "
  },
  {
    "startTime": "01:52:01",
    "text": "username and password those are sent in clear text between you and the proxy so I I really think that if you\u0027re building some you appear to be building something that is useful over large networks not inside private lands and whenever you\u0027re outside of a private land TLS should be or equivalent should be mandatory I see the other the final thing I want to point out is that this use case is already served by proxies over HTTP including all of the of the zero RTT functionality so I think we should think very carefully about whether we want to duplicate the functionality of modern HTTP proxies or whether we want to basically invest in improvements to those proxies many of - comments - - Ben so the first one is that with an P TCP there is already at least two deployments of using such solutions to the bonding of any type of access networks together through a sock server and one of them is pubic that\u0027s the over the box solution from OVH in France and they use shadow Sox with a solution where there is an encryption on the different links so this address is the comment from from Ben and this is a solution which is subsidy file we wish with shadow Sox it doesn\u0027t use TF for but I guess if they could use your key foo code they would be very happy to do that so thanks for providing the code and concerning the existence of HTTP proxies this is nice we have lots of HTTP proxies but we have to remember that there are other traffic\u0027s than HTTP so we live in a world where there are other applications and HTTP so we cannot only rely on HTTP proxies I definitely want to clarify that HTTP proxies include into the entire the entire TCP proxy and functionality that we are talking about here in the form of HTTP connect Julius chroma-trak I would also like to clarify that a normal human being cannot implement an HTTP proxy while obeying all the requirements of all the RFC statement that are mandated by the RFC\u0027s any more comments one thing anyone okay so you\u0027re presenting this in interior later in a week young man saying it okay so thank you for your time thank you but thank you for bringing us "
  },
  {
    "startTime": "01:55:01",
    "text": "so that\u0027s great we\u0027ve reached the end of today\u0027s agenda so Friday when we\u0027re in a different room in the I think it\u0027s called the afternoon session when Marcus will be talking about his robust session establishing a proposal and Quentin talking about proposal for fast flow creation and then there\u0027ll be some time if people have any more reactions to the particularly to the proxy work that we\u0027ve heard about today and having to have a think about it and read the drafts and stuff so thank you very much to everybody for your contribution say thank you to Dave and June through doing the minutes it\u0027s been great and see you all on Friday you "
  }
]