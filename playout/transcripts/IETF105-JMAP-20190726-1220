[
  {
    "startTime": "00:00:04",
    "text": "Oh Oh all we need is I can do actually I can do the Jambo but but no taker is important - that\u0027s right I know it\u0027s it\u0027s gonna be rough - to do that it does make it does make me wonder if this working group should ever meet in person again it may be that we don\u0027t need to that the mailing list is sufficient we can we could always we could just say we\u0027ll meet in the isg room or something like that okay we\u0027re now up to five people plus a chair in the room that\u0027s that\u0027s really exciting [Music] and it\u0027s time start yeah let\u0027s let\u0027s get started because I have a plane to catch - so good afternoon to everybody and welcome - welcome to the ultimate session of the IETF 105 and can I figure out how to change the slide even with the keyboard no hello yeah I made it fullscreen whoops it just changed a bunch of times what\u0027s going on this is very strange that\u0027s about five slides back well at least we got to know well okay well we\u0027ll do it this way Wow more people yay okay so presumably by at this point in IETF everyone has seemed to note well and so what we\u0027re gonna do is good heavens Wow that\u0027s saying things slow kind of go "
  },
  {
    "startTime": "00:03:06",
    "text": "through document status and stuff like that and then each of the active working group drafts we have a presentation on each of those so congratulations to everybody that was involved in J map core so it is now RFC 8620 J map Noah witnessed applause I\u0027ve ever had let\u0027s do it again congratulations [Applause] arguably I\u0027m fixing stuff in it so yeah so the another one is imminent basically we are waiting for our scheduler to post new okay oh okay fine okay I\u0027ll I\u0027ll do that them I just wanted to say this is Neil Jenkins we do have our first day roster for Jame up cause well what\u0027s a minor issue in the JSON in one of the examples yeah yeah that\u0027s exactly what what I said you know if there is no writer nobody\u0027s bothering curie to implement so that\u0027s not necessarily a bad thing but yes you might be able to start on the base document right away and we\u0027ve already got an errata item right today I\u0027m District I\u0027m distracted by all of it although the cool cool new toys and red buttons up here so sorry okay so Jim at male real soon now and we\u0027re gonna talk about calendars WebSocket s/mime and MDM drafts that are that are currently there so let\u0027s start with WebSocket and let me see if I can figure out how to get this thing out of full screen so I can check in WebSocket yeah here we go okay web second I think this is getting pretty close to being fully baked version oh three I published early earlier this week most people probably saw Oh two was one small change which I\u0027ll get into as we move along here oh really it works that way because here\u0027s the list of changes since the last IETF real quickly so I renamed one of the capabilities that\u0027s mostly just "
  },
  {
    "startTime": "00:06:07",
    "text": "for cosmetic purposes the originally I had set up the push capability to be a query parameter on the URL that has been changed to its own separate true/false capability we added a @ type argument to the request object which means that all the objects going to and from the server all have a type so that the client and server knows what it\u0027s receiving quite quickly and we I say added a push state argument to the state change object I will get into that in another slide and finally we added two new objects a website could push enable and disable disable is what was added an oh three the enable was in Oh - next slide please okay so Ford notify take no notifications discovery there is the new capability supports WebSocket push put it in bold so everybody knows what we\u0027re talking about very very simple true/false property I don\u0027t think there\u0027s any reason to argue or discuss that next slide please so enabling push notifications here is the new object very simple it has the type you list the data types that you want to receive from the server in an array and the last argument is the last overall state that you received from a push notification from the server so where this is useful is if you\u0027re reconnecting to a server you can give it this state and presumably this server would then push all updates from this state up to the current states it\u0027s a quick way for the the client to refresh his cache and get up to date next slide please here\u0027s the notification format which is identical to the state change object document in core with the new push state property at the end if the server can support an overall state it would include this on all the notifications so the desert that so the client knows exactly where everything is at the next slide please and finally a very very simple object to disable notifications if the client for some reason don\u0027t like what wishes to receive them that\u0027s pretty much it in this draft anybody have any questions or comments or outstanding issues with this as Neil Jenkins Sara yes I\u0027ve read this I think is some looks fine and ready to publish just one quick comment on that push date thing it\u0027s basically analogous to the last event ID thing that\u0027s already built into a server sent events events halls which is the way you connect push without WebSockets so it\u0027s just giving you the same functionality over the "
  },
  {
    "startTime": "00:09:07",
    "text": "WebSockets bread\u0027s yep yep thank you so I personally I think this is ready for a working group last call I don\u0027t we put that up to the list Jim how does that work I don\u0027t know I have seen I don\u0027t have a lot of context so let\u0027s ask Ron but I think I think probably just send it out to the list okay sounds good okay great just a point of interest this actually other than the push stuff is has been implemented in the server side at fast mail and in the cyrus server and hopefully we will start to have a client side at least for testing purposes fairly soon so hey thank you thank you okay next item is calendars and that will be Neil and I\u0027ll train keepers my decentered process today [Music] that\u0027s better come on okay so I published an initial 0-0 draw for this a while back that was pretty basic there\u0027s still quite a few things to add so I\u0027m going to give a quick overview of what this is trying to achieve what the general data model is and then talk about something open issues and see if you\u0027ve got any people in the room or on the meet echo that want to put forward some opinions on those issues so we can go to the next slide please so Jess calendar is giving a way to access calendar data over J map so it\u0027s kind of an equivalent CalDAV much like J map mail is an equivalent to IMAP but like in that equivalence more efficient easier to use more consistent there\u0027s a single setup point and you get access to all of the different bits of data without having setup separately or email your calendar and eventually we\u0027ll do chairs no J map contacts as well this is just calendars not trying to do tasks or journal entries which you can do with card out but is rarely actually part of the same system in practice so doesn\u0027t actually I think main since necessary between the same document you can always add that as a separate J map extension with its own capability later and just like with the male spec we want to be able to provide access to the same date of are both CalDAV and J map Kalen doesn\u0027t have it be a consistent view so that you can use both clients at the same time and there\u0027s not great paths because nothing can is going to be able to cut over overnight so yes we don\u0027t "
  },
  {
    "startTime": "00:12:09",
    "text": "want to radically change the data model so that\u0027s not possible we\u0027re going to use jazz calendar for the event data model this is in last call over in collects its JSON representation of calendar data that\u0027s much nice to work with it\u0027s again hopefully an eventual successor to iCalendar it\u0027s if you\u0027ve not seen that go have a look at the calyx stuff if you\u0027re interested okay let\u0027s move on next slide so just quick overview of the general data model so an account here is a J map account which is kind of a consistency model it\u0027s saying within an account you have properties that must be enforced like unique IDs within that account and be able to do certain things as transactions within an account where there isn\u0027t that requirement across accounts so you have an account that represents calendar users so in a shared system you might have an awful lot of these this could be an individual it could be a resource it could be a location a room anything scheduled you\u0027ve build query this with standard J map methods so that you can for example query for search for a room if you have permission to see that and then from there the calendar user object gives you an account ID where you can fetch the calendar and the events to see all query the availability on that resource so yes so if you have a simple server it can can just support a single user it doesn\u0027t have to worry about the calendar user stuff or anything you just get the calendaring calendar events data but for anything that\u0027s doing more sophisticated shared use the calendar calendaring you\u0027ll have this kind of top-level directory of calendar entities which then reference the different accounts for the actual calendar data for that entity that\u0027s the demo overview it\u0027s anyone have any comments or stuff they want to say on that I think this Maps fairly cleanly to Cal dev if you have an experience with that the calendar users are different principles is that right Ken and then yeah the calendar data would be within that but in Calif I have a question how are shared calendars handled how a calendars what\u0027s right I miss how are they handled these you know so users use disjoint calendars yes so an account is the kind of a data consistency thing like you can only have a calendar event with a particular UID can only exist once within an account but it may exist in different accounts so in this example maybe the accountant left is my calendar data and the one on the right corresponds to Ken\u0027s he could share access to his data to me so I could see both accounts and I can but I might look at their sharing permissions are done on a per calendar basis so he could share one of those calendars but not the other one for example or you could share one vide only and one just read free/busy so I can see these busy but I can\u0027t see all his information so my sense yes okay so "
  },
  {
    "startTime": "00:15:16",
    "text": "I\u0027m just going to some of the open issues here see if there\u0027s any news in the room so we\u0027ve sanded GMAT methods you have calendar event is a datatype which represents an event and you\u0027ll be able to get it by ID and normally you can fetch changes which tells you the IDS of objects that have been created update or destroyed since your current state in the client we\u0027re going to want so there\u0027s a sophisticated calendar clients will be able to get an event that has a recurrence rule and recurrence exceptions and just expand that itself in the client to know when it\u0027s actually the occurrences are but I think that we want a option when you query the events to ask the server to the expansion for you which will allow very simple kind of probably not hole clients but people just want to integrate with calendar data to be able to not worry about some of the more complicated bits and still get the data they need so the question I have is whether we want to also let they have some kind of mode that lets you get the changes whilst having the expanded events so the trouble is there could be infinite expanded events so there could be an infinite number of changes if you change you\u0027re going event and you\u0027re fetching the expanded ones so the only way I could think of this working was if you had some requirement that the IDS of single of occurrences are the prefix of that ID is the same as the ID of the master thing master event which would then come through in your / changes but pretty expensive processes you have to not just do a lookup but scan everything for prefix matches and also breaks the idea that IDs have no semantic meaning to the client so I think my inclination is just to say if you\u0027re asking the server to expand events you don\u0027t get Delta changes you still know that something\u0027s changed because but at that point you just have to evaluate your entire case and ask again this is probably gonna give me simply simple clients anyway so I don\u0027t think we too much data anyone someone stepped up yet Mike here we go I\u0027d say CalDAV has a form of expanded query but it\u0027s pretty useless actually it it assumes that the client could do almost nothing and for some reason turned everything into UTC and things the the expanded query I would like to have seen is one that treated the instances essentially as as I as a separate event you know a fully populated event that looked much like the master event but with the appropriate time and date in it but we I my recollections we put that in assuming that we would have some really simple client at the other end that could do almost nothing and in that case I think I don\u0027t think we need to worry too much about this infinite changes thing are "
  },
  {
    "startTime": "00:18:17",
    "text": "you delivering the events is probably enough yeah thanks Mike yeah I agree and certainly in terms of the options I plan to add is yes you can ask the server to expand events and if you do ask it you can optionally also ask it to change it to UTC if you don\u0027t want to deal with time zones as well but that\u0027s optional so you can get them with the time zones but expanded if if that\u0027s what you want which i think is what you\u0027re asking can can register I agree are you an having expansion done in changes it seems like it might be more apropos to the query method show me the expanded results within a certain time period kind of thing seems more useful than having it expand a recurrence rule just because I changed the title in a never ending event yeah sorry I I think yeah I think maybe kind of consensus here that we don\u0027t need if you if you\u0027re doing expansion on the server you don\u0027t get the exact changes whereas if you\u0027re not it\u0027s it\u0027s trivial to do the actual changes like we normally do in J map the way will work yes with expansion you\u0027ll do a calendar event query and say expand this and the IDS will get back will be IDs for the expanded events rather than for the master event you get multiple ones you have to time range the query if you\u0027re doing expansion you can\u0027t obviously ask for everything cuz it could be infinite and then you just ask those IDs or the standard get and it will serve return you like Mike said the full event as though it were that instance of it with the right date and everything okay I think happy that let\u0027s move on to next one what was this oh yeah okay so the calendar event object is representing an event and as I mentioned at the beginning this is basically a giant object which is data format puts in last call and almost finished but there\u0027s a few extra properties that specific J map on it its ID which is its ID within J map calendar ID the idea the calendar it belongs to and possibly will let you request UTC start which is what we mentioned before the server would calculate what the UTC start is giving current times and information obviously we don\u0027t store it as UTC in the server because timezones can and do change at any point but if the client wants to request it they can ask for what it is given current information there\u0027s no we\u0027re not expecting the server to market has changed if times and information change so anything like that though this is can be clearly marked computed property so given that we have these extra properties to add but J\u0027s calendar can be extended with arbitrary action properties we have a kind of name spacing issue because they\u0027re all in the same namespace so I can\u0027t see two options here and I think what\u0027s been suggested to me is the but the best thing is guest calendar will have a registry of property names and we\u0027ll just reserve any ones that we want to use within J map so that they\u0027re not used in Jeff\u0027s calendar and so if you see those that came up anything else is Jay\u0027s calendar and just gets written "
  },
  {
    "startTime": "00:21:17",
    "text": "straight through to the object the other alternative I see is we define exactly which ones we expect we jairs calendar and you have to prefix custom : or something to access the others but as soon as I heard of the registry idea I was like oh yes that\u0027s that\u0027s probably much better way of doing it so that\u0027s why I plan to do is anyone got any comments on that I see general nodding in the room for the registry yeah okay I think that\u0027s straightforward them so from move on to the next shoe okay so this is just a kind of a query should we allow an event within an account to belong to multiple calendars in that account so this is kind of treating the calendars more like labels and folders if you like so a bit analogous to how you can do that with mail potentially if you want to with with gamer which is a bit more flexible and powerful and I was kind of thinking that I liked the idea of the symmetry but I think overall I don\u0027t think this is a good idea if we scroll down as a few more cons here one of main troubles is calendar it belongs to us various properties like what are the default alerts this calendar it\u0027s quite common to have different ones for different calendars what\u0027s the time zone for this calendar potentially and ACLs and so if an event is in multiple for example do you get the alerts from all of the different calendars or just one it gets a bit more complicated and the kind of the bigger downside to me is just that no one seems to be doing this even with their own proprietary models so a it\u0027s going to be harder for existing clients to adopt game at calendars if this is something in there and secondly actually is there any demand for this or is it just more complicated and it seems adding complexity when there\u0027s no demand is and the biggest con as well potentially it doesn\u0027t actually map very easily to CalDAV because Cal that doesn\u0027t support this and explicitly you cannot have the same scheduled UID in different calendars in the same accounting car dev but run your I think more proponent of this yeah you can have a non-scheduled UID in multiple calendars in Cal dev but one of the one of the big issues is that this does kind of map Pakal dev or the related issue with cal def that if you move something in a client the client then has to calculate a move command on the server rather than being able to upload the new one and then delete the old one or you\u0027ve got a race condition where you have to delete the old one there\u0027s a bunch of different ways in which you could wind up with the data in two different calendars so I think it\u0027s it\u0027s cleaner and clearer and the server can always just reject an attempt to set multiple calendars if it doesn\u0027t support it I didn\u0027t quite further but I I mean I think I got the UM you are still in favor of having support for multiple calendars for an event I wasn\u0027t quite sure why I mean J map to move it between counters is just an update the calendar ID property so it\u0027s very simple and it\u0027s a single command there\u0027s no create and then destroy yeah "
  },
  {
    "startTime": "00:24:19",
    "text": "but a Cal dev client talking to it similarly particularly because something could wind up with the same ID I think you could reject an attempt to set something with the same ID that has different content in a different calendar with this already exists but if it has exactly the same content it should just become a second calendar ID because that way you it\u0027s easier to recover from data being restored into another calendar that\u0027s in the same namespace and a bunch of conditions like that how would you map that to caldo though like if it\u0027s a scheduled event you\u0027re not allowed to do that in Calif yeah if assuming the server actually enforces that restriction right you would you would then enforce the same restriction if was a scheduled event but we certainly we\u0027ve run into issues with our implementation and clients that don\u0027t like the idea of an event not being Eldar exists in multiple calendars on the Cal dev level will keep Bron there but also recognize Ken how about that yeah ken Murchison so Ron when you say our clients are you talking about our our UI or actual cab that Cal deaf clients have the problem not challenged Calvet plants having issues talking to our CalDAV server that it rejected the event being credible hopeful telling us because they would try and upload it when accounting for deleting the old well other than copy of fun things that I remove I mean the fact that the copy command exists LF you can\u0027t use it within a one account yes and our server disallows it for the the reason Neil mentioned earlier that with scheduled events they can only be on one calendar yeah that would be k-map compatible I believe other other vendors do the same thing one UID per users set of calendars now if you got something shared or whatnot that might change things slightly but I\u0027m not sure with the use cases and maybe I\u0027m just a dunce corrected discontinuity between because you can have the same event on account of the shed into your space for another user but you can\u0027t have a the same event on two calendars within your own user the use cases mrs. Barry the use cases I share a calendar with you and I share a different calendar with Ron and I want you both to see the same vent so I put it in both calendars so it\u0027s in mmm and of course that\u0027s that\u0027s a contrived use case but if you make it a little more complicated it\u0027s a real use case it\u0027s somewhat contrived but yes iced it is based in reality it\u0027s like I can kind of see maybe we\u0027ll take this one to the list then and see there\u0027s some wider "
  },
  {
    "startTime": "00:27:20",
    "text": "feedback given that I think I\u0027ll be to me will not currently in the room that have opinions that someone else wants to speak go ahead I was just trying to history as I recollect the only reason for the restriction was that at the time Cyrus and we\u0027re afraid didn\u0027t want to have to limit your scheduling to a specific calendar they want to do a search for the UID across all your calendars to find it but it does it promises it is inconsistent that all over the place you can have multiple events of the new ID yeah we have this one restriction yeah I mean J map I think already is gonna have a restriction of a UID can only exist once anywhere in the account so that kind of avoids so you walk has shared is a different account it\u0027s the client wise it\u0027s the same it\u0027s the same deal it looks the same in the end yeah the client may want to merge those in its display it\u0027s true it\u0027s the same day to initiate the product that they use what what ended up happening was that we end up with all the same problems because of sharing and instead of solving those issues up front so that you could allow for the possibility of the same event turning up in two different places it was pushed out other way and said oh won\u0027t happen and then sharing came along and it did happen so I mean there\u0027s all sorts of reasons why it might happen you might as well I think Bronk mentioned one what if you import a whole batch of events so we\u0027re gonna filter every one of them to make sure saying the UID doesn\u0027t turn up this is Daniel con Gilmore at the mic here I just want a second what Mike is saying I regularly run into this problem not via J map oh just with the calendar files in a calendar client where I import an event and then I move it to a different calendar and then I get an update about that event with the same UID and I import it and then it\u0027s got a deal with the fact you\u0027ve got two things with the same UID but they\u0027re in different calendars and then I try to merge them and they\u0027re different because it was an update these things happen in the real world yes yes and I think the problem will all arose because because sorry I wanted to simplify the world right down to something really easy to deal with unfortunately the world was more complicated than that okay I think we\u0027ll take this one to the list afterwards then and write up a bit more and because I think this yes definitely people not in the room on right now that will have some opinions so I consider this one unresolved and move on is that "
  },
  {
    "startTime": "00:30:21",
    "text": "there\u0027s enough discussion that it could be have it on the list yeah okay let\u0027s go okay so this is so the moment you get main you just get push events for state changes on the server but obviously current events can have alerts and clients can calculate when those fire themselves but again for things like web hooks or various other integrations will just less sophisticated clients might want the server to be able to calculate when should this alert fire and just push an event to say hey this alerts just gone off so firstly so if you did that it\u0027s not a state change event will have to define a different type of push event that\u0027s okay it\u0027s already got a type on it so we can extend that to push different types down is this something that we think should be added to the spec the ability for the server to push when alerts fires to clients and if so is this something that\u0027s just a mandatory part of the spec or is it a separate capability I think of my two main questions and then there\u0027s kind some kind of syntax Oh question over how we set it up but that\u0027s not actually that important we can work that out so my question is yes do we think that\u0027s a capability that we need in servers and is it a mandatory capability or optional one anyone got I need someone\u0027s from the floor with a virtual floor it still slow okay sorry my button with yes I can just turn myself on but I thought I\u0027d be polite I think this is the kind of thing that it\u0027s it\u0027s actually perfectly fine to be in a separate capability because it requires the server to have to keep track of alarms yeah it\u0027s quite a long time to do this yeah I I don\u0027t think it\u0027s a bad thing to put that kind of thing in a separate capability we built a nice powerful capability system and I saw the discussion about extension mechanisms rusting shut says as I don\u0027t think we\u0027ve got into any risk of our extension mechanism rusting shut but this it\u0027s perfectly fine for this to be a separate capability and then it\u0027s not mandatory and everyone\u0027s happy can everyone it is a lot of work for the server I guess my question will be will the clients even use it are those gonna do deal alerts on their own anyway it\u0027s kind of like the whole time zone thing we push time zones the clients to throw it away immediately and do their own thing with this be it\u0027s in the same realm I don\u0027t have the answer I\u0027m just asking the notion it\u0027s good question I don\u0027t know I I see in the generic case having probably more people interested in using it for I said kind of like web hooks so if you do it create a push "
  },
  {
    "startTime": "00:33:22",
    "text": "subscription on the server and it does a call back rather than pushing that directly to a client it does some other action and so you can you could use this system to like if this then that kind of thing trigger when an event alert fires it does some other arbitrary thing off somewhere else potentially but yeah it\u0027s a bit hazy as a use case I give you okay Mike go ahead sounds like my argument against doing too much with with all arms and things because the actual thing that\u0027s raising the alert probably needs to know much more about where you are what you\u0027re doing and all the rest of it then the server is going to know it just doesn\u0027t seem a very useful well the thing that receives it wouldn\u0027t have to actually do anything or show the user anything no but if it\u0027s not going to do anything I mean for example if you\u0027re if you\u0027re 20 minutes away for an event and you\u0027ve got an alert set for five minutes ahead of the event beto that is absolutely no use to you you want do you want the alert 20 minutes in advance and so you better get moving to get to the event so it just seems a not an enormous ly useful hmm yes I think at least felt for for regular alerts for users I mean I can see maybe in process control or something like that kind of thing which is not too far-fetched but so maybe we don\u0027t want this in the spec at all then I don\u0027t know if it seems much yeah I\u0027ve been client put it off yes I think it\u0027s probably going to end up not being used much okay and this is kind of say we leave it out of the core Jayma accountant respect and if somebody comes up with a valid use case or strong need we\u0027ll use it as an extension yeah I mean giving it clearly would be a separate capability anyway almost doesn\u0027t matter if it\u0027s in its own document or a separate document it\u0027s much remoteness and the other way of looking at it of course is even if you\u0027re doing a server-side it\u0027s essentially having a client on the server just handling alerts hmm okay I guess I\u0027ll leave it up for now then which makes life easier and if yeah someone really wants it will okay it\u0027s at the document for it okay so we need to be able to send high-tech messages for scheduling when you do certain things like you create an event that has invitees this is how interval scheduling works so I think the main question is whether these are just sent implicitly because you create an event with them or explicitly I think J map style definitely tends to be a bit more explicit but if it\u0027s explicit how explicit is it just an argument to a calendar event set to say send I tip and anything that any change you make that should send 90 thing the server works out the appropriate thing send and sends it or is it actually more explicit than that where the client says do this do that in some more precise way if that "
  },
  {
    "startTime": "00:36:27",
    "text": "makes sense that\u0027s my me yeah it\u0027s me again yeah my whole problem with with the I tip thing about when how you send messages is that it it it says it has sort of wording like send a message when something important changes well well who makes that decision you know if you change if you change in a location universe to another room in a building that may be extremely important to one of the attendees it\u0027s not up to the to the organizer whatever to decide what\u0027s important and and so my feeling has always been that any change or to be transmitted to the client see a the question is does the client bother telling the user that something\u0027s changed and that\u0027s much easier to determine at the client end that the at the server side or the originating side yes except for I\u0027m it messages often will end up in the users mailbox which is why on this miss Trixie wait isn\u0027t that isn\u0027t that just a sort of an implementation issue it is I think the main question here though is probably exactly what misses to send we can\u0027t define exactly because it\u0027s going to depend a bit on what the server wants to do or what it thinks client wants to do so perhaps we document those as a best common practice separate document well yeah I would agree with that one of the problems with I tip has been that it didn\u0027t make it absolutely clear it sort of said you don\u0027t you don\u0027t have to send this you don\u0027t have to send that so everybody starts sending everything and in reality you you could send much more compact messages than people are sending and and we should probably encourage that can to give another coming yeah I like what Mike said but I also would say let\u0027s not make the same mistake we made with kal dev with implicit scheduling and you have a situation where you\u0027re just trying to move stuff onto a calendar from an external source and we start firing off a bunch of events I think yeah this this should always the client should always tell us yes do my scheduling requests or no let\u0027s get that in there from from day one absolutely always control i I think just the question really is more about is it just a simple yes/no send scheduling stuff for these changes or is it more you send the changes and you send a separate method call to say now send these I tip messages just say yes yes no send scheduling messages that\u0027s probably the simplest option we\u0027ll start with that men and then see if we come up with use cases that\u0027s not covered yeah that\u0027s kind of where we\u0027re getting "
  },
  {
    "startTime": "00:39:27",
    "text": "to with card up at the moment with the extra stuff that\u0027s in calyx right now basically gives you that okay on/off capability so it would match that okay what one obnoxious thing that showed up for fast mail users just recently with this was that if you\u0027re missing the correct ackles on the calendar scheduling outbox then the CalDAV set works the PO the footworks but it just sets a scheduled status 3.8 which means permission denied which at the moment it\u0027s not even mapped through to jer map so the user can\u0027t see that their scheduling message wasn\u0027t sent it just silently didn\u0027t happen for them yeah that\u0027s nasty we can give proper error messages with J map if you try I say I want to send I\u0027m a poor whatever I tip and we can\u0027t we can just reject the whole change and say sorry we can\u0027t because this yeah yeah the difficult part there is is the whole when a server rejects anything that\u0027s not entirely correct then the client could lose significant changes if someone\u0027s done a lot of editing on the event do they want it to fail to save I mean that\u0027s just an extent up to a client handle though the client knows what it\u0027s sent it can not just throw it away if if the server gives a mess error that\u0027s just I this is the message though that the data was fine but I couldn\u0027t send I tip because of reason the client can then prompt the user as well do you want to save this anyway without sending the messages or what they the difficult case always to see you walk away or you you close your client after hitting save there\u0027s nowhere else like you have to correct the issue before you can save your data or you have to copy paste it out into a separate document it\u0027s not a good user experience to not be able to save the intermediate state somehow somehow is yeah bit very going if I don\u0027t see any obvious way of doing that but if you have a suggestion no not not at 3:00 a.m. but ok so that the issue Braun\u0027s describing has to do with scheduling on shared calendars which we all know is a mess and I think it\u0027s incumbent upon us just kind of straighten that out as part of it I think that will be much clearer in this yes and if we can get it right with Jane of calendars perhaps we can filter some of that back down to kill that for legacy systems yeah ok Henry oh I was just I was just gonna say that Bron Bron raised the the old issue of draft events really which was was shouted down years ago but keeps popping up again so I mean that would sort of solve it if you\u0027re implicitly creating a draft event as your as you\u0027re working it will not disappear it\u0027ll just be still "
  },
  {
    "startTime": "00:42:28",
    "text": "draft that\u0027s fairly straightforward for creating if you\u0027re updating an existing one I think gets a bit trickier because you still need the one that\u0027s the current status plus possibly a draft to change to it that\u0027s a bit well I guess you can copy it into a draft yeah but it\u0027s then copy it back again okay well we should maybe have a look at this on the list of whether there\u0027s something we can do a drafts she that reminds me to my completely forgotten mental now maybe want to do something about having a trash place to put calendar so I know okay I implemented it it cost me so many problems but maybe maybe gone maybe okay I have got something to say about the next slide if we all right I\u0027ll just leave you there then yeah thank you okay this is just about adding support for the capabilities of MV availability which is artsy seven nine five three I think this is definitely accept the capability and I\u0027m inclined to punt it to an extension but the work I do though Asus which is when I you know we did the soap stuff this is also P and I finished that and they said that\u0027s all that\u0027s all great if we do so but what we really want to do is something is Jason and that was a long time ago and and I think they will be very interested in this whole train map thing but they are they really love the availability so the there\u0027s gonna be a method I\u0027m currently calling calendar user slash get availability which looks at your free busy time is your free busy report essentially I\u0027m going to make sure that the way that response would also work once you have support for Via Rail ability even if you already have it just you can\u0027t set afire J map and I think and then we we can add this on extra I think we definitely want to add it it\u0027s just whether we tried twister as well is that he\u0027s already implemented in a very simple form Apple I think uses it for their office hours yes we were experiment here that spasming tarts the only thing you can set there yeah it creates of the availability object it\u0027s it\u0027s very simple so I\u0027m curious are we thinking about leaving it out of the the base spec because we think nobody\u0027s going to use it or because we think it\u0027s too difficult or some because I think it\u0027s quite a bit of extra complexity to add into the spec and so I yeah we think about doing the equivalent I mean if we if we assume that we can store and one thing is company or the the my mind\u0027s gone blank the entity types being you know can us just our events cows just for tasks "
  },
  {
    "startTime": "00:45:29",
    "text": "counters just availability are we gonna specify that from the outset so I think we should and then it becomes real very easy because you say oh this collection holds availability I mean that\u0027s kind of implicitly the case at the moment because there\u0027s only events in the system so a calendar can only contain events as soon as we add other types yes we would want to say whether you\u0027re allowed multiple in one calendar or whether availability has to be in a separate one you recommend availability should be complete in a separate calendar - well I we\u0027ve gone with CalDAV keeps causing problems and the reason they went they did that in CalDAV is because there was the danger of people simply deleting a calendar because they thought it contained only events when it contain events and tests and and that was the reason they moved away from mixed entity types in collections yeah I certainly I think Tarson events that was a terrible idea that those were mixed together into calendars I don\u0027t think we would do the same with Gerry Matt but as I said at the beginning this there\u0027s no tasks in this moment we\u0027re just looking events availability is a bit less clear in my mind whether that should always be in a separate calendar or should be combined with a single what well I think you run the same problem if it\u0027s a real thing that people who do queries on a collection that are filtered to a certain type think that\u0027s all there is in there and and then they simply delete it thinking they\u0027re not and so they throw away a whole load of other stuff well the other like in in J map is the V availability things wouldn\u0027t have to be tied to a calendar at all they belong just to the calendar user overall so they\u0027ve just is this an account the only reason they\u0027d need to be tied to a calendars if you wanted to manage permissions separately for different people on the availability which you probably want yeah you would actually yes and the real power of availability comes will you present different availability to different people so I I would I would argue for from the outset indicating what type of thing is inside a calendar collection and looking making that part of the space expect so we start off in that that state okay that\u0027s easy s\u0027matter yep this is Ken again I have no strong opinion on single entities and calendars but I\u0027m fine either way as far as availability goes personally I would lean towards putting it in the base spec because Mike\u0027s then keen is saying in the past and bronze current Kalman and I was standing just because free/busy isn\u0027t as useful as availability is just not just because my counter says I\u0027m free 3:00 a.m. doesn\u0027t really mean I\u0027m available for a meeting and I think availability captures that yes one when can you schedule with me okay I will look again at keeping in the "
  },
  {
    "startTime": "00:48:29",
    "text": "base back under certainly at least part of it needs to be under a separate capability I think but well I can I can certainly provide some help with that yeah that\u0027s great thanks Mike ok I think that\u0027s I think that\u0027s it some time I\u0027ve got been several several issues here it sounded like you had a good sense of the room on several of them but if you could take them all to the list and you know we want to confirm the consensus there Joel money will do that I think oh I bet that\u0027s great there\u0027s one other issue that that\u0027s come up with this that wasn\u0027t on those slides that I wanted to just mention to the room and that is the idea of per user data and what belongs to a user and what what is shared between users in IMAP we share the scene we have peruse the same state and shared everything else in our server and there\u0027s no way to tell well there is because there\u0027s an annotation that you can query but general there\u0027s no way to tell which parameters are shared where and shared in which one\u0027s a individual to user yes they\u0027re quite a few properties will need to be per user I guess the main question is do we just document which ones those are in the spec or does the server get to decide in a certain manner in which case it would have to advertise which ones are per user I was inclined of just document which one should be per user in a spec but maybe there\u0027s other opinions on that okay thanks Neil and just a reminder of several people who\u0027ve come in blue sheets are right behind Barry there please make sure that you\u0027ve signed the blue sheets and Alexi is up all right so obviously if this anything happens to this document it probably will have to be edgy sponsored by Barry yes right so I was lucky enough this week that I have some sleepless hours and I had a chance to think a little bit more about so basically the at the moment the document only contains the basic as my signature verification there is one extra thing that might be added which I will talk about on the slides and advanced feature if there is a desire to talk of cooperating server and store your private key in the server you can do encryption decryption and signing top but that\u0027s probably separate capability yes right so in order to report the status as mine status response property can be requested and it\u0027s a string with some simple structure "
  },
  {
    "startTime": "00:51:32",
    "text": "yes so unknown is when the server cannot figure out you know it might be multi-part sign message for example but of a format that the server doesn\u0027t know so for example can be like open PGP but well this is as man sign is the status that server knows it\u0027s s/mime signed but didn\u0027t try to verification yet and then once verification is done it\u0027s either yes mine verified or assigned verified or sign failed nil raise the good question this week about when does the server turn just signed and when does the server returns and verified sign failed so this is very loosely based on my implementation and there if you just want a list of messages you just return sign if if you want to actually view a specific message then you will verify it the reason for this is verification operation might be quite expensive so you want to delay this Daniel this is Dan Gilmore I recommend cutting down the number of statuses here I recommend two statuses only and not for the statuses are signed and verified and nothing those are the two statuses it\u0027s not clear to me as a user what I gained from learning sign failed compared to unknown we found that we had the same situation true in D Kim where a DCAM signature that doesn\u0027t validate should not be treated any differently than the deccan signature whatsoever I know many people do but it\u0027s a mistake and and as a as a user of an email client it is not clear to me that a big red warning sign just because there happens to be something that looked like a mess mime signature makes any sense whatsoever because it doesn\u0027t defend me against an adversary who\u0027s trying to forge the things that just stripped the signature and remove the big red warning so so I think I think for a cognitive load for the users the the only two states you want are this has been verified and verified needs to cover quite a bit of ground more than what you\u0027ve described here I think verified needs to cover that the timestamp of the signature matches to some level the time the date stamp in the message that the sender was the same as the certificate the certificate itself has been validated and so forth yes yes most of this is implied slight difficulty is the efficiency thing where you defer the verification ya know the other part is that in my implementation "
  },
  {
    "startTime": "00:54:33",
    "text": "if the sender certificate expires it moved to sign failed right so but I mean we can return this information in some other way if it let us see a draft that explains how to how to check signatures in the context of store-and-forward data with expiring certificates because I don\u0027t think anyone\u0027s ever actually written that down I have some strong opinions about what the right thing to do is and that you want to evaluate the signature at the time that the things claimed to be read and you want it to fail if the timestamp of the message itself differs from the timestamp of the signature so you\u0027re evaluating stuff at the time the message claims to have been and your ich and you are required then to be showing that date stamp and the context of the messaging the dates tab appropriately which may mean for a male that you also want to check to make sure that if it\u0027s in reply to some other messages that it\u0027s time stamp is actually after the messages that it replied to for some definition of after no I\u0027m just saying that you wish you one is you want the mail user agent to think very clearly about what this signal actually means and just because I sent a message with the key that I later that later expired and certificate it\u0027s silent that\u0027s later expired doesn\u0027t mean that it should show up as as nothing once the certificate expires that doesn\u0027t make sense yes it wouldn\u0027t show it wouldn\u0027t show as nothing and before you asked to go for probe for statuses till two but yeah I understand yeah I understand sounds like you have some ideas so maybe we can think of some text and we can see if we agree you say the date of the message but there are many dates involved inside a message and how many of those can be forged sothey you need to be more specific about which date so probably the one it was received by your server no because the date had a field you can write whatever you want into that no one is g/kg is saying is if it\u0027s a signed message maybe you don\u0027t want people to be able to put any date they want it needs to connect to when it was signed in a reasonable way so if I put ways to fudge this but what what I wanted to respond to to Daniel know is I don\u0027t want to start getting into all sorts of tying things together and message threads and validating relative to the reply to to the in reply to and that kind of stuff that\u0027s just getting way out of the scope of a signature mm-hmm the signature is not saying that that this is in reply to that other message and therefore it has to be later than the other message is is a semantic content of the message and that\u0027s not what the signature is for okay all right "
  },
  {
    "startTime": "00:57:35",
    "text": "let\u0027s take a second here from bran yeah what I wanted to comment on was debug ability one of the things that really frustrates me about DNS SEC is that you just get back in an X domain when you request something and what\u0027s actually happening is a key signing failure but the domain totally exists so the record totally exists I think it\u0027s great to have something that just tells you yes signed verified or not known but it needs to be a property that can be fetched for anyone developing or testing or for a support department to ask the user can you tell me what what this shows so it actually might need to be visible through the user as well so that they can report to support here\u0027s why my message has an issue rather than being completely undo bugga ball actually I think a real feel but same concept it\u0027s easy to get caught up with the attacker case and make the regular case very hard to use although without the attack case the regular case doesn\u0027t matter anyway there\u0027s Neil Jenkins I just want to make a quick point we go back to all that other stuff just about from a J Matt point of view if this does have a signed state that\u0027s I\u0027ve not verified it yet but I want to I think the way to do that would be to say if you request one of these properties body structure HTML body they say neither body properties right then you can expect if you fetch at the same time the signed state it will be verified or failed or whatever right and after that it will be cached basically about that where\u0027s if you fetch it without fetching all those properties at the same time you may only get back up signs they if we keep those values ok dkg here so Bron I completely agree with you that there may be good cause to have debugging data and I don\u0027t think this is the place to do that maybe there\u0027s an additional thing that you can ask for debugging information about how the Signet verification signature verification failed but given the number of ways that I think signature verifications can fail I think it\u0027s a mistake to try to put that in this status value which looks very much like something we are encouraging the user agent to display directly to these ok yeah if they\u0027re going to return information about the failure it\u0027s probably going to be a separate property but yes I agree absolutely it may even be a free-form textual field that says yes right right yeah I don\u0027t know Brown did you want to go ahead i but I gentleman behind you in line who\u0027s next hey Steph gentle I just want to say that the like to read or under saying I\u0027m imagining the ideal UI to be something like what browsers do today which is you "
  },
  {
    "startTime": "01:00:37",
    "text": "know if there\u0027s like a other scenario here I can see exactly why the certificate failure why that seems fairly check right like that\u0027s what I would I think well I mean a lot of developers use that you know like I know that my mom doesn\u0027t click on that button but I certainly do when I\u0027m building web site from and yeah sorry can I just want to do my usual pushback against using my mom as a non dico user we are gendered space we\u0027re heavily male there\u0027s a bunch of assumptions there and I know it I know it\u0027s not an intentional thing I just my mom happens to technical user let\u0027s not make those assumptions about people who might be in the room or might not be in the room so yeah I mean I I think it\u0027s kind of funny to use the browser model as the model that we\u0027re working from a because when the browser model fails you don\u0027t see the site at all right and that\u0027s not at all the case here right as someone who\u0027s debugging a lot of certificate errors I\u0027m not actually convinced that this also thought through you doesn\u0027t show you then there are multiple failures for example if you have it if you have an expired certificate that also doesn\u0027t match it\u0027ll usually tell you one of those two problems but not the other so okay I think bronze next all right if I can remember what my my other point was here I in terms of the gem happiness of it as a server implementer I prefer thee if you requested this property really calculate it for you if you don\u0027t request that we don\u0027t I can I can see why you might want to when fetching a listing I guess have it pre calculate without having to fetch the body structure on it but it is the question then becomes do you bump the state when you calculate it because if you don\u0027t bump the state when you calculate it then how do you know it\u0027s changed and yeah you can define the kind of exception is but yeah the General James mandates would have it don\u0027t quite match to it gets calculated to keep fetch specific other properties a bit weird like me I mean I know if I implement it in saris IMAP then what would happen is at the time it got calculated it would either set a keyword or it would set an annotation and either way that would bump the mod sequence so it would actually report that message just having changed Neil Jenkins just on the browser I think actually the lesson learnt there is moving away from showing Miz\u0027s trusted to not showing anything new passes and showing big red warning signs to you know don\u0027t go here if it fails that\u0027s the only state because users do not notice like this this is fine notice the absence of it this is fine notice of Keating they have any so but I know you have use cases perhaps that it different "
  },
  {
    "startTime": "01:03:38",
    "text": "I don\u0027t sorry this is dkg you won\u0027t there\u0027s one more thing that I wanted to add I think bran is right to think about what it means to do the verification how that changes the state of the message and I want a flag that perhaps what you want in this state is the timestamp that then for for if it comes back signed as opposed to not signed which of the two states I\u0027m recommending what you may want to have also is signed and verified and a timestamp when it was verified now I am NOT a big fan of moving the cryptographic utility into the server so the fact that this is situated in the server makes me uneasy but if you\u0027re going to be doing the cryptographic verification in the server the thing that I want from my cryptographic verify are is actually a cached time stamp that says I saw this thing and I verified it at time T it\u0027s very different for me to get the message I\u0027d look at a message on my on my laptop and I get and I\u0027m looking at it in 2019 and it\u0027s from a message that was in 2002 and right as signature verified then if I what I had that is actually a timestamp from my trusted user agent that says I actually did verify this in 2002 that\u0027s semantically different and so I think you might want it to say signed and verified with the time stamp yeah you have to verify it in 2002 because if you verify in 2019 using the key that was valid in 2002 that key has existed for 17 years and if it\u0027s been cracked or leaked in that time then that message could be faked that still might be relevant right I might be have just imported an archive of messages and they use it right so so there may be a circumstance where the where the user agent will decide what to display based on a timestamp of the verification compared to the timestamp of the of the message but I but that is one thing that I think should be bundled with a signature verification is a timestamp check about a and I don\u0027t know exactly what that means and I don\u0027t know how we make the user agent use it but I\u0027m happy to work with folks to think about what what the semantics are there okay you mean timestamp of when it was initially verified well the first time it was your earliest verification I don\u0027t think you gain anything by storing additional attempts at there I don\u0027t think you do either you need a chain of custody and you need to verify it with a key that\u0027s valid every time that that the previous valid key expires really okay okay there are some where developers cases when you don\u0027t have you didn\u0027t instill trust anchor when you\u0027re testing and it failed and then you know you install it and then later it succeeded but anyway yeah I\u0027m not I don\u0027t know no they only but that\u0027s I\u0027m not suggesting that you store a timestamp for when the signature verification fails agree even suggesting that you store for when it succeeds fine I\u0027d like to move the discussion along because we\u0027re we\u0027re taking a lot longer than budgeted here right so if we want to do signing sign encryption decryption then there is identity object which "
  },
  {
    "startTime": "01:06:41",
    "text": "extended with as my own credentials now at the moment this key ID which is like a blob ID and various other IDs and certificate you can retrieve private key is not retrievable through this interface if somebody really wants this we can discuss but that\u0027s probably safer default and also additionally you can mark the private key whether it\u0027s only for signing for encryption or both you can also mark a special case if it\u0027s expired but you still want to be able to decrypt all mail you can mark both of them as false then it might be able to decrypt it but it\u0027s not usable for sending stuff out next slide so yeah I was trying to figure out how to exactly create a constructor message which is decrypted or with if it\u0027s a Buckley signed how to extract them payload so I think with with some help from Neal you suggested I had attribute to email parsed oh well basically it\u0027s mime decode default is false so nothing is done if it\u0027s true then the blob is first attempted to be decrypted and/or stripped from signature unpack from CMS basically and then it will be parsed and then at the end of this there will be a new message with new blog new message which you can act on next slide on the sending side email submission object needs to be extended with at the moment I made these two objects maybe it\u0027s efficient to make them just boolean\u0027s but if we need any more information oh yeah actually so yeah in this case you can actually say you can possibly have multiple keys and you want to specify which one you want to use although if you specify identity it might not be needed so when you think a bit about this this seems for defined in the model which is the service basically doing the encryption kind of on the edge going out right so yeah so just to be clear if you do this it\u0027s just the version that sent that is s my encrypted and will sign to the version you store locally in your send copy is not because this is just my it to the actual submission yep that\u0027s what you\u0027re intending you probably will store the "
  },
  {
    "startTime": "01:09:42",
    "text": "encrypted message in your sent folder but right it basically allows you to do transformations before you send mission then out I said because that implies to me something that just happens to the submitted message that sent out not your copy I think you probably want to do as part of email slash says potentially then to say create this and also when you create it encrypt it and will sign it that\u0027s the five four three two two message I\u0027m not created also move it to a different object where they must have just created yes opposed awesome Michelle P as well yes that\u0027s a good point all right the copy will sending out yes good point Daniel Kanagawa I\u0027m really sad about this work the idea of moving the secret key material that is the users cryptographic identity and capability for seeing intended data into the server I think it causes problems for other people in the ecosystem who are trying to understand what end-to-end encrypted email actually means the fact that you\u0027ve moved it there I understand that anyone can leak clear text any critics they have access to you but I just want to point out that I think this work is radically different than the signature verification work and I think it\u0027s wrong in a in an entirely separate document and I don\u0027t think it would be right to try to conflate the two because I well well it Tribble vaguely with the signature verification work because you\u0027re relying on this other party to do the checks for you in this case you\u0027re actually relying on the other party not to compromise the security the confidentiality of correct the messages and not to forge messages as you which otherwise they wouldn\u0027t be capable doing so I strongly recommend if you\u0027re gonna work on this that you work on it in some separate draft not in the same draft yeah once they come new drinkin\u0027s I mean I actually think there is a use case here which is generally you have a kind of Yemeni corporate like company which is a trusted boundary if you like the outside and the stuff and there\u0027s other boundary things are encrypt or decrypt it for Jones it\u0027s not about end-to-end encryption that is a different use case but that\u0027s I think that\u0027s where this is kind of a where s/mime in general is kind of more useful I hear you say it\u0027s not about end-to-end encryption but when the user who\u0027s outside of that system is sending mail to them do they think it\u0027s about end end encryption yeah I don\u0027t either and that causes that paints a very confusing picture for people who are trying to say you\u0027re trying to use email who are not the operators of this system who are trying to understand what it means when they send now I was just going to say with that it is not necessarily always the case that the client and the server are operated by two different parties your server might be your home box that is sitting underneath your TV and it is "
  },
  {
    "startTime": "01:12:43",
    "text": "fully controlled and owned by you that your client is talking to securely and that is then holding your keys the the Apple model where the server where everything\u0027s pushed to Apple devices to the point that I can\u0027t get a one time password without owning an Apple device in order to to talk to their server even in that case the server might be the more powerful device that your watch is talking to that\u0027s sitting in your pocket I understand that Braun and I think I mean certainly there are use cases where it would have the same fundamental confidentiality and integrity properties and authenticity properties as it would if it was asserted on the local device that you hold but when we define this we have to be aware of the context that we\u0027re defining it in and the context that we\u0027re defining it in is that many people will be using this with servers that they don\u0027t have the same level of reliability oh yeah I agree with either a separate documents a good idea okay is that it yeah I think that\u0027s it all right thank you relaxing and so the next we have yes so about the Indian art I put Sebastian the Russian zero two at the beginning of the week the idea is that it make it simpler using more concepts from Drake that Chrome so next slide please so a man changes the men change is the following is defining super MD and object with a very basic set method using only create and the past method so we replace the previous session who was extended the material object Neff slide please so no vengeance set response is similar to standard set metered so as against Ypres thank you latest comments the only caveat is that is returning no more miss Effie mission but just use the passive response from the endian so in this case we are sending an email because an Indian is is somewhat an email without adding an miss efficient to to follow it but given that its servers often a sudden forget message I think it\u0027s very talky next please the erection has some save a "
  },
  {
    "startTime": "01:15:49",
    "text": "little fix he is a dating game ocurro of attrition and remove a registration of the Nvidia registered keyword and some typos and next slide that\u0027s it any question no questions very I think the general model is expecting now it\u0027s much more j-mac evil one for a better word yeah I need to actually read through the latest version again properly but this thing\u0027s pretty reasonable thank you it\u0027s Bronwyn I have one more comment on it I wonder whether MTN is clear enough as a name whether we want a longer name for the object just that this is a global namespace for all things that will be jam up later yeah it might be good idea to actually expand that out of it this is very I don\u0027t want to belabor this or you know make a bike shed out of it mdn is certainly a well enough known term that I wouldn\u0027t worry about it but I don\u0027t feel strong okay I don\u0027t need it just jumped up a bit all right looks like the queue is empty now so Thank You Raphael there any other yes people are shaking their heads please sign the blue sheets if you haven\u0027t already and thank you for coming to this session and thank you to the remote participants and particularly to the remote chair I was up at some crazy-ass yeah indeed it\u0027s a good just just about to thank you thanks for running at Jim and see you next one All Right see you then "
  }
]