[
  {
    "startTime": "00:00:21",
    "text": "[Music] [Music] all right we\u0027re gonna get started in just a minute alright hello everyone this is the TLS working group meeting at IETF 100 here in Singapore let\u0027s see you should all be pretty familiar with the note well since this is Thursday you\u0027ve probably seen it oh and 15 times already but please respect it we do have minute takers and jabber jabber scribes the blue sheets are going around remember when you speak at the mic to state your name and let\u0027s as always keep this professional are there comments from the peanut gallery down there there are professionals good all right here\u0027s our proposed agenda we do have a fairly packed agenda especially since we want to get to resolution on the TLS remaining TLS one three issues and make progress on DTLS as well couple other perhaps especially eye on a registry graph we also want to start moving that board document status I can find my slides here where they all right so we got two dots in the RFC tersky there it\u0027s miss ref they\u0027re waiting on another reference um so we\u0027re about done with those that\u0027s great the Dane draft is should be ready to go so that\u0027s really good because we\u0027ve been kind of pinging them a little bit since the last meeting we adopted three drafts for delegated credentials SMI encryption the record size limit extension I think the delegated credentials in the SMI encryption stuff is kind of still kind of in its infancy getting getting to go worked on but Martin do you want to say anything about the record size limit extension draft yeah Martin Thomson um I think this is "
  },
  {
    "startTime": "00:03:22",
    "text": "done so I I think we\u0027re we\u0027re done though it was kind of blocked on an issue that was on until s13 about record sizes that we discovered that\u0027s recently been merged and that was the only thing I was waiting for alright alright I have an implementation if anyone wants to do interrupt testing on that one I\u0027ve talked to a bunch of people it\u0027s a little tricky to implement sometimes because you have to restructure the code a little bit but it was worth it okay great so we\u0027re gonna probably go ahead and working group let\u0027s call that one hopefully by tomorrow there wasn\u0027t a whole lot of discussion on the list but I think it was a pretty straightforward change and basically nobody said don\u0027t do this at this point so be ready for that TLS 1.3 has been through to working group last calls at this point we\u0027re gonna discuss some changes today and then we\u0027re gonna do we\u0027ll probably end up having to do another targeted working group last call so we\u0027re just talking about the new changes since last time um and we have as you will talk about later today that we think Joe and I are writing that draft at the eye on a registration update document is ready to go we\u0027ll have to identify a shepherd since we can\u0027t Shepherd our own documents and we\u0027ll have to make sure Kathleen hits the button for us because she has that power because again we shouldn\u0027t be part of progressing our own documents in progress is details 1.3 we\u0027re gonna hear about that later look at example handshakes 40 us 1.3 dot that draft is going to get pumped out once we get 1.3 out the door apparently it\u0027s pretty easy to go in the grease draft has expired but David said he was going to update it yesterday so we\u0027ll see and today we\u0027re going to talk about supported Authenticator for TLS and to get compression the extension isn\u0027t on the on the agenda but it\u0027s still a draft and that\u0027s it any other questions so there are ex so what we did last the very last they\u0027re really really last time I have to stand up a dog rat tails am i great um next slide um so there\u0027s only three that we\u0027ll talk about um the only important thing really is this middle box issues thing um so and then we can talk weekly and you know these keep trickling in these we keep not closing the draft so hopefully once you close the graph then things will start trickling in on next slide so as I sort of said in the email um we were finding that middle boxes sometimes appear to be kind of sad we need to go shave kill at one point three um so with some more data later but this is our initial data from on Firefox beta on a forced test versus CloudFlare by which I mean um CloudFlare yes Ben just for the chairs are the slides in the data trackers I\u0027m wearing so what I "
  },
  {
    "startTime": "00:06:22",
    "text": "mean by a force test this one is basically a forced a/b test so we have a we have a we have a CloudFlare sort of cloth for our servers they\u0027re essentially identically configure between you know one some DTLS one three and some don\u0027t bother wise or dedica um and they just basically do or question both of them and look at the error rates so that way we don\u0027t miss pleasure organic testing or something David we talking about later they\u0027d be crumb um so um this um no C\u0027s or vinegar or is like incredibly hot um that\u0027s like well everybody seems to see you can drive these numbers down a little bit um I was looking at some of our numbers from earlier day and some of the problem is like China blocking things so like we do force test against Gmail like you like remove China like that Erica\u0027s way down but um they\u0027re less on the ordinary from Taylor\u0027s pretty high um regardless on we\u0027re not willing to take a one-point seven or eight point seven or a point this is not one point seven hit come to the point tails one point three um and so um if we were to do this um as a browser we need to continue to fly back but which I mean we need to somehow probe whether your environment could you tell somebody and if not we need to turn details a point - um there\u0027s a bunch of ways to do that one way to do it would be to UM to you know do it every connection we do it we to do it like like I kept a form sector do something on so on now on opinions on whether this is like just crappy on different but um regardless I think there\u0027s a general consensus to be better to not have to do it if we possibly could on and so on the Google Chrome team with a boring team on base no suggestion Baikal nekritz um has been working to UM like figure out how to get rid of this and basically how to like screw around with the team with a non cryptographic parts of tales from e3 to make it work enough I tales from way to the bosses go they just let it rip um so um the order of operations here is I\u0027m going to talk briefly about the PR I\u0027ve written based on their work and um some feedback from people um and um then and just walk you through what I was doing and then the David\u0027s gonna talk about the data in chrome he\u0027s got it next slide so there are two parts of this PR um one of the things you always do any other things you can do we don\u0027t have to do um the always that the parts that you do um generally pretty look pretty reasonable um and are things that like would have been reasonable design decisions that we just didn\u0027t do when we did one three initially um so um we had a longer skirt the first one is how to do version negotiation so we had a better long discussion initially about when we did supported versions about where the server should not altered version it wanted and we sort of people and we and like people went back important you should be in the server\u0027s extension supported version extension or it should be in server below version and eventually shouldn\u0027t in server hope version because that seemed like the more normal thing and even though is LOD to have like a thing and then respond in some other place on turns out that\u0027s bad so on the bristles to just reverse that decision which is say to the server holo version the main the main version field "
  },
  {
    "startTime": "00:09:22",
    "text": "be um tilt from point to and then to have some indicate the actual version you\u0027re selecting um the second change um we are we had on because we thought they were not necessary remove session ID and compression the compression feels and then server below um because there\u0027s no rushon and there\u0027s nobody essential presumption and so they seem and there\u0027s always some little weren\u0027t sure this is a great idea and it\u0027s kind of painting your parser by the way because if like have a conditional party or pressure so and um so um again and so that and then the next point is um there was a remember we like nailed down the record version layer two or three away represents right now um and it turns out that like you don\u0027t let that if you\u0027re gonna claim your machine tales from point two um so um basically after the server below user 303 instead of a 301 and again this like there\u0027s like nothing particularly crazy about this choice it\u0027s just that you made the wrong choice initially um so those are like reasonably like like renditions we just could\u0027ve made differently we just did is there any intuition why over 303 instead of the 304 yeah because because you guys are claiming to be telling some point - um so in innocent supported version was in the server Hall um so now we get to the things which are like a little less like happy um it turns out um and it there\u0027s some so I don\u0027t be our measurements that if we like HR I give me a handshake tape-delayed nobody\u0027s there recognizer completely freaked out and so on the proposal here is to and a niche or and server home or some type overlapping is information that\u0027s the idea here is to merge a torrent server blow into a single message and you can do it is basically by looking at a special set most written about you like I\u0027m their defend this to you as like an aesthetic design choice I\u0027m simply gonna say that like I once already alright I want H or no one way to make it work um so um and it\u0027s not it\u0027s not ridiculous is just like night yeah Thomson one thing I observed was that some of the code that deals with the values in the server hello actually make some sense in the hello every trial request processing all the extensions are different yeah it\u0027s a little bit weird but it\u0027s not that\u0027s not the worst part of this yeah right yes um so okay um so this last thing I wouldn\u0027t say isn\u0027t gonna make any sense until you see the next slide but you have to do it otherwise it doesn\u0027t work which is you have to ignore it any time you receive a change safe respect message during the handshake if just throw it away um so um the reason you\u0027re gonna do that is because the next slide please which is that if you think about boxes you have to do what we call compatibility mode and this you pretend "
  },
  {
    "startTime": "00:12:22",
    "text": "a such a presumption so you make a fake session ID value which I think we said is random but like I don\u0027t have the ran of it just to be like not like obviously like um and the server echoes it is if it was your resumption um and then basically you send change type respect messages in the problem happening if you were doing like if you\u0027re doing if you\u0027re doing Redemption namely the server sends one way after the server below um and um that\u0027s where you come over to the finish and you click like sometime after the client hello if you\u0027re doing like one RTT you do it like basically when you\u0027re beginning a behavior of your second flight if you\u0027re doing 0tt you hopefully do at the beginning to think like a row um we don\u0027t have measurement that second thing works but like with a zero duty felt Punk\u0027s out there like you just retry with one hour TT if it happens occasionally disaster um that\u0027s not an insecure flower back it\u0027s just at doing um and you have to be willing to fall back like every browser stack basically I mean if you\u0027re doing zero TT you\u0027re quite give me prep sorry anyways a 0 TD has to be willing to deal with like a bunch of our conditions when the server didn\u0027t like 0 TT and like every browser stack we tries and so like we try and there\u0027s ladies um so um the so as they you don\u0027t ever you don\u0027t have to do this and in and you wouldn\u0027t do this in DTLS and you wouldn\u0027t do it like in the quick in bed um but you would do what you were doing it you do it you were like I\u0027m in a box um um initially um I did vision this is each side had a unilateral compatibility mode um and that\u0027s almost entirely true but Warren Thompson points out that the clients the ones in the middle box the client kind of wants to tell the server like you really should be setting this on the the CCS and so what what isn\u0027t in this PRA we should change is that the server receives the non non empty session ID it should generate the CCS any case yeah Montano observed that if the client doesn\u0027t do these extra compatibility hacks it\u0027s basically nothing you can do at the server end to repair things right so it has to be the client that initiates this behavior and if the client knows there\u0027s a middle box there and the server doesn\u0027t follow along then it\u0027s just gonna fire and I suggested must in fact that\u0027s why I think we can might put insured must have you find good yeah I didn\u0027t want to fight about it but yeah this is no no no not must if the session ID is present in the client below the server must send a change Cypress back at the appropriate right would be poorer why resistant a must he\u0027s gonna come in this next slide I don\u0027t want the client step in force so come again part of why I resisted a must is that people a lot of people think that must means the other side should have to enforce and I don\u0027t find that important I certainly don\u0027t want enforcement right yeah okay there\u0027s a line cow microts um one thing to know is "
  },
  {
    "startTime": "00:15:22",
    "text": "that the server does not necessarily know that the session ID is so it seems yeah I think if you\u0027re gonna switch it here you\u0027re gonna have to like fine have some we distinguish random session on register and then actually arguing for I wish require to be random appearing honest um so if the client knows that it\u0027s not behind a middle part so it wouldn\u0027t say send a fake session ID and then it wouldn\u0027t create this ugly it mostly well it would most likely not get this yeah and we could actually say should not chip doesn\u0027t do any good job a part of the know any good otherwise nothing questions I haven\u0027t followed this but are you trying to make it look through the middle box an obsession with some shoes move on yes okay if the middle box does not have to session ID is going to reset it um so some middle box to death but apparently with our experience has been that especially if frequent that things working again right David\u0027s gonna talk about the data it all depends on the policy yeah yeah no we know we know we\u0027re aware this is a risk this is about getting the error rate low enough that we\u0027re going that they\u0027re willing to make those little boxes change I mean to be clear those little boxes how like is their responsibility ultimately like those middle boxes are basically broken right live in a box it\u0027s okay so you step back a the middle boxes we\u0027re dealing with or defective um what I mean by that is they\u0027re not proper they are not properly handling TLS um properly handling TLS version negotiation if they were probably having cells version negotiation and they were fine um the problem is their perspective and so if you um and so as well and so it they probably so what I mean by that is when they receive the client alone the the responsibility either to do version negotiation and downgrade or Mike you which should be fine or to not your version ago she ation and that not screw the data but but the doing is intermediate thing whether with are basically um passing either passing through the extensions that are recognized and then during this or and then mirroring the server\u0027s version or they are trying to do state machine especially at the wrong version level and all those things are possible um so nobody has to do correctly is it has to actually the version negotiation it works not so I don\u0027t want to argue me what\u0027s correct forwards incorrect right so what might happen realize yeah which I understand your concern you\u0027re trying to do sure yeah well as a on those middle boxes are implementing version negotiation then this will work great even without this water so Martin talks another thing to observe here is that in the case of a hello every trow request we\u0027re not as certain that it\u0027s going to work right none of the experiments that we did actually implemented that and it looks slightly different on the wire as a result of the fact that there\u0027s a handshake message that appears afterwards right the CCS ordinarily we encrypt all of the messages that come up to this CCS and they just look like "
  },
  {
    "startTime": "00:18:24",
    "text": "application data and they look like TLS one through application data records and for all intents and purposes of yeah the middle box is happier so session resumption but in in the case of hello every try request that\u0027s a little bit different again it\u0027s a risk I think we\u0027re willing to take yeah as a red model is red light so oh so now that everything looks like 1.2 are we we\u0027re not doing virgin negotiation the old way with 1.3 oh I\u0027ll be introducing this part are we introducing a possible problem with making that problem worse as soon as we did supported versions that was a problem I mean that the basically the problem is you come to be hungry you shouldn\u0027t be porting extensions you don\u0027t recognize and if you\u0027re doing that you\u0027re gonna have problems so yeah voice averse negotiation like when there\u0027s a version out arm basically we don\u0027t have to we don\u0027t actually Bev in some what happened if we did we try to do the overseer she imagined but we do know it cause problems with servers so voice it out that may have got me a clear fall this year but I think that at this point we have like double down on that rather than back yeah obviously people your net stuff Apple um I brought this question up during the hackathon as well I\u0027m wondering if we should include a recommendation to let\u0027s let me call this yeah B compatibility mode um to not try to engage in compatibility mode on the first requests because if we did do that that an ossification will always be the case and nobody will adapt to purity that\u0027s 1/3 yeah I guess I don\u0027t think people ready willing to have I don\u0027t actually really going to have it be dramatically slower on every connection behind middle boxes what we\u0027ve been thinking of doing is basically giving you a basically running the captive portal tester and giving you a saying your mother box is blasted why don\u0027t you complain your event instead of trying instead of trying to basically penalize every connection I think that I spoke to some implementers and I think the agreement is that they want to do this anyway I\u0027m just wondering if we should put in a recommendation and address the issue of ossification specifically yeah my sense is David is not very saying what about this but part of getting out of compatibility mode David Benjamin so the data is a little bit confusing on this front but we have some reason to believe some of these these middle boxes are a little staple and if you offend them they will black fool you which kind of makes fallbacks problematic I\u0027m also generally skeptical that like adding a fallback is gonna convince them to do anything because hey it works and they probably won\u0027t even realize something is going on so should we that "
  },
  {
    "startTime": "00:21:27",
    "text": "that I think I can iterate that does people question on email I\u0027m able to measure because that our experiments lend themselves well back to a measurement time that grits um I think that we should just not put any recommendation in this and then deployments are going to do what they do and if it seems like a reasonable way to move things towards better compatibility then deployments else okay next slide Yeah right on so there were a couple issues raised here um about how we oughta do this um so um the list um so several people said we should only have the compatibility mode um um I\u0027m not asking about this um for several reasons I\u0027m personally I say we don\u0027t need it for tailfin point three quick or DTLS and soak up those protocols enjoin um um the data is extremely fuzzy and that\u0027s why this italic is here on what do we need client-side CCS or not um I don\u0027t think we understand that but it\u0027s possible you might not need it and should I be yeah should I keep having it forever um and I think this is blessed it is more like unicorns and fairies but um at some point we might actually get enough people fixing their mailboxes that we stop sending server-side seas yes David doesn\u0027t blame you shaking his head no but I mean I said of course it varies um so it should be sad if we ever in a situation to position um so I guess um I don\u0027t wants to sort of speak up for only about a pony mode um okay I guess people will list I do you want to you want Mike um right so I guess um do you wanna get given I guess can we at least record for the minutes that people were not in favor of only I think about a pony mode because like we\u0027re in need because like otherwise it\u0027s gonna be like fighting sound of us with no consents before you are home or yes Pam if it\u0027s um I think it\u0027s easier to implement anyway not having to enforce anything alright so yeah I guess the first thing make our people generally okay would like this just like okay bye rain baby by which I mean going to hold their noses and like move forward with this with OJ toes okay so if you\u0027re this is a question for the general approach not not specifically compatibility mode but the other changes made to make it look more like first is there any of people who want to get up and object to that okay um I would like "
  },
  {
    "startTime": "00:24:35",
    "text": "to give everybody who worked on this like their beer back this is insane like what why these middle boxes they\u0027re meant to do either deep packet inspection to help you with your playing tags or to somehow protect you if these boxes are not getting updated 41.3 they\u0027re dead in the water and they do nothing so they will either need to be updated on a to support alert on 23 natively or they need to be removed from the network meanwhile if this breaks you can just go back and and suffer one round-trip of latency to go back to TLS 1.2 why are we hobbling till has one for three for the next 15 years just to support these boxes that should have been removed or updated from the network anyway like is latency that important not about latency it\u0027s not about latency is about having it\u0027s about having a secure fallback is that basically now that means any person and networking force you back to tail some point you and you can\u0027t do anything about it I don\u0027t have a middle box anymore but when I used to have a middle box I would never fix it if it worked we make TLS 1.3 so that it works with existing nickel boxes so I think I think my assumption here and I\u0027m hearing speculating but is there two kinds of metal boxes right here one are just basically ones that are doing on non deep packet inspection between state machine enforcement those guys are right will never change and the second is the set of people who are doing um who are you who are doing like decryption right and those people like we\u0027re gonna let us back 1.3 are gonna change using traffic all right so then let\u0027s take a hub now so the first time is for if you for leaving compatibility mode out now are you do you support the changes that occur outline on the first so first we\u0027ll do yes and then we\u0027ll be done so hum if you support the changes that active proposed um if you did not support this Thanks I think that there was overwhelming support for them first okay so for now now we\u0027re gonna do the same thing for compatibility mode any additional okay so please hum if you support the changes for compatibility mode what you want is please hum if you think it should be required and please how many think it should not be required right you please tell me if you think the question is okay I I have a question "
  },
  {
    "startTime": "00:27:35",
    "text": "here are you asking about whether compatibility mode exists nails manager the question is the question is you do only have compatibility mode or should you allow implementations do not send a fake such an ID and not said Jesus ages that\u0027s your understanding but I\u0027m trying to get what\u0027s in Joe\u0027s head because he said the first slide on the last one which means that he could have narrowed that to not compatibility mode so are we talking was the first hum for everything that was in variant in echos slides including compatibility mode uh yeah so I think that the basic thing for competitive over on the first line right okay so okay x-ray statement fine thank you then as echo said you should say should we require it should we not require it no credibility much so so should we should we require that the client and the server both do the stop do the stuff that isn\u0027t on the compatible you know it\u0027s like all it\u0027s all the time as opposed to as opposed to the server can do yeah sure right like so so basically the like okay what would be will compatibility mode where the question is with the client always in the face session ID or the client only do it conditionally on its own choice and with the server always saying change that respect because the clown is an accession ID or to only do it at the price I\u0027m sorry that was intended ease a PP foot okay are we clear are you sitting um maybe you also asked at the end what up the people actually understand the issue because that\u0027s a very detailed issue that may require some thought so I have my opinion but like I\u0027m curious on how many people actually okay so the first question is should we require compatibility mode you only have compatibility mode I\u0027ve got a problem because I think I have different answers for the client and the server so Myatt so my assumption is where it will put if if you I proposed ribose this text looks like is this that the client can add its options to the patient ID or "
  },
  {
    "startTime": "00:30:35",
    "text": "not the arm client can have to add its options and change their perspectives or not and the server must send a change their perspective the client sends it a session ID that is where I approach the person\u0027s tech say that is called an option a and ok and call option B that the client must always send a fake session ID the server must always accurate and they must everyone was always in the same Jeff respects good for a or b so b is the must okay so so for we\u0027re gonna start with the hum for option B that you must always use compatibility please home if you support option B okay and then please hum if you support option a and then please hum if you feel like you don\u0027t understand the issue okay thank you okay next next slide or back back to back to the feature no sorry Bob above that that\u0027s gonna fine you like spoilage brother um so people suggested that if you\u0027re worried about a going mode you should require the client to enforce that see cardinality the CCS or the server for that matter is a client which is ruined um which is to say dad um brew science and CCS exactly once in the place were supposed to send it um as opposed to like an infinite number of times or zero or whatever on like um I guess I would be fine I mean different and different but I would live with requiring you to send it exactly once I think requiring you to enforce it in like crazy pants and like when we get meet them with even much much harder and we\u0027ve like our board he\u0027s like very simple on this and it would be like a huge pain he asked if account or in choice it occurs the right place this is Dan Gilmore so I also think that requiring the client to receive it seems to pick a specific number is crazy I want to know does this bogus CCS get factored into the handshake - no it isn\u0027t even even it doesn\u0027t even know that isn\u0027t even encryption but so we had this the there\u0027s a hash of the running handshake yeah it\u0027s not a handshake message it wasn\u0027t even the handshake - into one point he\u0027ll and so this is just bytes on the wire that we\u0027re gonna everyone\u0027s gonna pretend didn\u0027t exist exactly so for the middleboxes yes you think they\u0027re very important they look "
  },
  {
    "startTime": "00:33:36",
    "text": "so Martin times an echo and I had a bit of a discussion about the enforcement of the CCS thing and it is very unpleasant to enforce this because you have to have knowledge about all sorts of things particularly in the zero RTT case where it\u0027s going to arrive at a particular point in time we just not expect the exact thing like that the other thing to note is that when the CCS arrives you\u0027re expecting to be receiving encrypted handshake messages and so you\u0027re gonna throw that away or drop the connection likely it\u0027s not it doesn\u0027t flow through the usual path it flows through the error handling path on your record decryption so it doesn\u0027t actually happen you could look at the tape first way you can look at the type and that\u0027s what we did with a dummy like you so what I propose this text say is um that the server hat the server has to send it and the conditions I indicated previously and otherwise we don\u0027t say anything that call it option I so I mean there\u0027s anybody is any talk to that everything we should enforce does anybody think we should like acquire accounting I think we can just call that okay next slide Dave is getting up I\u0027ll say um we we um I thank you for doing these measurements by the way um we have some measurements coming but we had a little glitch right so we got from the test code um so I have data which seems to suggest I don\u0027t know what I don\u0027t want to characterize what it says um this crazy um arms I\u0027m but hopefully we\u0027ll have our own data relatively soon when I understand Paul so apparently like you already made a decision so I actually have it easy I don\u0027t have to convince you all with all these disgusting numbers oh sorry alright is better uh next slide I guess because there\u0027s no contact yeah so back in February we tried to deploy draft 18 and we\u0027re really excited about it and the one thing that did go well is nobody hates to tell us one through client hello like everything we did work the server hello didn\u0027t really work our numbers are even more horrifying than occurs yeah that that means a fallback if even that I would be laughed out of the room for suggesting we deploy that thing we were really just making we found those numbers it turns out middle boxes are intolerant to the tailless one free server hello never mind that this is actually a Zico suggested not these are file this is violating our protocol invariance but so it goes next slide yeah so we went and tried to figure out getting as much information on these middle boxes to be cut which turned out to be kind of difficult because like you have to get these people to talk to their IT people and so on on a general rule that we found is the tailless "
  },
  {
    "startTime": "00:36:37",
    "text": "terminating middle boxes this is sort of like these boxes that will like terminate the connection they are a trusted CA bla bla bla they generally work v because they\u0027re just a client and server connected back to back if your servers implemented correctly the client is appointed correctly then everything works out fine haha there\u0027s some fun that\u0027s yet o deep but there are a bunch of other middle boxes that are in some ways the same middle boxes and different configurations try to process tell us about terminating it they do all kinds of random things sometimes we\u0027re just checking length prefixes because they thought that\u0027d be fun and yeah as a result they parse a whole bunch of version specific messages which is not like this violates all of our assumptions about how we change the protocol and they break unfortunately although they are not working correctly that 92% was kind of a horrifying I don\u0027t think this is an oversimplified picture like we do break some of the tools terminating about middle boxes because they have some parts of their process that you could probably describe as a non terminating middle box did this is sort of airplay okay next slide so oh okay so yeah so given that draft 18 was not going to work we went and tried some options based on Kyle\u0027s suggestion we test it so we actually have some local configuration to test with there\u0027s some some of the like information we got from about the photos so we iterated locally where we could but what we have locally is not even close to the like wide range of stuff we\u0027re seeing in the world so we had to run some tests in the wild that\u0027s unfortunately take some time which is why it\u0027s been like a year so in our first round of experiments we did not realize we had to make the record layer change and resulted in that PR 1051 increment is the server plaintext content type proposal so at least in our experiments that\u0027s a no-go also omitting the client session ID gives you an error rate of ninety five point four percent so that also doesn\u0027t seem to work the experiment version seems to work but there was some loss and we have these confirmed by user reports their user reports are not a great metric because you got like ten of them total but thankfully we got some for the experiment version next slide so based on that we managed to reduce it and change the record blur version and that seems to work it actually does better than one too but I suspect that the noise because these numbers are kind of fuzzy we also tried to get some HTP level metrics so these are metrics for conscious so the reason the baseline is higher than occurs is because we throw out the TCP level failures so once we successfully connect TCP if then we check where the hand at handshake succeeded we also tried to get some HP level metrics they were added late so I\u0027m not confident in whether or not they like to measure what we\u0027re trying to measure but they are consistent in that "
  },
  {
    "startTime": "00:39:39",
    "text": "it doesn\u0027t explode and it\u0027s been on beta for a few weeks now and was on my channel for a bit and so far no user reports around this time in the last round we did have user reports we\u0027ll see if this survives disabled I\u0027m very optimistic Yeah right moving on David thanks for doing awesome it\u0027s mine [Music] so Cedeno can go more thank you for doing these measurements and for reporting back I confess that I am uneasy about the unreproducible \u0027ti of these experiments so I I appreciate that you have the resources to be able to pull this off most of the rest of us don\u0027t and if we\u0027re making decisions on this basis how are we gonna know that they that they\u0027re born out and experience that I mean that that that\u0027s that that shrug is what I\u0027m feeling right now and I\u0027m sorry like I appreciate that you did the work and that you brought it back here that\u0027s awesome but I don\u0027t know how we can responsibly decide to use this information or not use it makes it honestly I don\u0027t have a good answer I mean after has been to do some experiments on the suicide like this is part of why middle but the middle box problems are much more annoying than the end point problems because end point I can just tell you here\u0027s a URL it\u0027s behaving great harm like we couldn\u0027t do the experiments of that right like I mean we have some local configurations but they\u0027re not really the local configurations said that like we didn\u0027t even send the confession there\u0027s my take on this a we\u0027re gonna run our own numbers and I mean like like what\u0027s gonna happen is people are so basically on we and chrome and basically you know hackathon everybody got this in their in their versions right and so what we opposed to do is is roll out like to as far as we can down our channels to beta and drop 22 which is gonna have this in it and then we\u0027ll have direct user reports of failures if it fails and then we\u0027ll have a little bit of time in the Delta like all that um but on the end this end and and because it\u0027ll be our 22 won\u0027t be it won\u0027t be 1.3 good like it won\u0027t be committing us permanently there\u0027s a totally screwed up but I don\u0027t see another way to make the change I mean like the bronze with the field that\u0027s find out right and um so like I mean showed me this tell me what they wanted to do when I was like kind of like vomiting and um but I mean I\u0027m persuade I\u0027m I like I can tell you the data we\u0027re seeing now isn\u0027t good enough without making any changes it is not good enough so um you know this is visible yeah so so I think we can all agree that the proposed workarounds are horrific well and and and and and also that that losing the large things of traffic is also horrific right we\u0027re stuck with these like well no not so great choices "
  },
  {
    "startTime": "00:42:40",
    "text": "let me just understand maybe then the data release understand right um at the end of the day I mean if rific would\u0027ve been afraid acacia crap that um they\u0027re really good I mean like this we\u0027re going now sorry can you dial it back to 0.75 sorry I think they\u0027re just honest that at the end of the day right um the you know I may take the crypto I\u0027d be really worried but this is just this orbiting it\u0027s formatting but it\u0027s complexity in the implementations right we\u0027ve been bitten by a mutation complexity in the past and feel that this is why we resisted the state rule quite in the state machine so on the complexity side at least our experience is by far the most painful part was just teaching our stack that there were now six different versions of tail s13 the actual changes were not too bad Metro code size for us hi Nick Sullivan Claire um I\u0027m committed we\u0027re committing to build a website we have it half made that allows you to very fast to change changes in TLS versions so that it doesn\u0027t take an entire browser rollout to get the code in into browsers and do these experiments so there are there are ways of quickly updating the code it has it doesn\u0027t go out to everybody it has to it\u0027s a selective group but if someone is having problems we can use it to like this to debunk then I think you know so you say that you would be a lot more uneasy if there were changes to the crypto but it\u0027s not entirely clear to me that you could actually characterize this as no changes to the crypto because you know we now have these safe respect messages that like everybody\u0027s ignoring and they\u0027re interspersed among the crypto and I feel a little bit uncomfortable about that not a lot of we also have an application data byte and like record their version rich sauce Akamai and open itself um I share a little bit about Dan\u0027s concern about the non reproducibility I think a lesson to take away for the future is more transparency more involvement with a wider group of people experiment the I understand the trade-offs with that um also in terms of a lesson for the future I agree with her that this is just like offending geek aesthetics but we should explicitly document why this is happening not naming names or shame anyone perhaps not in the published formal document right say that for bad attitude um but just so that in the future and someone comes back next year and we start TLS next TLS 2020 um oh yeah we "
  },
  {
    "startTime": "00:45:43",
    "text": "had to do this back then because there was this problem with intermediaries some of that\u0027s in the document but or more will be welcomed if you wanna yeah it needs more okay I\u0027m like I could get crack at that so in addition to the documentation if we\u0027re talking about what this means for the future I\u0027m wondering if the folks who are building out these measures infrastructures could commit in some way to having the measurement projectors be able to report when we can turn off the grid sets we we can\u0027t leave I mean anything I\u0027m not asking me to make commitment right now but like though that would be it\u0027s one thing it\u0027s great to have this data in the design process but if we\u0027re adding things that we know we want to get rid of eventually it\u0027d be great to have the folks who have that infrastructure be able to help us also get rid of it let me plan I\u0027m ordering identify packet officially yeah I\u0027m like I\u0027m skeptical and a little bit concerned about the black holing but it might it\u0027s like we weren\u0027t actually measuring for this is just we saw some secondhand some like evidence which pointed to it um but all right like if like we can experiment with doing some Thanks thank you very much thanks David really better way like I did great work by the chrome team in nekritz that was like really nice okay great um so now that we resolved like the difficult thing this other stuff is like smooth sailing so um we only have two minor trivial issues but you have PRS for um right now the close notify Intel tell us one too is like foreclose on certifies um the I basically um the UM when your reciprocal identify you\u0027re required to flush or discard all your outstanding untranslated data but of course means you can\u0027t hit like we\u0027re can\u0027t let stuff you already sent and you can tree campus on from the TCP buffers so like what presumably means is you like ditch whatever is in your application bunker they thought that if I like a this is like kinda incoherent um lots employees don\u0027t do this I was looking like I don\u0027t think everyone s SL does apparently only boring does NSS doesn\u0027t um um so so it\u0027s kind of silly um no one it goes back if this isn\u0027t like SSL version 3 no one knows why it\u0027s there you know we have to do like you know call coach or like asking or something um and it turns out their application reasons why I don\u0027t want up close because partly cuz they special from TCP and partly because if you have a protocol which expects a fin business how you things are how you was done with this side in sometimes you want to keep running after that um so the puzzle here in peer what 1092 is to um basically just remove the thing that says that you have to like um do you have like flashlights or data allow you to keep sending so it\u0027s a half closed um this is this is nice thing is this is back without of all previous behavior because as I said it\u0027s unobservable the "
  },
  {
    "startTime": "00:48:45",
    "text": "other side didn\u0027t comply with this requirement in the first place and um and if you choose to end of course you can always continue to comply with the Carmen few stitches um so um we this aggression a little bit a while back and I sort of like what kind of person waded off but I\u0027ve been frustrated now that I think this is the right answer um so I guess one question that did come up by Hubert Carrillo was how you respond um if you\u0027ve already sent close in to fry and you get some sort of and you get some sort of bogus packet which can still happen because it which could always have happened because you can assign clothing apply another guy\u0027s stuff it could be in flight and then you send an alert or you just like hang up the phone um like I would probably eat this entirely on the rules don\u0027t the rules don\u0027t prohibit doing this and I just personally that interrogate this question yeah um on Thompson I agree with that point and it says actually does block rights after receiving a close notify I checked oh but it\u0027s it\u0027s like a very small number of lines of code to remove well it would not be you would not pick up non-compliant reckon he did well we would remain compliant it\u0027s just yeah it would be inconvenient for talking about doing yep I would make that change about okay after so I I\u0027d like to I like them I anybody objectin reemerging this PR okay I\u0027m gonna like words as PR like when I sit down um it\u0027s already done it\u0027s like just a button push okay next slide okay on this is a little more hairy um so sixty sixty six on totally prohibits resuming the separate elements so if you like ago she Wes and I won and you you cannot like can\u0027t like re try to resume that\u0027s night to and it was that thing is I don\u0027t quite have a survey but I talk to people or my understanding is implementations like your story or inconsistent about actually enforcing this rule I think people may be okay I think um so in particular like if you have like an internal session cache like probably you don\u0027t like you know probably you don\u0027t accidentally try to resume with the wrong s and I um but um but certain servers aren\u0027t good about that unfortunate us and I I\u0027m not assumption know I think NSS actually is um but I mean for an endpoint boyhood is I think open does not um so um the on Victor posted posted this PRM 1080 bit definitely have I\u0027m suggesting basically slightly relaxed these requirements um to make them a look a little more like HTTP connection coalescence namely but the client is still required to only resume yes Nye is in the certificate but if the ship can have multiple subject names it could like resume any of them on.i but it should only resume if the SNI is the same on because the reason is the server like probably isn\u0027t gonna let you do it anyway if you change it on the with it the intention here is we\u0027ve opened the door for the server would have some other extension later where it said like listen I could lie you to cross resume anytime you want um so um one day I don\u0027t think as in "
  },
  {
    "startTime": "00:51:46",
    "text": "pictures PR is a requirement that the server must check that the SN is the certificate but that by shot that killed um the UM from my perspective I I\u0027m a little a little uneasy at this point probably answer um uh I\u0027m an easy bet folks we have seen problems with SLA management um there\u0027s a paper by um Antoine de Malabo and other people about um about SLI mismanagement session caches um but uh those were deactivated one two on but the situation but most of those things actually turn out to be situations reading inconsistencies between like be did the SMI lady should be Hostetter and stuff like that and it turns out that like we already have what those problems with the HTTP connection classes we\u0027ve already basically decided that like we\u0027re gonna think tweet oily but out of the sands and it\u0027s difficult as if they as if they were part of it part of the connection state um so like I know I always hate taking something out which kind of feels like a security concern so I guess I\u0027m not gonna I\u0027m not only this program advocate for this um if I had to like actually like ok like yeah I had like sigh form with other I\u0027d probably go for it but I\u0027m not I think I\u0027m really take I\u0027m not I\u0027m not gonna make recommendation getting scribble yeah not insulting I\u0027m gonna argue for taking it simply on the grounds that we\u0027ve basically already taken on the risks and it really does still say don\u0027t change the S and I it\u0027s just that we the weaker of crack the door yeah and I I think would be foolish at this point to do anything other than send the yes and I the exact same this and I as before cuz we could we could if we wanted say must not unless you\u0027re so extreme it\u0027s okay that would be that would be that was able to me that would be the room for the door Bonacci open yeah I like can you hear me okay so so basically this is the reason I believe this is reasonable is we currently support if you\u0027re connected to foo.example.com and the chair site give a part at example.com and you\u0027d have a wild card for start at example.com then you can HTTP connection pool but if you connect to food at example that come you cannot later resumed and zero RTT to bar.example.com and there isn\u0027t security wise any reason to do this so say PR lifts the strict requirement from RFC 606 six it still discourages implementation from always cross resuming and there are two reasons for this one you don\u0027t necessarily know that like all the main served within the same search actually shares a session key the "
  },
  {
    "startTime": "00:54:50",
    "text": "second ticket encryption key and wasting one-time tickets is suboptimal in terms of performance and two there are some implementations which might not be ready and get in some ways confused as ever mentions there were multiple bags in implementations where they did not quite realize what was going on so the premise is originally I wrote a TR which added an extension to new session ticket which allowed you to do this and Acker told me to bring it in a separate draft and I will later brink and separate draft is a working group agrees that in general this restriction is unnecessary I will write I have a draft to actually negotiate cross resumption so this is mostly opt-in and this is mostly CPR is mostly agreeing diseases crypto security-wise safe to do and it\u0027s only implementation issues which are preventing us from turns at microts I mostly agree with Spectre um I think we\u0027re basically in the situation where it\u0027s som some basically use it as a way to select the certificate and other use cases will actually when you\u0027re just using it to select a certificate if a slightly different sni value would you say because you to select the same certificate then you\u0027re gonna do the exact same thing with like a VGA connection coalescing that seems silly to forbid resuming the session but then just resume different SNI and send connections in place so I think like if we don\u0027t merge this VR we\u0027re gonna basically end up in the same place we\u0027re at right now where it says you must not do this in a spec but some of my patients routinely ignore that be sure you did it that 1030 I I think I\u0027m confused about something and I hope you can disabuse me of a so walking through this what I imagine happening is I go to have an example that that net it gives me a set of other subject all names and certificate I may or may not have any interaction with those names I get my a new session ticket I go away and I wish to come back and go to bar dot example dotnet instead of food that example dotnet it\u0027s not clear to me in this case why I don\u0027t make an initial request to food at example dotnet confirm that I can I get the same subject all names back and then proceed talking to bar is the reason latency is the reason I don\u0027t want to make a request of "
  },
  {
    "startTime": "00:57:50",
    "text": "foo.example.com thing else going in Viktor can answer this but but I think latency and that the browserstack doesn\u0027t want to do that right it depends basically at the when you come down when you when you come down from the like that the point where you\u0027re making the TLS connection like you\u0027ve already decided by HTTP you\u0027re gonna do okay but remain a different opinion but that\u0027s my impression I\u0027m not sure I quite understand the question so the reason is that you\u0027re trying to connect to foo.example.com and then you talk to bar dot example.com but you don\u0027t have an existing connection to foo and connecting to bar is trick to it faster than connecting to foo and then trying to talk to bar later so I thoroughly agree with you that it\u0027s faster if you can do this this cross subject all named presumption but it C it certainly seems like it would work in the other case if you had some query you\u0027re willing to do foo that was known to be ID PO query which is what you do is you des and I you basically send I mean if you want to do what you\u0027re suggesting you would send whose us and I write that you would work at the certificate you got back if it contained bar you would continue if it didn\u0027t you would even put you would have three aside the latency issue yeah I agree it\u0027s a latency issue I just wondered whether it was just latency or there was some other mechanical problem I think it\u0027s just latency and some love but information convenience I mean like what were you mean like imposing in these because all the problems by basically doing by basically you\u0027d feed in food you feed in bar we do the lookup we find that we find the certificate they had do in barring it we look at the s and I we use the first time and then we just throw the SNI out put a new one in and then we look at it look at the origin it\u0027s a zit okay or not on that means but I means or he won\u0027t work and it means it means okay that that was the point I wanted clarification on I appreciated thank you eating\u0027s right Google I just want to say that uh I definitely like support doing this for the reasons Victor said didn\u0027t figure did a really nice job summarizing so I don\u0027t really need to to say much more but I mean one added note about like the two first names is they may may or may not be able to actually serve you the same content so it\u0027s not like oh I could just like connect to that one and then connection pool or like it might actually it isn\u0027t for latency but like they made people wait a second I mean be uh yes you\u0027re such into the case we\u0027re basically you\u0027re saying you might have foo and bar and they share a session shaking encryption key yep so they can cross resume okay but then they send different things in the backend and so on now I mean like and it\u0027s and so if you get the wrong s and I that you end up basically talking you know like basically connect to the wrong they\u0027re basically giving like yeah redirect you were right so I I guess I see that how you could do that but will point out this is exactly the sort of this type of configurations that got people in trouble with s and I and such a "
  },
  {
    "startTime": "01:00:50",
    "text": "presumption confusion in the beginning right exactly having the exactly keying your behavior the behavior of light which surgeries into on the S and I and having those be different and have been having to Machaerus actually heard of crushing at the session cash is exactly how you in trouble um like if you look at the host header it\u0027s cool but if you like say you like say you basically assume that like beyond you know I I mean I mean well so I think what\u0027s in trying to point out is you can have foo-foo one and food two dot example.com and they might be like physicalist different IPS and you but they shares the same ticket Turkey so it\u0027s kind of like connection pooling except it\u0027s kind of more powerful than connection pooling in sense that IP can differ but they\u0027re still cryptographically the same machine no I agree I\u0027m just I\u0027m just saying that if you have a situation in which in which you have in which you have that they sometimes you have the SN I\u0027m surveys yet sometimes it\u0027s not some parts of the other faiths overlap and some parts are if they don\u0027t that\u0027s like how you get confusion um I don\u0027t know how to mount an attack here I\u0027m just saying that you would you go back and read the paper by by don\u0027t alone others like they like they were like basically taking advantage of confusion are routing good secure Google I mean generally in support for cross as my second assumption other it\u0027s not clear to me that just the fact that you sure the certificate to the same beautiful cost and in that case you will be sending every data on consumption that\u0027s not destined to the healthiest mu which is like food which is this is where this is why picture says you shouldn\u0027t do this unless someone tells you otherwise it\u0027s I agree its finest I\u0027m told you otherwise david benjamin so on the confusion side I think it\u0027s actually less dire than you\u0027re suggesting you see is that Diaries okay and so well so if your protocol so like whether or not you look at like something like the host header or the SDI is like largely a function of the protocol in h2 we have like very solidly said you look at hosts and not s and I because otherwise cause the employee would work in h1 it might be a little bit fuzzier um but suppose I were to cross resume a food Arcana session with bar calm the s ni that I send is still bar calm and so if the server were to look at the s ni it still says bar calm the now there\u0027s a slight subtlety here which is the s ni is ambiguous in that you might believe s ni is a connection level routing thing in which case it is not part of session state or you might believe s ni is like some negotiated property of the session and that when you resume you like use the same one if you believe in in the first interpretation where it\u0027s a per connection thing then like cross presumption is just like this is a ball of crypto like either worked or didn\u0027t work but like this is a key either you have this is a PS k I know you have the desk area didn\u0027t have a guess k if you "
  },
  {
    "startTime": "01:03:50",
    "text": "believe that is a per session property then now you open the door to this confusion where the server name API in your like library returns foo when the other one was bar in that case I would say that like so I think we should merge as PR but there\u0027s one subtle consequence of it which is um if you believe it is per session state you must implement RFC 60-66 as well otherwise you will get confused could you you think you could send a and then yeah I cannot um like there is already a must in there it\u0027s just that like some implementations ignore it so we ignore it because I\u0027m expecting that Victor will come down and ask us for it pretty soon but in preparation for that we removed all per session as a nice date there are some limitations which both ignore it and have procession that\u0027s a nice date and that combination is not a good [Music] people think um I guess we\u0027ve cut in discussion I haven\u0027t heard anybody really against this as I said I\u0027m waffling you wanna does anybody object to adopt in this view I know Antoine did on the zombie github but he\u0027s the only person I think I will do this directed by the chairs whatever it is yeah we should merge it okay I\u0027m so I\u0027ll wait for David to send me a PR against the PR and then all personally um okay next slide right so where are we um emergencies be ours um issue 22 like a Bronco um it won\u0027t be this week but I hope it\u0027ll be like Monday um I could be this week if I like actually get dancing up into anyone um and then I promise you 22 I mean it\u0027s 22 and then like I leave it the mechanics to you do you want to do I mean well we\u0027re what do you want will it will be a target working-class there\u0027s no doubt okay I guess I just want to make sure that we do you have any feeling for what you might be able to get your test data oh we have so this is in beta now I did like the thing is in beta now um I\u0027ve got to like write the experiment actually test it which I\u0027m gonna do like basically next week and I\u0027m hoping to have data in the next I would say I mean the optimistic version we\u0027re gonna have data by the end of the month the pessimist version I have dated by this time next month yes very much yeah I suspect we\u0027re gonna have something a bit sooner than that I mean we we landed the code for this they become botched experiment on what Friday sorry yeah um you were you were giving me murmurings about weird numbers on Tuesday so yeah so there\u0027s some possibility I could have it um dependent dependent have to catch fire box um that\u0027s that\u0027s the best thing we\u0027ll sort "
  },
  {
    "startTime": "01:06:50",
    "text": "of that um so what I\u0027m concerned about right is bit you know I the numbers that we got from Google I think um a grave I think that to be responsible we have to make sure you have another data point that\u0027s all so you actually get that data to show that\u0027s basically the same kind of range I don\u0027t want to so why don\u0027t we do this I\u0027ll commit to reporting back to the working group end of next week on where I am about the gram having the data and maybe I\u0027ll have it or may you have it real soon and I\u0027ll report back and then we can you you modulate your working auscultation that\u0027s what you couldn\u0027t you right away yeah that\u0027s my dear it\u0027s get twenty-two out my sumptuous that data is going to show the same thing so Shawn you\u0027re saying you want to wait for his results before you issue working good last call or would you consider the feedback from the experiment is just another working good last call comment I mean my assumption is that it\u0027s gonna there\u0027s no reason why the Google numbers they are what they are so I think I think say no evidence to suggest any differences so my theory basically so the minute you pump out 22 I mean it\u0027s two weeks I still have to go through a tip laughs calls let\u0027s not the end of the world right at the critical finality point out that we basically discussed all of the changes the technical change is just about to try in graph 22 right here right now so this this slide deck is pretty much the working group last call contents I think there\u0027s a few other twiki things but maybe I knew as I move the server certificate type in the e8 yeah I did I\u0027ll just go faster yeah okay well I don\u0027t let you manage this I don\u0027t know I think they\u0027re plan so they\u0027ll go ahead and you pump it out we\u0027ll do the working class call will I guess I one day I mean David are you how far away are you for having 22 employed person because that\u0027s actually getting you may be smaller than us I don\u0027t know version on like running code or it like we just need to change two numbers because we called it 7004 I mean you have in GFE oh and the GFE that might take I\u0027m not sure exactly the timeline but maybe like orderable so basically the two sprints we can do we can do we can do basically their experiment with trivial modifications or we can do 22 um and um I can get I mean obviously like the latency for 22 is like how long it takes us to get it get into Firefox and Chrome which is going to be a couple more days at least we will report back asap what we plan to do but at least we can definitely can definitely do a we can definitely do any spare in it I like the way our stuff works I can test get "
  },
  {
    "startTime": "01:09:50",
    "text": "anybody\u0027s circle so once again another set of server farms I can nest against them too um and I\u0027m happy to publish the code we\u0027re getting pretty easy for doing this um so like his worries a matter of like I need to be able to for Firefox be like I think it\u0027s up some servers are configured with one of these permits so if you end up picking are like random fake one like when we go and switch it to 22 there any thick one will still be there the question is I\u0027m not sure exactly when okay it might like it might be order we will report back there the list like you\u0027re soon yeah right this week or min nationally don\u0027t worry fancy that we\u0027re going to do we should build that something I should I be fantastic because having then we wouldn\u0027t then Gmail be out of the picture and we this didn\u0027t much more today we\u0027ve already done so in that case movie 22 um and yeah rich sauce so was the plan to do a last call after 22 comes out and though yes so if the working your black obviously were to confirm confirm unless that these changes are good also I\u0027d like to I think after we get confirmation of Google\u0027s numbers then do the last fall it\u0027s not gonna material affect anything even if you make it just one week um it looks better family actually Martin I just realized you have to talk is we it well up look 22 then we want that okay but if it\u0027s a guy\u0027s neck as long as 22 lens and boring SS all we should probably be able get for CloudFlare and the next two weeks as well fantastic look like the vast majority of our like our one three is like cloud player and Gmail so if we had so I don\u0027t take a huge one three regression or a numbers but up okay so we\u0027ll work on that okay that\u0027s it for channel 23 I\u0027m not thank you everybody okay with honest and Meg Indra Candra like last minute couldn\u0027t make it honest over there um so um during a modest number changes since oh one um so um I did this short record hunter thing which I can talk about I\u0027m talking to each of these things um short record hit things sure record headers um I added the I basically made it clear you could do an empty AK um which you sometimes need in cases where you\u0027re receiving like say you receive the servers incriminate extensions but university the server hello like you like to build a shortcut the round-trip plan um and I read her ski updates without you faxed keep it really well that\u0027s light so we had a loan discussion of how to make the record header short he back in back in Prague and people and I sort of took home that like we hadn\u0027t taught the might as well we could as well as we could and Martin and I went back and workshop in a bit and so we figure out "
  },
  {
    "startTime": "01:12:50",
    "text": "how to improve things quite a bit I think um so um basically the idea is that there are actually two new header formats one of which is um basically just a trimmed-down version the original hundred format and one of which is like actually like super compressed and the point and the key difference between them is do they have a length field and zucchini can you pack more than one in a in a record alright more than one in a UDP Datagram and so um so this is the first one which is basically just like the existing record format except they\u0027re like I took 64 bits and crammed it down to 32 um and I did that by base making the sequence number sequence number of 30 bits long Epoque 2 bits long and um and otherwise exactly like the current one some Thomson I realize haven\u0027t asked you this question before um it\u0027s the reason that the sequence number is much longer in this form because you want a larger sequence number spaces is your fallback that\u0027s why basically cuz is he that of Orient\u0027s um yeah um so on you this this is just like wait where ever use details 147 actually use this and and because your version ago she ation first you know exactly what you\u0027re getting by the time using this value so it\u0027s pretty straightforward um next slide there now fancy one is this is basically Martin\u0027s which is basically a you take up rocking the sequence and you pack them in to a single um into a single two byte word do a word with the appraoch being one bit in the sequence being or remaining what 12 um so the this this has some restrictions on which is why it\u0027s not the basic format um first of all you can only do one or tgd because on the epic bit is too short to let you basically destroy any which are the multiple a box that are employed during 0tt work that\u0027s part of why the other ones got two pieces that are one and the other is um dad you can only have one run for bracket because no lengths you can\u0027t figure out how long that hello in the value is but it\u0027s to buy their prices much better um so uh yeah so they um and by the way you if you work it out um you candy mocks there\u0027s a rule 5d marks but basically the bottom line is that no matter what because these values always fell in the 32 to 63 range and and the um contact the otherwise application you can always forget what it is so it works fine yeah mutton thompson uh the the draft that talks about they max puts turn channels i think no no this is it this is the turn channels are separate or something yeah this is this is always in the duty was already a safety TRS range thank you vivid so I think this is fine but you didn\u0027t mention that you know what you\u0027re expecting because you pick the version at this point um is that actually true if the server hello got reordered with an encrypted packets well you can\u0027t you "
  },
  {
    "startTime": "01:15:50",
    "text": "can\u0027t you can\u0027t process that anyway right right but you wants to drop it on the floor cleanly and not accidentally think it is a server hello and be like well this was a garbage server hello I\u0027m gonna break the connection now I know you want that you want to get scrubbers overload also can\u0027t Caprica server low you know it\u0027s you know you know that this is bit number three safety so you know yeah the point here is that server hello will be 22 and yeah well the other encrypted stuff will be 23 and this will be between 32 and 64 okay next slide so um you need to UM so the one thing you\u0027ll notice is you used to be.we like youth long ass values and they couldn\u0027t overflow and so you know things are simple um if you\u0027re wanting your short values if like deal with it values being short and so basically you know reconstruct the sequence number in that box from having from just the residue at the bottom on the we\u0027re using the same algorithms as quick uses basically which is you the next sequence number basically what you do from is you um you know since us you know the right-hand side of the sequence number and then let the inside is uncertain to within like is uncertain to within basically you know it could be one up or one down effectively of like the previous left hands like you perceived and so what you do is you basically use the full sequence number that would get you closest to like the thing you expected to receive next um it\u0027s not works fine the fucker does um a fuck um basically what you do is the lord of into the epic match you just decrypt right away if the higher bridge the epic match that don\u0027t morbid about don\u0027t match then basically you file that you week is like the epic like the next one or the next one down um and then you look to see what sequence over would get you closest and you take that I\u0027m actually Martin\u0027s gonna save you in a second we don\u0027t it on that you won\u0027t actually to deal with this as badly um if you keep the key update patch it he wants so but so this is a pretty simple world um we don\u0027t have we have this implemented but we think it work um and we haven\u0027t had the first man put in class because yes like right um you go forward one more and we\u0027ve got that ok so right so um uh the I brought a poky update back on when you\u0027re taking it out you\u0027re doing like a story we like looking at the epic fit and like going oh well go forward but now you don\u0027t need that um so um yeah and we\u0027re trying to avoid trial decryption so basically I put the camp date back in and right now we\u0027re just like the old time favorite which is you saying send the key update and um you start changing you change keys right all right and then you have a update request knock down our request to death and the other side respond and the way and and you just and the reliability is papered over by having the acts in normal um so um that\u0027s the way it currently is um Martin persuaded me after our conversation on the but I do originally been right when I complained about this before um and that was wrong now which is it\u0027s not a good idea to start sending it "
  },
  {
    "startTime": "01:18:50",
    "text": "right away because you have reordering then basically um the receiver has some complicated elements are managing it us neutral decryption which is like roast branched out the packet which eventually things will succeed like not be great um so Martin suggestion was that unlike chillin point three you um uh you know you can\u0027t change the new key until you perceive that he updates acknowledgement because they even their site is ready for it and and if you do that then the other side also won\u0027t have to worry you and and if you couple that with the rule that says you can only have one kept it in flight but you already have on the other side well unambiguously they\u0027ll determine which iPod things are from and they want to do any any concepts that she was ever the other way um so I was sort of backup on this but I think what is the right answer so um I\u0027m gonna propose you to change the document to say that none of us ever Lee says I\u0027m the only sort of annoying bit is different than the TLS 1.3 rule but that\u0027s not a hard implement because you have to keep this data round for thee the returns would timer anyway yeah come on Tom somehow out of poker trying to implement this and ran into problems with timers so it\u0027s not necessarily perfect because you in the test that I was running I still had the the handshake related time is running and overlapping nose we\u0027re trying to do a K up there was a little truck that not be true either way right that\u0027s gonna be true any and otherwise I think that\u0027s just sitting down and thinking it through and working I spent ten minutes on it yeah I think I mean the bottom line is details why do you have one time writing this as workers write this this will this should work I\u0027m gonna make this change in what\u0027s anybody bucks and then also route simplify that perfect circle okay back one more flight right um so this is like I think chewy non-controversial on there are cases where you can\u0027t repair part of the flight um so say you get on Sh let\u0027s see it\u0027s a sh t er sent right and um and for some reason the e company comes in first so you\u0027re just succeeding on this thing you know it\u0027s encrypted um you got that bump it\u0027s you know what it\u0027s from but you get do anything with it cuz you don\u0027t have like the keys needed to crypt it right so um and now I\u0027m like deal and detail this one point to you would just like I don\u0027t know drop on the floor preferred or whatever and like eventually there a guy would like retransmit the server hello you\u0027d be fine right but part of the point of like the act of ordering in details or three it\u0027s like avoid having to transmit time now it\u0027s basically for for like things when you\u0027re getting partial messages and so there\u0027s one case where you could we can\u0027t be recover on and so right now it\u0027s re-written in version two arm of radius or whatever was on the on this case just battery um but but I change this time as you can see is in this case she\u0027s had an empty and empty AK which is now permitting like just a matter of changing the floor like zero instead of one um and then and then the other side doesn\u0027t it change its logical the other side logic is the same logic which is whenever you get an act basically unless if you haven\u0027t retransmitted recently you just right away of everything you\u0027re missing and the um and so this causes the other side to return the whole flight there\u0027s no way around that because you because you can\u0027t punch "
  },
  {
    "startTime": "01:21:50",
    "text": "things have an encrypted otherwise you get that lock on so on this shortcut to retransmit timer so it\u0027s better than nothing and it\u0027s basically only thing you can do in this cases and given there which isn\u0027t hammers are quite long it\u0027s actually a pretty big optimization so non Thompson there\u0027s one thing that I just thinking about this one there is a possibility that the other side didn\u0027t pick till ice one three when you received that that message and that\u0027s probably only in the case where the there\u0027s a clear text message coming back I mean he\u0027s sending you he\u0027s sending you so no no no the client could send the second half of its clients love potentially or so um I don\u0027t so okay let\u0027s let\u0027s work this route yeah when it when it\u0027s the Clark way when this when you\u0027re playing this role in the client there\u0027s no problem because you never get because there\u0027s no way to get ie um there\u0027s no way to get you that already knowing you\u0027re one free but basically there\u0027s no way of getting an encrypted packet period ah on but if it\u0027s a clear text packet that say the second half of the server hello which would be a bit weird because that you should not even if you don\u0027t have oh yeah alright so you\u0027re right you right you can\u0027t you can\u0027t you I told you know you\u0027re doing one three you can\u0027t send the knowledge at all right are makes me look careful I that yes but I think that\u0027s almost never gonna be the case I almost never there\u0027s a few corner cases that we\u0027re gonna have to do a little bit careful about yeah particularly when when pieces of client slows come in and with pieces of server agreement otherwise mostly the rule will simply be if it\u0027s encrypted you can wait that\u0027s true that\u0027s true even with that the yeah ordinarily if you got eight you got the second half of the server hello you would think to a cat anyway right right okay um next slide that\u0027s like so that was the only competition literally um boys ASCII update thing so I first issue the next version and you know absent complaining if this working basically didn\u0027t have those tales are great so all along we knew that the detail aspect would come pretty quickly after the one point three the teal suspect I\u0027ve done so I mean I think we I think there are fewer voters of this um let me adventure there\u0027ll be a number but right now it\u0027s basically us I think um arm so if you wanted to wait for us to have it off with arm that\u0027d be okay but um I don\u0027t know how far along you are you pretty close Palance was just complaining to me about how difficult this drive 22 change is gonna be to implement so I expect that it\u0027s going to take a little while for those guys to do I would buy two would like to see at least two people talking to each other okay it doesn\u0027t matter whether it\u0027s us in them or us and someone else but maybe I submit that would be fine today so you wanna wait you want to wait until we have a just "
  },
  {
    "startTime": "01:24:51",
    "text": "proof that we\u0027re not completely insane okay should only take a couple of months we\u0027re here anybody have any other issues that they want to bring up okay I\u0027m doing a booking group last call on this one I think it would be useful because it would encourage their notice to take a very close look at it like like it happened with TLS again right it\u0027s a working class call it might be Bill working through class although I\u0027m actually okay with just doing for class Hall so I\u0027m happy with that I mean we can make it longer if you want or something like that but if usually cubic upon and they\u0027re still I just want to make sure that we don\u0027t get a publication with that Angra having we\u0027re having to interoperate interoperating implementation I think that really does that helps us get through the ixt right does work create okay that\u0027s good okay last I want to talk about that I\u0027m going to sit down is the connection I do stuff on so this is actually a personal draft I\u0027m hoping at the end of this gonna ask for working reception so um this is joint work with Hannes Thomas and Tobias um this unlike everything else I\u0027m talking about is not entirely baked um though it is not entirely unbaked either um next slide so this is like recap from frog initially like the same basic craft was in DTLS 1 3 and people I think we\u0027re kind of sad because they felt like it wasn\u0027t quite as finished perhaps and like also perhaps they felt like the privacy properties were like awesome that they were hoping for and then writing in the details may inspect might not be a great idea so um mostly just did we like took the same stuff but I happen to do and I took it out and put it in like and put and put in a different draft so next slide so the basic idea is like really straightforward the extension that basically says here is the ID that I would like you to use when you send to me and then um and then the potential negotiation and then once you\u0027ve done that then you send with a sentence I gave you and as usual at the client like once like use the server\u0027s ID button once and as oh man he sends an empty ID to listen just listen their side on software negotiation works and so you can always say I have like a zero length ID what you do if you like if you want to receive if you want to send what Roma not receive with one on the important they\u0027re not framed on the wire and this is gonna be a point of like some controversy in a minute so just FYI um next slide so I don\u0027t even like I didn\u0027t even write up like the negotiation I have in a document but they\u0027re not gonna do it here um like so obvious um is with the wire form it looks like oh by the way this is also for one two people wanted that um so "
  },
  {
    "startTime": "01:27:51",
    "text": "like it goes into the sequence someone length on the wire and exactly the place you think it does um morning yeah I just I just had a crazy thought how can we reorder the connection ID and the length yes but I would like the connection idea to be indistinguishable from ciphertext let\u0027s let\u0027s all off that for a second is it other framing if she don\u0027t like that um next slide um so one point three um I didn\u0027t manage them put this in the draft because if you doing I pleading competence um but it\u0027s pretty obvious so because we look like on the zone graph contains like the details of point three ciphertext Russians that are the new ones right it\u0027s like goes in the same place it goes before the length and when there\u0027s no length it goes before like they\u0027re not unlike ones ever text um so it\u0027s like pretty obvious um next slide so one thing that people noted was that like this got a privacy problem and you don\u0027t want like have the same connection ID like in perpetuity and as I think I mentioned repeatedly like much to sort of my personal embarrassment after spending like a crap-ton of time trying to figure out how to like do you know privacy preserving connection IDs like I gave up included ID not to do them and that the best we had to do was like give people um you know an opportunity to say here is like a new connection ID please use this one and since they\u0027re delivered under encryption like maybe when you maybe if you like and do you were changing your IP address you could change IDs like I freely admit this is like not um so um I hacked this thing up and it looks like this which is basically the message called new connection ID and it says please now use this kind of heavy like like here\u0027s a new conditioner you could use and it has two semantics that are indicated by this like enum the semantics are either throw away your existing connection IDs and use this one now or here\u0027s one you might want to use in the future if people like it um so just we have lunch today yesterday there was some confusion about this I\u0027ll try to walk through in a minute um the idea is that you that I might want to give you five connection IDs in case you want to change and cuz I know you\u0027re gonna change IP address if I don\u0027t know one um and so so what I do in that case is I basically I give you I give you one in the sort of the connection and I give you four more with the spare marking here and that means just add them to your pool um and then um and then say like and then like say my connection IDs like I\u0027m using something cryptic in Chinese and so I decide to troll over my cache ie ticket ID encryption encryption key um then what I want to do is I want you if I want you to flush and stop using all the old ones I can throw away the key right and so then I send you like one connection ID with like the immediate bit sad which is like throw away all the other ones and then I send you four more with the spare bed set it\u0027s like this is not like ideal um I\u0027m like I\u0027m trying to think as I was having a bunch of people that maybe it\u0027d be better to make this an array in here and then you wouldn\u0027t have to sort of send a pile of them um okay then you would have like sort that the message numbers um you start to sort them a little bit by the way because otherwise well they might come in but um I\u0027m not sure that\u0027s the best mechanism so I don\u0027t like not you know I\u0027m not "
  },
  {
    "startTime": "01:30:52",
    "text": "from the amendments will be exempted yeah nan Thompson I think the potential for having to sort by measure message ID is gross we have to be anyway because because the immediate bit means right yes of course have to because you have yeah so I don\u0027t know um again like um I guess my view of the state of this document is I mean I said at the end of this ass for acceptance and one of things I\u0027ve been asked for and I assume people want to screw with some of the mechanisms here so I\u0027m presenting this but I\u0027m not like saying this like a funnel for yeah I think we can iterate on this this is just it\u0027s just rearranging the bits around exactly okay next slide um so right um so the bunch open issues people raised I in private analyst but the biggest one is do we need a way to tell if I connect ideas present that\u0027s the idea here you might have a server which will allow you to use connection which would like you use a connection ID doesn\u0027t enforce it and so now you might be getting messages like from people clients which didn\u0027t have a connection ID eight clients we did and now you figure out which ones it is and like I assert you can do this with some packing this but I think people I talked to were kind of sad about it so um I know my co-authors are gonna want to talk about this topic though I think I proposed you want to this topic until after excited wheeler stuff the draft or not there\u0027s no point like iterating on it if we just hate the whole concept um um the second topic that came up oh these things basically I probably defer o\u0027clock decided that um the second thing that came up was um do we need to allow could actually update for TLS would play - um and I know I\u0027m sort of been taking data tube that\u0027s what I\u0027m working on 1.3 and on caramel 1.2 but I know that people don\u0027t go that way so we have to sort of like live with that on the last point that came up and this is embarrassed to say that I knew about this because I worked on it for quick but somehow forgot it when I did this work um is that if you just like how the record sequence number advancing one at a time you get cross connection any leakage um and so you need to change that you need it like basically we randomized the sequence number when you start sending um the UM technically speaking you could just reran demise you know laterally when you changed that is not however ideal because the screwed up the ng replay mechanisms um because when you get a new message see CID you know it\u0027s it you know that the sequence that was very analyzed but the question is what\u0027s the let where\u0027s the left edge of the replay window um and you don\u0027t know because you just got something like maybe in the middle look there may be it may be a middle of a flight right and so we nice the only compute or the next edge of the replay window is that the good news is we have this technique in quick where basically you just essentially you basically have basically at the beginning a connection you just I wish a short key that you use for basically to compute the gaps between the knit between the connection ID on sequence numbers and we could just place that right um so as a same sort of barrows like I think I designed that somehow forgot about it um so these are all pretty modest I don\u0027t know is your existential for like the existence document or not um so next slide so I guess like are there - my question is are there any existential issues in this document it would stop us from from adopting it you hear about "
  },
  {
    "startTime": "01:33:54",
    "text": "them um and if not I like to ask for adoption okay any anybody have any issues yeah how many people have read the doc yeah okay thanks anybody have any issues that they want to bring up down to be asked on Renoir we so not an issue with adopting I would have an issue if you wouldn\u0027t adopt it and that is I have literally millions of IOT devices out there that have trouble behind a net okay so this is a very life real issue at this moment and I hope we can fix it somehow thank you okay anybody objected to adopting this document yeah sure if you were going to do a hum if you are in favor of this adopting this is not you are in favor of adopting this document please um if you are not in favor of pop adopting this document please oh yeah do we have trying to cover the one up an issue that I wanna talk about or it\u0027s like okay can I just show you the next lines if you\u0027ll know what I wanna talk about right think about this on original list real soon we\u0027re gonna adopt them document I\u0027ll put the approval in all right Nick you\u0027re up hello I\u0027m going to talk today about expert authenticators next slide please so TLS exported authenticators is a draft that\u0027s meant to solve a specific problem which is that some application layer protocols they need additional certificates whether it\u0027s from the client sign post handshake authentication in TLS 1.3 is a little bit awkward and optional and perhaps in some scenarios given a TLS connection you might want additional server certificates next slide please exported authenticators is a way to allow TLS library to export a piece of data that allows you to bind an "
  },
  {
    "startTime": "01:36:55",
    "text": "additional certificate to the existing connection and this can be done on the client side or the server side the structure of this blob is to find a document it looks very much like a server hello series of messages certificate certificate verify and finish next slide please this was proposed by ATF 96 adopted at 98 and we\u0027ve had implementations since then I have worked this since IETF 99 we\u0027ve had some small minor cosmetic changes to the draft at the last ITF you discussed this and the discussion was that this perhaps needed some academic review or some sort of formal analysis before moving to last call next please so in the meantime guess Kramer\u0027s and Jonathan Hoyland from Oxford have created a preliminary tamarin model to prove the security of expert authenticators in the context of HTTP two additional certs there\u0027s some promising results for this next slide please but in in recent discussions there is a little bit of duplicated logic or undefined logic in the draft right now as written it requires the application to select certificates and to select the extensions that go into this certificate furthermore there\u0027s no real binding between requests and responses other than the context so the logic for selecting certificates and selecting extensions already exists in TLS there\u0027s a construct called this certificate request and certificates in TLS 1.3 are bound to the request next slide please so with expert on authenticators we came up with a proposed change to the draft which is a new exported request essentially this looks exactly like a certificate request object and it will be incorporated into the exported Authenticator in that the signature will cover this exported request if present next let\u0027s go so that\u0027s that\u0027s basically where we are with the expert off indicators there\u0027s a PR with comments up on this and want to raise this see if there\u0027s any questions I think instead it\u0027s the formal model the family is that aware of it somewhere but is it sort of like did they posted not yet I updated passive Jonathan with new proposed changes and so they\u0027re working on adopting their model to this new proposed change and once they have that it should be posting yeah so Martin Thompson one of the reasons why I proposed the change was "
  },
  {
    "startTime": "01:39:56",
    "text": "that in looking at this there was a number of parameters that were feeding into the hopper that sort of determined what certificate was being chosen by the other side and none of those were under the under a hash and that made me a little nervous and this actually works out really well from an API perspective because it means that if you do implement implement this inside your tail I stack and you\u0027re reusing all of the machinery for certificate request certificates verify all that sort of stuff this naturally it\u0027s neatly within that within that model you can put those signature algorithm negotiation we\u0027ve never separate independent from the stuff that\u0027s in the in the handshake it just seems to work out really neatly so I like to change right so this change was was recently was this week so maybe we want to see if anybody has read it worth anybody else has any thoughts for or against this change what he said anybody uh anybody against this change is anybody read it I got one I got - yes all right cool so I mean Mike that was one of the one of the driving these cases from your former employer I think what we should do is well he wants to take it to the list do you have a timeframe from when you think that the tamarin results will you know be closer to the final I I don\u0027t have an explicit on one but they they seem to be close and the new changes from from what I heard did not seem to constitute a big challenge excellent so let\u0027s I work with you to draft up a message driven home all right thank you so it\u0027s also to be noted that HDPE has considered putting on the list adopting the additional certificate strap which depends on this document so so there\u0027s a dependency there Thanks it\u0027s dim project okay so you\u0027re using the certificate request I remember I did that\u0027s the old one that allows you to specify algorithms are deceived by CA that\u0027s right the TTL s13 certificate misspent request which is just a context and a series of extensions okay the new mark all right Oh cheer hat on so tried to get one of you guys to write this draft and nobody did so Joe and I volunteered to write a draft it basically went "
  },
  {
    "startTime": "01:42:57",
    "text": "through and looks at all Diana registries we need to update them um I want to make sure this isn\u0027t a blocking thing for teals from point three so let\u0027s get this in gear and get it done so just talking about the draft next I wasn\u0027t sure how much time we\u0027re gonna have how long the key loss discussions are gonna go this is the quick don\u0027t bury the lead this is basically what I want to do so we got time let\u0027s go into the next slide these are the changes that we made I mean the big one was to be factoring so essentially the internet it started it\u0027s been growing if we put in registry and the rationale was in the introduction and it seemed like it would be better to put the rationale for each one of the changes in the peeps intersection so we did that we decided that you\u0027ve got that recommended column we\u0027ve probably better actually explain what it\u0027s there for then we did the better we did a thing on the list where we figured that we would remove the CC and that\u0027s cipher suites from the recommended column um they can still be used they just won\u0027t be in the record when you call we obviously needed to add a security considerations and basically we took the warnings that we had for the sec receipts and had them to every crypto related registry basically it says warning don\u0027t be an idiot and just implement these things when we actually look at the algorithm um and we we had an expert with you to the supported groups that\u0027s really it so this is mainly a big procedural document so we\u0027re at the point now next there\u0027s no really open issues in the github repo so our theory is next get Kathleen to start her ad review Steven Farrell has kindly offered to Shepherd it forth because obviously he can\u0027t ship her own document so I\u0027ll work with him to get a shepherd with you any comments how many folks have read the document I\u0027ll be honest I suspect that really what can happen is the general review is gonna uncover some things because that\u0027s what they do they look like they care about things like anti registries I don\u0027t really think that any of you are I Ana experts on the registry so I\u0027m kind of okay with that actually yeah we do have some time so you don\u0027t have to fly through these impairments hello Makka pakka I six I\u0027m going to present the final extension in style service and this is intended both for ALS and Els both 1 2 1 1 3 so the problem is that servers are "
  },
  {
    "startTime": "01:45:59",
    "text": "vulnerable to denial service attack against handshake essentially we never say that kind of a beautiful sunny fine little messages if we gain the server to react in the first place parfum processing can shake up to even steps being a server to host a copy with several concessions and the cookie exchange complicates the effect upon us in some extent but it is oriented only to non fat adversary\u0027 so of course the service is still exposed to own path of bursaries ranging from adversaries able to screen and inject messages for instance a confined flows into city before leveraging that is cooking possibly up to adversely in addition able to stop traffic most likely from legitimate clients as the whole state of a new several a stage of course the specific attack attack in fact this is particularly impactful on constrain our devices relying in visualizing the power loss networks our goal was to essentially consider also how to contract unpacked adversary\u0027s and we\u0027re essentially proposing a client hello extension intended does not have to both he and I still s12 Murphy including a park entry token encoding basically announced and the Mac completely already knows the handshake token is built up by conquering the first relation with the server and provide for firing that requests trust encore in first place establish handshake with the server then practically the has to check the handshake talking to be fresh and it\u0027s not the device and in case it name Jake otherwise it aborted yeah some more detail on the protocol the server is associated with one yeah only and they share along km it is then visibility a to generate a token essentially well the TA can be associated in principle to multiple servers that have to be registered in advance on the PA and for each handle server the TA as a pair waste hunters it as any choice 0 upon certain registration and that is used to do the N Shake token as to completely solve and and mortification for the tae receives requests from client entity establishing the session with the server and has to verify that that client is authorized to proceed the handshake with that server in the first place and this very rejection process is otoscope to the document but kind of your locally on the "
  },
  {
    "startTime": "01:48:59",
    "text": "very same ta or out of evidence provided by the client the client has obtained and beforehand and of course communication with the TA I mean between the client and the TA must be secured the specific things are Alice couple is document well as we see there\u0027s no additional communication needed in TA and server yeah this is just a graphic overview so you start from the TA endless journey long term PKM client requests gate establish handshake with server s the a generic token provided the client on this new channel then the file starts to handshake with the fine hello including also the e OS protection extension with intern sever verifies I think a success the entry quality isn\u0027t supposed to otherwise it\u0027s meet the boat it somewhere little step by step so the final party s worth of innovation with us then the DA considers the counters at us as token dance and complete smack on the ass on desktop announced as an H Mac using the long term key game share with the server it is dense a token fascinating token aliceandmac implements the counter associated to that server the fuck knees apart look lighten so the only semantics to me is is agreed between blue tae and the server after then the client simply prepares the client below infants used to start the unshaped with the server including also us protection of potential bomb and the area of sanctions to define hello and simple starts in shape then the server receive the client hello has to check that the DRS protection attention is fresh using the token Alice in including extension so it has to recompute the Mac and check it against the convened one and it matches negative it has the body en shake immediately otherwise you just don\u0027t hear any specific protocol and in the docking to cover some additional points as the social assumption this extension is not strictly needed for session assumption actually caused given the existence of a session already the server is perfectly able to assert ones validity and even possible replace of client twenty hello sent for assumption can be handled by means of other mechanisms like white below recording but TLS one Tuesday\u0027s that at least clients are supposed to the parental of messages sent for Assumption including extensions that they would include if they were starting a new session so if you won\u0027t be a compliant with this and "
  },
  {
    "startTime": "01:52:00",
    "text": "this is very important we considered the TA came provided client the end she talked and talked about before plus a limited number of the Samsung tokens built up for it the same logic essentially be used by the client in case of session assumption and just for the sake in the end to be combined with that statement Plus as I mentioned when processing the extension the server is supposed to check that extension is fresh and there\u0027s mobile using token us including the extension in the graph we propose a possible approach do that based on sliding window and of course it\u0027s up to you to arrange wind of proper size so that you can clean off the actual accuracy or of the plate I know messages and and the memory overhead on the server plus of course it may take a long time but eventually the context of s on the server drops around and that is of course you don\u0027t want to reuse km now pairs to generate a shake tokens for requesting client so when that happens the PA must know the long turn key with the server and that is first we recommend the TA to enforce rate limit in issuing nancy\u0027s or essentially and say tokens to recipients to avoid that even legitimate clients can quickly consume the non spaces even server at the same time than serve other requesting clients yeah there\u0027s a related document actually indeed ace working group environments where details about the transfer protocol so the security protocol to be used are left to separate documents called profiles and there is especially the DTLS profile for such framework that in the latest version has a knowledge the problem and is pointing yet this document as a possible approach to address it and that is quite easy to achieving the profile by the way because it is efficient that the authorization server and framework acts as the trust anchor on this approach yes the next that this version is actually a major revision of the previous one we submitted for drag the overall approach is not the same what we have a final simplify the design improve the flat model in consideration mostly I\u0027ll give dr. Meg thanks again for that but of course other feedback that you are very very welcome and this activity will also consider within an EU project "
  },
  {
    "startTime": "01:55:01",
    "text": "about security in smart grids where we produce also proof of concept implementation of this approach on details one two in California and standard but that implementation is aligned to the design describing version zero when our next step is of course to the line that implementation two special one of the drop benkei dock so I\u0027ve actually read the draft a couple times I read a couple weeks ago and then again a couple days ago and still left me kind of confused to your talk today helped somewhat but it sort of seems like you know the proposal is to make the DTLS server more robust to us at the expense of moving that out over to the TA and the TA is perhaps still susceptible to do us so it seems like this is only useful in the case where the DTLS server is sort of under-resourced and the TA server is heavily resourced and better able to withstand the do Estep that right okay and then the other thing is that I\u0027m sort of we\u0027re concerned about the not exactly statefulness but the timeliness against the the client has to get this this token and it has to use it pretty quickly they\u0027re off because of the way the the lack of direct connection between the decal server and the TA means that it has to do the the sequence we knowing in earlier train detected these things are valid and so the DTLS client could get these these tokens and then just use it for a while its tail and astok trying another one sure but the client is impossible that session plus it shouldn\u0027t be practically probing the window size for perfection sure I mean it\u0027s just there\u0027s there\u0027s gotta be some tuning going on there in terms of the various implementation limits and the size of the deployment and I don\u0027t think that\u0027s discussed very wall in the context in the proposal just decided 17 because you said that communication between the client and the game must be skewed and be honest with you okay I "
  },
  {
    "startTime": "01:58:24",
    "text": "just wanted a second ago we have an RFC age 19 or kiddos protection and slightly different approach [Music] min PI from Symantec light you say particle video server is socialized one PA does though oh man it is supposed to chef to the tosser from a server to the TA right protect that pac-man that ship to that yes now as I\u0027m sure you need to secure communication between client yes well you can do that with other means that possibly provide other solutions of their own against that but even if you go for Els for detail is between PI and and gay I can first assume that it\u0027s more reasonable to have relative with you TAS or bastard against that or easier to protect and way compared to many more devices that connect at servers they\u0027re putting much greater numbers this is Hannes um so so far we had the us mechanism added to detail s already two previous version and still exists today with 1.3 and I haven\u0027t heard any complaints that it it doesn\u0027t work it doesn\u0027t fulfill its purpose so I\u0027m curious whatever you so may be solving a problem that hasn\u0027t been out there yet did you did you notice any efficiency with this he does mechanism the cookie exchange you you do have also so in difference - in the old Daedelus version you had to add this hello retry request had a verify request depending on which version of TLS and it basically does a return readability check it also has a cookie mechanism which is a useful thing if you to avoid reflection attacks and also to delayed state allocation and doing heavy computation which is pretty good in some sense so did you encounter any problems with that mechanism without actually having to add anything beyond that no "
  },
  {
    "startTime": "02:01:30",
    "text": "significant a cookie exchange does not cover on part of those reads that does the limitation we\u0027re trying to but you mechanisms can\u0027t exist yeah yeah so you bit your big as the other speaker said you you basically move the protection and from the toss vulnerability to the server and to the DA Spooner ability to another note because that will also be on back presumably yes and I find it reasonable to do that because it\u0027s reasonable to need to have a few days quite robust against that rather than mean more even constraint servers but it sounds like you I\u0027m sort of reducing a DOS attack again so bite a distributed infrastructure to a Dorner ability against a small number of nodes that sounds somewhat tricky but done so I guess the question is who has read this crap I have a show of hand all right now we\u0027re up eight my name is Don Francisco so myself and Richard and max I can solve a problem routine today in appointments the two related draft so Hannah\u0027s actually on the exact same day on October 30th submitted a similar draft which is a four layer TLS which is essentially application or TLS and there\u0027s a related draft as well in the animal group about bootstrapping and what we\u0027re trying to solve here as a problem is not explicitly solved in the animal draft the risky draft so our motivation it is what we\u0027re seeing today and it\u0027s a device boots your problem you see when a customer\u0027s deploy some of our endpoints in our our collaboration on point specifically but um for endpoints the unboxer network sorry the unbox box and powered up for the first time in our network there\u0027s a TLS terminating middle box between the device and our Cisco Cloud and the device is dead in the water it doesn\u0027t cross the middle box it is no way of connecting for cloud and what we\u0027re trying to solve that problem the device counts duty let\u0027s validation that is don\u0027t you trust a private CA root from the middle box how do we do "
  },
  {
    "startTime": "02:04:35",
    "text": "and there\u0027s a few different ways of doing it the first one is expensive and involves an integration if you Devi was doing it the first thing we could do is we could put an operator specific configurations call you device prior to chip in it so when it leaves the factory we know where it\u0027s going we put specific configuration with the device directly across the middle box the second one is the operator disabled to get a termination on the middle box Colet our device connect to cloud doesn\u0027t really work as well and the third one is the operator of the manually installed private CA routes on my part our position so mechanism two and three are currently doing to the inner core networks no one\u0027s happy with that the operator think it\u0027s too expensive it\u0027s too time-consuming but we\u0027re proposing to do is work around this by a device logic so what we want to do is establish an application near connell over the middle box to establish a secure connection to cloud and download the information from the clouds enable device I\u0027m secure Network the device could simply download the middle box cross information using that channel and then fall back to standard narrator TLS there\u0027s multiple different ways establish an application they\u0027re encrypted Channel we could find something using gilfs art JWA J Dilla peak we could define an encapsulation using noise and our wiki just reuse to T let\u0027s document again tequilas record application there are design goal to do this as simply stops when this few lines of code as possible on the client and it\u0027s few lines of code hopped on the server and our rationale is device are really called tequila stock API is a network layer funny just get the drug Chicago\u0027s that API is twice and the second time we call to this tunnel that information over the over the application and so transfer what we\u0027re proposing to do with transport to TLS packet inside a QP and I\u0027m transport perplexity less per clicking the button must buddies the reason why we\u0027re doing this it\u0027s the lowest common denominator if it\u0027s greatest chances conversing middleboxes we\u0027re discounts at university making proxemic where this chance to get to work louder that\u0027s the reason why one due to those common denominator and the application Eric Taylor serves the district address using standard takes me guess your eyes it\u0027s more suited to applications that look like HTTP and as I say what we\u0027re trying to do is just use a security to bootstrap and then fall back that\u0027s impossible so the architect is pretty simple we\u0027ve this built and functioning using open SSL see we\u0027ve proven route you can gather the ATT as well and the what we\u0027ve seen is the standard T let\u0027s tax and all support unplugging network layer and we call the top TT let\u0027s talk AP item at the bottom at regard for "
  },
  {
    "startTime": "02:07:35",
    "text": "kilobytes and and then you can transport for tea lights lights over whatever transport you want and we\u0027re proposing this transport unit already the the application architecture pretty simple you can see there in the bottom and the application essentially establishes two theater sessions one with the application there from the transport layer for the application area session you just extracted height from the bottom of the demon stack and sheltered over HTTP transport human box so there\u0027s uploads and discussion points here both doggies want to turkish all the way down and so we\u0027re doing an application Aaron Krypton and over the transport layer and water preventing middle monsters from Franklin except up and block that same question is equally applicable for Annie and client application crypto but are using noise to be destroying something using all day and jwe it\u0027s the same temperature applies of preventing limited box and intersecting - seeing that this looks like encrypted traffic and running on a blockage go turns out from talking little memory box benders and most middle boxes don\u0027t do that because they chatter there\u0027s a brick and he thinks what we were intending doing is just using application air TLS for the handshake and then falling back to maybe or using key exporting and encrypted key encoding don\u0027t necessarily need to do that so one of the questions we need to ask is is just read application areas for the two round-trips for the handshake then followed by clicking mechanisms are really just transferred all your application data inside the teal at all time under transport reliability pitched messages can get lost transport each other\u0027s records inside the hand kick and that is somewhat mitigated by PS using a TLS for the for the initial handshake then falling back after your first e-bikes transport lightly he isn\u0027t such a problem than either and one of use HTTP connections and that isn\u0027t going to work for life in all scenarios we have deployments where we have HTTP proxies in front of pilot permit in little boxes so your endpoints don\u0027t have to connect any way and then wanted all to connect it\u0027s going to hit the middle box and pls virtualization is gonna pay all the energy and then if you try to do a second connecting top of that connect our complaint perspective they mean get the deployer reverse proxying come to your service and how to connect there and below to break many bottles come back I\u0027m finally for a serve decline signaling and you can upgrade WebSocket necessary serve the point Sydney becomes less important as well he just used this for danger time take the first T Washington\u0027s alright therapist brought um I think people behind me have opinions but usually I don\u0027t have a question um so you um what happened to "
  },
  {
    "startTime": "02:10:35",
    "text": "me issue P connections aren\u0027t like that like ten H CPH attention is like we live description of the server right and so you pull up the connection and you start doing this stuff and then you know the the server turns down I shouldn\u0027t figure out what on what\u0027s holding that connection to why basically yeah yeah well well connection tracking not touch exactly right and my point is my point is like you you so do I understand this draft to me edge to something you um you know they should be connection your busily time to tell us the tell us records over HTTP right which is like like um um or these purposes in are probably my point is you do that and then you\u0027re like sending some data and the server is like yeah you know I\u0027m like tired in this connection it I said the fuck right and now you three can own your connect like yours back like your back you back I just don\u0027t want right I mean you can do what is like like like what is the mechanism that do not care if the TLS connection survives past the termination they should be connection or do you have if you\u0027re gonna do this work right yeah arm but if you\u0027re if you\u0027re gonna if you\u0027re not going to use this sporting thing then I actually think you may need you tell us con ID um did you to basically right possession what no not a matter of finiti it\u0027s a matter of it\u0027s a matter of from the tls perspective when you reconnect to the server right on dad I mean so you can just be like you can just save a lifetime with the TLS connection is bound the lifetime of the HTTP channel right but that\u0027s like not really great because like I mean like what you really would like to have is like that there\u0027s no logical connection between the between the HTTP connection in the tailless connection and then when you like if you actually it\u0027s torn down you don\u0027t through the resumption you just do something else you just basically say well yours like record number 322 and I just sent 321 right and so I\u0027m just going to figure out like I just like it I guess I try to feel like like that\u0027s definitely one thing you could say um you could say as a ketose comedy or like that mark Nottingham is this thing is that good enough like this you know Wow okay so we have a number of efforts in the ITF currently or coming up that are describing how to do things over HTTP and there\u0027s existing advice for that in "
  },
  {
    "startTime": "02:13:36",
    "text": "BCP 56 this and we\u0027re working we just adopted in the HTTP working group or a vision of that a fairly substantial revision I this is probably one of the more flagrant cases there and and that\u0027s all I\u0027m warning you it\u0027s gonna be looked at through that lens if you adopt this I think as an organization we probably need to work through how we use HTTP a bit more before we get to such an advanced state you know HTTP for better worse is becoming to be regarded as a transport by people I mean hey the next version of HTTP is being defined in the transport area so I don\u0027t know if that\u0027s good or not but I think that there are numb problems here having said all that there is a discussion in the HTP working group right now about how to negotiate to open up effectively a new tunnel in an HTTP 2 and upwards connection and I think you\u0027d have a much more positive engagement if you went through that kind of route and and the exact mechanism is I think there TVD so I can\u0027t quite hear you our opening tip is we turn off Tila search validation so our motivation for this is the point of a standard maybe are the middle boxes just just carry so the middle box is interposed usually you know just on port 443 or so can you just use a different port are they going to be blocked generally that\u0027s why but work through you don\u0027t come down yeah right and and there\u0027s a bigger discussion everything needs to happen here and it\u0027s happened in various ways in the past about how we feel about far wall traversal and different mechanisms thereby yeah ok mohit so I\u0027m still trying to understand "
  },
  {
    "startTime": "02:16:38",
    "text": "like what\u0027s the problem that you\u0027re trying to solve is like you have a middle box that doesn\u0027t know anything about this on unbox client and and you unbox it and now it wants to wants to connect to some application server from where it will get credentials for the middle ball am i right or some sort of information right so I have no information about the middle box yet but I will connect to a server and get some information about this very box so like since the middle box doesn\u0027t know anything about this new device that you just unboxed why would it allow you to connect to any application server like well so you\u0027re assuming that you will allow some HTTP traffic to go through for you to do the TLS handshake so I think maybe you need to look at other possible solutions for doing this and how probably other networks do this is they do it even a layer below IP so they usually EAP and you can do radius tunneling to any server on on on the cloud wherever you want to and send these send the information about the middle box you want to I\u0027m just throwing a new idea at you because what most gateways do do this authentication right they do use here fee and they do use some back-end like radius or diameter wouldn\u0027t that be the bear approach do it done pushing it even further up because I don\u0027t know anything about this new device that has just been unboxed so I will only allow it to connect to some server for a little while until it gets credentials to authenticate to me I can\u0027t hear you sorry if your total radius or diameter or anything like that you think or how tightly created Earth the server\u0027s running on the premise network I mean you do appearing and these are things that are already deployed today and then define wherever yippee method you need to send the information about the above the middle box that\u0027s up to you sure it\u0027s and I will be happy to help you this is something that I have looked into in the past so maybe we can take this offline uh also another offer of help if it\u0027s "
  },
  {
    "startTime": "02:19:41",
    "text": "helpful first thank you to everyone involved in the anima brewski work having done a credential provisioning in factory key provisioning for a couple billion devices I think that\u0027s really a good way to go also with the the middle box hat on though if we were to expose an interface or if there were a way that we could sort of authenticate those IOT devices to know that it\u0027s just an IOT device and then it\u0027s an IOT device just trying to connect to its vendor and just make a policy change if it would would that be helpful to have something like that built into the protocol is an option or are these a strictly always sort of an adversarial relationship begin today we\u0027re talking a policy we just want to ask for customers to do em like this whitelist white.this assist with the means that our device team can get out all right so you\u0027re doing it best just on domain whitelisting forget what currently is doing fitness at the minute Mike this may be would you be open to us working with you to do something a little more surgical and a little safer well so like while you teen max is one of the names on this draft right so max is heavily involved with the animal is one of Biscay craft authors as well and this is one of those specific use cases in that isn\u0027t explicitly addressed into Brisky draft but if if we do have Brisky compliant networks and we don\u0027t need to do this okay thank you this is Hannes so I would like to provide a little bit of motivation why I think your work is useful and I think why this group should take a look at it and pick up this topic and also what motivates me to write a very similar document publish it at the same time um I hang around a lot in its IOT groups and they\u0027re um in contrast to this working group people believe that Els doesn\u0027t provide enough security in terms of Indian security so that they would like to extend it even further and the consequence of that is that the proponents are designing a TLS like protocol app the application layer totally from scratch basically with the same design principles and that led me to believe that why can\u0027t we just reuse the same mechanisms just at the higher layer as well and the use case I\u0027m looking at is not necessarily HTTP of course but a co-op and deployments where you have segments along the end-to-end path which may in some cases not even I be like you start from a Bluetooth low-energy devices and go to your smart phone and so on and it turns out similar to your experience that doing that is actually not just possible it\u0027s actually "
  },
  {
    "startTime": "02:22:41",
    "text": "fairly easy and requires very little standardization overhead um so I think this is I appreciate your effort and I\u0027ve fully supported hi this is dkg so I came here this morning to come to the TLS working group and I didn\u0027t realize it was coming to a support group people who have been assaulted by middle box I appreciate it so this is all a cat-and-mouse game yes I appreciate your mousing efforts like we need apparently we need more Mouse\u0027s but I don\u0027t understand where this all stops I mean you\u0027ve already said Turtles all the way down as your first discussion point here and what you\u0027ve designed looks to me like a generic stream transport over HTTP I don\u0027t I may be misunderstanding it I apologize that I had not read your draft and I\u0027m not sure why this needs to be TLS specific if what we\u0027re designing is a stream transport over TCP over HTTP so that we can stuff an encryption layer in there why does it need to be pls what I mean yeah I mean it\u0027s basically it sounds to me like you want connect so that you can get past middle boxes that are gonna be confused by connect and let you through I just you know we can specify all kinds of mouse protocols and then the cats can get hungrier and then we can specify more mouse protocols but I don\u0027t know like at some point I don\u0027t know where that spreads and you have it you have a vision where it ends well so we\u0027re about to talk about the Kinect stuff because we really don\u0027t think connectors gonna work in all all the defunct nerves that we in visit because the cats are already too hungry for Kinect is that why well let\u0027s take it offline take I\u0027ll talk about the connecting after this right okay um well one of the reasons why we\u0027re proposing like actually standardizing transporting Kayla\u0027s records is and also we do intend falling back as soon as we establish trust because it\u0027s a TLS record it becomes really really easy for the middle box to explicitly identify work what were transporting to see you don\u0027t see it they will actually be able to look at look at the byte stream with it that is a TLS record I know exactly what this is and so you think that the middle box that\u0027s currently rejecting your TLS records when they recognize that will it no trans on running in the middle party no it\u0027s not the middle of the projecting our TLS records because there are devices of the first middle box we\u0027ve no leaf crossing into the box well you\u0027re trying to make a TLS record go all the way through to the end point past the middle box and they\u0027re a TRS middle and the middle box is rejecting that connection and substituting itself oh okay yes yes yeah yeah so it\u0027s throwing your attempt to connect outbound on the floor because it\u0027s interposing itself yes and you seem to think that that I think the point I was trying to make is it the the more common case is that when the middle box "
  },
  {
    "startTime": "02:25:41",
    "text": "interposes itself in TLS layer it\u0027s authenticated under CA that the device you\u0027re the client doesn\u0027t trust and so the client drops the connection client you know the middle box means happy to let the thing through easily even if the middle box is happy to lock you can clear the client can\u0027t verify the server\u0027s identity yes you can\u0027t actually get out right so I understand that but what\u0027s happening is that the interposing Box doesn\u0027t want you to make a connection to the endpoint and what you seem to be proposing is that you\u0027ll say fine I\u0027ll connect via your interposition and then I\u0027ll connect to the endpoint which surely you\u0027ll be ok with and I don\u0027t see how that logic follows you see what I\u0027m saying well okay so this is a question for the middle box vendors on for middle box vendors in general then pocket water is their answer to any application around one crypto yeah I mean there\u0027s a variety of answers that question depending on how big of an asshole you want to be like you could go the full like ABS proxy like we can obscure this as much as you want and ultimately they\u0027re gonna be the cats are gonna be able to lose information because the whole thing problems or something so I think that the more the more conciliatory ants may give you some hope is that you know in the kind of stages of grief that we\u0027re going through here in the support group this is actually kind of the acceptance stage of grief but we are trying to be okay with the middle boxes but I think of Brian in his presentation last night the patient\u0027s off like talked a lot about how you know clients needs to be able to trust things and you know adapt their posture this is about adapting the posture for the network\u0027s you\u0027re in at the at least in this use case that Owens articulated so that that\u0027s what gives me some hope that you know there because this is designed to make lives easier for them both middle boxes and the devices that it find them there may be some possibility of baton i you have mirror formerly a middle box manga there\u0027s a reason that the middle box is decrypting the traffic it\u0027s not because it is fun because the middle box wants to get to inspect the content then you go and make the continent cryptic the first rule of firewall is firewall is supposed to enforce policy cannot understand what\u0027s trying to do this is word and weird you drop so by doing this extra layer of TLS or any any other kind of crypto you\u0027re making you\u0027re marking your traffic is weird and making it so that the middle box is going to drop it unless the little drop box has a specific rule to get this particular traffic go through and then you don\u0027t need to decrypt it like in a business environment I bought a new samsung fridge in this empty fridge wants to talk to some "
  },
  {
    "startTime": "02:28:43",
    "text": "samsung cloud for whatever reason that\u0027s a potential effect that\u0027s something that the middle box wants to get rid of the middle box is there exactly to get rid of that stuff yes I understand that I know I thought middle box vendors and we are a middle box vendor house watch for middle box group as well right and in general if the middle box starts to drop any traffic it doesn\u0027t understand that I think maybe this is encrypted I don\u0027t know what this is it\u0027s going to break you money application the middle box don\u0027t actually do that blog deployments if it\u0027s if it\u0027s a boy\u0027s room it doesn\u0027t understand and it thinks maybe this is encrypted Asia it\u0027s not the ANA drop slap just break everything we gotta get outta here mark Nottingham I really like the points of the occasion you brought up in that this feels like a tactical response to a problem in in that you know you you can\u0027t get through current middleboxes and so this is how you would engineer to fix that problem and that\u0027s the mine but when we standardize that that kind of has a different bar you know this is implying that it is the appropriate solution for the problem and and and your engineering this way is I understand it because you know it\u0027ll get through existing middleboxes and you\u0027re kind of like opting them into that without their engagement I\u0027d much rather see something with engagement with the middle box community where you can work out something that\u0027s explicit and that has a future rather than just what feels kind of like hope based engineering you\u0027re hoping that they won\u0027t decide oh we\u0027re gonna block that too and so yeah I\u0027d still have a lot of concerns and thanks TKG for that respect all right so just so everybody\u0027s clear we\u0027re not gonna have a working group adoption calling this draft there\u0027s obviously more discussion needs to happen do that I\u0027ve no problem using the TLS to do that a gentle reminder you need to go there\u0027s this there\u0027s a thing in here so um thank you for your time but please expedite leaving the room thank you you "
  }
]