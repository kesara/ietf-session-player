[
  {
    "startTime": "00:00:05",
    "text": "the uh in case you're new thank you Donald uh this is the note well please take a look at it if uh and we'll start uh with that as the introduction and I'll start in just a few minutes good morning Jeffrey Jeff you've been busy good morning s good morning I think I'm going to give a few minutes after the hour and see if we uh have anyone else who join us but if not they got plenty of interested people for e"
  },
  {
    "startTime": "00:02:30",
    "text": "well let's get started I'll at least start with the agenda good morning shuping good morning way uh let me this is the note well if you've are new in working with the ITF uh you should read the note well I note that Donald and ching and way are uh good long-term uh participants so I think you can glance at it and go from there in the meantime let me load the slide deck which you can download from the uh piece from the website see okay so is the screen seeable at this point Jeff yep it displays fine okay so this is a design team uh the first couple minutes will be a bashing in case uh you want to add something uh sh ping uh I I I uh may need your help to describe the APN draft I did load it in case we uh needed to chat about that uh so"
  },
  {
    "startTime": "00:04:02",
    "text": "yeah sure I would appreciate it um I believe I'd like to try to since this is a smaller group have people describe their uh introduction as I just noted chuping has uh a flow spec draft related to APN um chapen would you like to share any other background about yourself yeah sure thank you so uh hello everybody this is shoing P from Huawei and basically in iedf I currently focus more on the uh srv6 IPv6 and I'm also chairing the dispatch all dispatch uh yeah and I have this flow spe draft in the IDR and uh it could be a potenti show your cases yep that's it thank you sir thank you so much Donald would you like to introduce yourself Donald I guess I've I've been involved in uh flpc for quite a while I have some flpc extension drafts on U version one which are awaiting implementation and have' been uh involved with to on uh the specifying version two so that's really primarily my involvement thank you Donald and Natt would you like to describe your interest uh sure I well actually I uh um I am individual contributor right now and uh I don't have official support from my employer right now so but basically I work for career and uh I"
  },
  {
    "startTime": "00:06:01",
    "text": "have some uh use case uh I have some use cases from for the floss B uh and uh we have some U well some use cases that might uh need some uh extra implementations in this case so basically we are pretty interested in the flow speec V2 implementations and I personally I have uh contributed to the I think is the TS flow back srv6 draft uh which is doing some kind of uh PES steering for the uh fros spe filters yeah that that's it thank you thank you then Juan would you like to tell us about your interest in flow spec maybe one uh would you like to say hi Juan is showing is only a zulip user so I suspect he's not really Lo he's not June Jun G would you like to describe your interest in postc okay maybe he's also having trouble with the mic we would you like to me pan would you like to describe uh how what your interest in flow spec is uh hi I actually I'm I'm I'm new to this IDE group and I noticed there in"
  },
  {
    "startTime": "00:08:00",
    "text": "the agenda in the web page say there are now cont um AC content filter related stuff I am curious about this so I join this 's meeting y welcome we're glad to have you join us ran would you like to if you can uh tell us your interest in flow speec Ben just go ahead and speak if you get a chance uh sorry S I can't hear what you said I'm late but the network is not very good oh I'm so sorry Sor well we're glad I'm glad you're here hopefully the audio is coming through thank you um I appreciate you at least trying to say hello ah hypo welcome than you to you're welcome hio welcome to flowspec did you want to mention a few uh minutes about your interest in flose speec yeah thank you okay welcome Gerard are you uh at uh um coming to help us straighten out close spec okay hi Joe"
  },
  {
    "startTime": "00:10:00",
    "text": "well I'm I I'm trying to with a uh design team trying to gauge the interest I see we have people deploying so let me go back to for those who are new to uh talk about what we're trying to do with the open parallel design teams we're trying to hurry along uh the work because we had car and CT and there's a lot of drafts that have been proposed uh Donald and I have done some uh flowspec V2 work but what we got from the implementers when we gave a fairly complete spec was yes this is complete it's logical but it isn't uh in good chunks of Technology that's easy to deploy and we'd like to see this deployed and used as uh a few of you set in your network so we talked to uh Gunter I talked to Jeff and some other people who'd been working on implementations shiing and my understanding is that if we broke it into several pieces that added to one another people would implement it so we broke the chunks into a basic uh IP uh uh basic flow spec V2 for IP and what that is is we have filters plus the current actions plus ordering because that's the real problem in adding new specs to flow speec V1 is that the ordering of the uh of the user uh filters uh was not really doable in flowspec V1 in flowspec V2 we've"
  },
  {
    "startTime": "00:12:00",
    "text": "added an order and I'll go through how uh we've done that in the flow speec V2 then we thought we'd like to add more filters in flow speec V2 uh because there's a lot of really uh new work for IP uh filters in the payloads filters with the related to the srv6 in the uh header so we'd like to focus on adding that as the first addition to the basic IP then we'll tackle doing actions defining act more actions and action sequences the action sequences require us to go to something Beyond extended Community uh the current actions have extended Community which have interactions and then we'll pick up uh a lot of fine work that we had on non-ip filters the reason is there seems to be some uh strong urgency in getting the IP filters worked through so what do why are we taking the four parallel open design teams uh what does it mean a design team I'd really like people to read the flow speec work uh uh be ready to discuss it and complete action items the idea is we'd like to make sure we have something that people can Implement in the basic IP and then add to why is it open because we're looking for a lot of feedback from implementers from people deploying it and so anyone can join the team so the form is scheduled uh the design team is scheduled as an interim why are we working on for parallel teams"
  },
  {
    "startTime": "00:14:00",
    "text": "because people are really focused usually on one addition or maybe two or additions that way the four teams can operate at the same time and our focus is to get the chunks ready and we hope we'll have a block of time at 120 to present uh the chunks and the pros and cons so I hope uh all of you are interested in reviewing and talking about dra s so why did we take that approach as I mentioned people have been waiting for flow speec V2 drafts to be standardized and we're trying to catch up why the car c uh the intent-based routing so the chairs are trying to catch up so these are the design team meetings you'll notice that design team one for the basic spec has more more meetings than others because we're trying to get this very basic initial spec done but we need to get some uh work done on the others to make sure the original spec is intact so today is the first design team meeting which I hope will introduce you to the work and next week we'll meet again with design team one which is this basic IP and design team two which is the filter on the 10th we'll meet uh with design teams three and four so we'll repeat this about a month later uh and see if we can sort of uh talk about our progress uh both with the basic spec and the then again on the 10th with the review of where we are with more IP filters and continue our discussion for the actions and the"
  },
  {
    "startTime": "00:16:05",
    "text": "non and um we're going to go ahead and probably meet with three and four after uh the initial design team ah did you have something uh yeah so sue your microphone seems to have lost your headset okay wonderful thank you just a minute let me close it how is it now can you hear me you're you are still on Open Mic I'm still on Open Mic okay Jeff hold on to this I'll see if I can disconnect it and bring it back for for"
  },
  {
    "startTime": "00:18:15",
    "text": "okay Sue we can see you again see if he can hear you how is my mic now is it better Jeff you're back on your microphone thank you thank you thank you for letting me know okay how far did I not have mic did you have mic do I need to go back Jeff uh you had a speaker the entire time but you did follow open microphone a quick pause if we don't mind I'm being pinged since I let people in ID know that we do have the design team sessions running just to confirm this is an open design team session anybody is permitted to join is that correct that is correct this is an open design team in that case I will Echo that back to idear thank you I will back this up it is open anyone can join the team but we ask be uh by selecting it as an open design team that people read the work ahead of time and be ready this is an exception I'm trying to bring you on speed there are web pages for this that you can get to off the IDR Wiki and just in case you don't know where the IDR"
  },
  {
    "startTime": "00:20:01",
    "text": "Wiki is for our new participants just a minute I will post the IDR wiki page at uh at my first break so you can it's an open meeting anyone to join we want to get feedback from implementers from people who think of they are deploying from people who are brand new because maybe we've Miss something uh Donald and I have looked at this for a long time we're running for parallel open design teams to get lots of feedback at specific information so I hope and why are we taking this approach because uh the intent routing uh for bgp took time and we're trying to catch up so we're trying to take a uh approach of working let's talk about when the design teams meet we're meeting uh a phase one to start our work today's design team one in an introduction next week we'll pick up again with some of the issues and questions I raise on the IDR Wiki you will find that there are uh if you go to the idea wiki page you will find that with a open design team uh background and questions and documents on each design team the ID Wiki is at uh excuse me wrong place I'm going to PO post it in the chat if you don't know where the IDR Wiki is that's uh go ahead and take a look and click there we're going to start our work next week we're going to"
  },
  {
    "startTime": "00:22:00",
    "text": "dig right into design team 1's uh IP basic and look at filters that would be added afterward and on May 10th we will look at uh action design there's quite a lot of discussion that needs to be talked about on how to ordering and d and I work through a lot of issues but we'd really like to walk through our design and how that impacted some of Donald's work with non-ip filters and actions month later we'll pick up the same thing and review things uh for the IP basic and we'll try to make sure that the IP filters that are hot are ready to go for ITF 1220 and then we'll keep working on the IP actions we think it will take a little bit of time in discussions I'm tending to put most of this as open on the IDR mail list if it becomes too much we'll find some other way to handle it um so what's the preliminary draft and Jeff am I still on my mic loud and clear so good so the initial draft we had was uh that Donald and I uh and two other co co-authors uh are on is the draft flow speec uh v204 it has a repository of all our information and as we make changes we will keep up the repository but our goal is to have this stay as a working group document where we stare save agreed upon changes the initial draft uh I released uh an early one last week and another revision last night uh um you will find"
  },
  {
    "startTime": "00:24:00",
    "text": "it has uh the what I hope is the beginnings of a basic uh function that we can deploy we've talked about this with some implementers but um Gerard and wo and natth and ran and Shing we just need to see if this is close I'd love to have any additional drafts on use cases I mentioned shei pings uh use of uh flowspec with the APN there's especially SRV sick works that has already been accepted in IDR for flpc we really need to know prosen cons of ordering and pros and cons of using both extended communities and user act ordered actions or there is an interaction and I uh put in there some of the thoughts that we had on ordering and then concepts of group IDs I see in CS and APN and in our original internet set draft from IDR a concept of grouping uh either a set of prefixes uh filters or a set of interfaces along with prefixes and filters to have a group and that concept seems to be powerful but there seems to be a little bit different uh angle on it in APN cats uh our original interface draft we don't know if there are unique functions or if there's one thing that we might Implement that would be able to work on it so what uh the purpose of this original Ip basic draft is that it would be required for every flowspec V2 implementation the key addition in this chunk of VX flowspec V2"
  },
  {
    "startTime": "00:26:03",
    "text": "is the user ordering of filters defined by flowspec uh V2 and by the way folks if you have questions this is an open discussion as we get farther in uh because we would like feedback I anticipate for the first few minutes that uh we won't do that and Jeffrey let me know if I miss any something in the chat the initial filters are defined in flowspec V1 and we're going to stay with those filters to make sure we get the user ordering the initial actions will be flowspec V2 actions plus perhaps one action ordering extension and that's to deal with one of the things in Donalds and my discussion is what happens when an action fails what happens when you have interactions right now individual implementations actually try to deal with interactions one example of interactions is what happens if you have a a uh action that uh uh rate limits by bytes and another that rate limits by packets that might be what you wanted that might be totally uh wrong for your implementation uh so what how do we do that do we have a a default ordering for uh extended community actions plus an way to accept it that's one way to have the actions the same true is failure if you fail to if you have those two filters again what happens if one fails so there are seven questions I've listed on the IDR web page uh that I'd like us"
  },
  {
    "startTime": "00:28:03",
    "text": "to try to answer to see if we've got a good basis does the user ordering and encoding encoding support current and emerging use cases what happens if multiple uh flow specs uh are received filters are received with the same user order value uh do you then then order it by comp uh by components which is what flowspec V1 does how should flow speec and flow speec V2 be merged they're both in anal rise uh the current uh flow spec uh draft that's the working group draft says put flow speec V2 first and then afterwards do flow speec V1 um the idea is that flowspec V2 would be user ordered and flow speec V1 could be added on top what happens if uh is there an exception case for that is that going to help our our deployment does the NRI format allow for new filters new IP filters dep dependency between filters and this new wonderful concept of groups and maybe even subgroups um that is why we're doing for uh initial groups I'm hoping we get enough filters to to start implementers with a good basic and uh the last questions deal with airing what happens if there's an error in the parsing of the L tlv what sort of error do we take do we simply say uh toss all of the uh TVs uh uh skip this one what happens if"
  },
  {
    "startTime": "00:30:01",
    "text": "the erors are detected when the machine tries to put the filter in and the action what happens if you think you're filtering by bytes but uh excuse me if you're doing a uh mirror after uh or a copy and you can't do it uh that might make a difference if you're going to do a copy and drop with a dust are the validity check sufficient in the current one flpc V1 um in the v one for ipv4 and the V1 for IPv6 and the inter as editions did a lot of checks to make sure validity was correct so those are questions I'd like to try to pick up uh in next week to see if we can even get some initial feedback on that just in case you're new to it and I'm glad to have new people this is a picture of the flowc rules the rules really are grouped by flowspec type and the type first type we're looking at is the IP types and under that you might have a whole bunch of rules now they can uh that's how the flow specs are grouped in the NRI in the actual implement ation it could be that they're grouped by order but what they're grouped in the L is they're Group by type and then the rules each have an order number so this is the to this is the database that's being passed by the NRI as a database for order your order would come at the top so please let me this this description here is trying to help you understand the lri there's an order and"
  },
  {
    "startTime": "00:32:01",
    "text": "there's identifier which for right now is logging because you might have many rules and say this is for uh this customer or this is this type of rule the identifier is there because I imagine we may need to have some sort of uh non-order number that identifies a specific rule then you have an a rule match condition with a type and the type is really your component a match operator match value uh variable and a match value the actions have an order as well once we get beyond the basic and there is an operator of variable and action and some people suggested an action name but that isn't in the situation so this was our original uh design of the NRI let's see what it looks like in bytes that may be easier you have an NRI length with a whole bunch of tlvs and the way we decided to group things was to group it by basic types we would say here's a set of types for filter rules here's perhaps if you wanted to only have a basic set of filter rules and then have an extended set that you agree to implement we might break it there everything Beyond number one uh we've got designs for but we're open to talk about there's an L2 traffic rules which you'll see in the l2vpn the sfc traffic rules which um right now the traffic rules for sfc are only uh in the IP filters there are only SF see traffic rules with actions the"
  },
  {
    "startTime": "00:34:00",
    "text": "VPN traffic rules for sfc so these uh types are what Donald I thought might be uh good and we can talk about them and that's why we need uh feedback the identifier is again a uh logging ID that or an ID that might track to some sort of logging we have the filter type Tye IP basic the length of tlvs and the values so the value is really a set of components the value if you notice here is just a set of component tlvs which you had in go ahead Jeff did I drop off my mic again y you're still good finish up and I have comment on the slide after that okay the components are are right now flow speec V1 plus TTL that seemed to be a basic need that people had go ahead Jeffrey I'm uh so one of the things I went to raise as a point of visibility for the participants here so we're discussing the nlri the identifier in here I think you've given know good example of what you're hoping to use this for the challenge that we have for this and I'm going to give the example of interface set that we'll talk about I'm sure a little bit later uh when we did the work for interface set we intentionally put it into the path attributes because it needed a flavor of mutability um the second motivation for it is that is it really relevant to the know key information that's being passed around the L for flowspec the way we're currently largely operating is that uh the stuff that's inside of the nlri is mostly m criteria so when we look at the stuff"
  },
  {
    "startTime": "00:36:01",
    "text": "here uh identifier is a little bit on the strange side of things because well it's still useful to have a strong pairing of it for the operations purposes what you end up having the question of is is this uh identifier intended to count as against the NL key and we do actually have examples out of like evpn mvpn Etc or even the car these days where not everything inside of n must be part of the key so the point I think we'll deserve discussion over the longer term is do we want this identifier in the key do we want the keys you know stuff in the N always be part of the key whereas this something that even though it has good use maybe belongs pulled out into some path attributes and therein lies it the order we said in our uh flowspec V1 discussion is absolute key because we want to have all the order filters whether it's IP filters or l2vpn filters or Ms filters the order of those filters need uh that's set by the user is the top key we want that to be that way you can efficiently sent groups of filters uh based on the order then you can send a type for uh flow speec uh V2 uh IP uh followed by uh another one with l2vpn and still keep the ordering complete you don't have to uh so the order becomes a key and then the type becomes a key after that the co components become the key the reason I"
  },
  {
    "startTime": "00:38:01",
    "text": "put in identifier there is that sometimes the reports that I've read on flowspec uh deployments is making sure out of 10,000 filters or 5,000 filters that you have a common set of filters across orders may be necessary so it's it's one of the questions we have it's one that the initial discussions seem to say okay so I hope there will be questions about this from implementers we've tried to ask this question quite a lot because we're interested in getting the base so what does the component number look like well this is flow spec V1 where you went from IP destination to IP source to IP V4 protocol or IP upper protocol Port destination Source uh TCP flags flag link DSC fragment flow TTL those are the ones that TL is the only one added from the flowspec V1 uh because it seemed to be something basic across the non uh IP uh components and we we park the parts of the Sid with the non-ip I'm not sure that's where it really should have been maybe that should be in the extended IP filters um any thoughts on that would be helpful um so one of the things that's worth mentioning here uh the component numbers in the current flow speec rules for how"
  },
  {
    "startTime": "00:40:01",
    "text": "the rules are sorted into the firewall because firewalls are ordered partially is based off of you know the component IDs so the fact that uh the stuff that's up here 1 through 13 for IP component numbers is what we currently have in flow spec V1 that set of rule ordering was appropriate for do DOS use cases know this an example destination address says a match is the highest you know precedence sources next Etc and for dos that's been a very natural set of fits uh let's use TTL which is listed here as 14 as a proposal as a thing to illustrate where some of this could be a headache if you're looking at where this probably should sort in terms of Precedence and importance in the firewall TTL probably belongs somewhere very close up front know your components no one two and three so the question is where do you put it arguably you could probably put it uh somewhere before one uh some people might argue it's supposed to be after two I think there'll be some good discussion around where such things go because part of what we'll have to do is come up with what the natural sword order is but what this also shows is that if you only have one bite and fos speec V1 for doing these components the ordering becomes sort of problematic because it's some Point you'll decide you have something that is important enough that you may want to sort it ahead of some things and if you already have things laid out as we have for you know one through four 13 here uh and know 0 and 255 are reserved well then it's somewhat problematic of where does this go so a discussion point for flow speec V2 is not only what should the component numbers be by the function that we're trying to accomplish here but also how do we want to also maybe change the"
  },
  {
    "startTime": "00:42:01",
    "text": "component numbers themselves so we get to that in upcoming slides about uh you know component withd and also explicit ordering so one way of since Jeff's mentioned this one of the things that the implementor said is I want you to say with the IP basic rules so I can deploy my current exist ing filters uh with user ordering okay let's say we do that and we keep upward Capa capability but we really decide that these filter rules aren't what we wanted so maybe we go with a new set of component orders uh there is a lot of room in the filter type so we really um need know do we give we got a real strong I want something simple that I can just add to flow spec V1 and have user ordering give me that so that I know I have a basic functionality and then we thought well maybe you need to have an a new type of filter ordering okay that that that doesn't now why are we focused on the components for people who are new the component numbers uh have been in flowspec V1 the ordering if you have a single default and flowspec V1 has no user ordering so all the components uh the component orders provided a way to order the filters so you're destination prefix filters or followed"
  },
  {
    "startTime": "00:44:00",
    "text": "by IP Source filters if you skipped one that's okay you would go from IP destination to port to destination Port but we may want to have another set of component numbers we may want to blend uh SIDS uh at it so we need some strong feedback uh Donald and I tried to get a lot of feedback but sometimes um the new applications we see now are bringing uh with uh Savvy and cats and APN and the l2v uh debt Network that has timing plus L2 it seems like a place where people are looking for things um and the srv6 uh header uh is really important so uh think about all of that I'd like you to review it and we really need to discuss if we have the basics and we can go to the basics and have a new type saying uh this is the V types and The Ordering of the types is still of for the numbering on those types is still fluid other than the number one is is the IP basic okay now any questions on the filtering or user order okay let me go on to our next headache which is the extended communities the extended communities um right now have been very active in getting flowspec V2 actions we've had a lot of requests for new actions the extended communities have put it in to three various types one is the generic transitive extended"
  },
  {
    "startTime": "00:46:02",
    "text": "Community one's the ipv4 transitive extended community and there's the transitive IPv6 and I'll give you the list of those shortly the other idea is that there's a community path attribute that we can take a new type and make it simply uh a flowspec V2 type and make that user ordering with the same sort of tlvs for the actions so I'm going to drop into that um just to make sure I've mentioned that one more time that flowspec V1 filters and flowspec uh V2 filters are ships in the night and there is an inherent proposed ordering which is rules uh that's probably best expressed in a set of rules rule zero um which is the uh base condition is that you permit traffic going through a router's firewall that's the Baseline and then these rules in flow speec V1 were added to restrict traffic that's uh comes from the background of the Dos Rule n to the end uh so we we thought the best way to do it is to break this with um with the with the rule for the flow speec V2 at the beginning since clearly if the user had an order we would think he probably wants that first because he's done that and that the flow speec vew on rules would start at such number and then uh be at a single user order since that's the definition of flowspec V1 and if it"
  },
  {
    "startTime": "00:48:01",
    "text": "has the same user order then the component number follows and if it has according to flowspec V1 the same user order and component then a multiple of components uh provide the ordering within a component the ordering may be interesting if you're not deep into flowspec V1 order which says order first by component and then order within a component based on the definition uh given by the component this all goes back to that original package so how does this why are we so focused on chaining uh and uh the problems as you see we don't have that many actions uh that are listed by aana a lot more proposed but these actions can interact for example the traffic rate uh by bite versus the traffic rate by packet the uh redirects we have four or five different types of redirects and uh we have a flow sput classifier uh those are all in extended Community we also have a dscp marking and then we have P traffic actions which uh can give various uh terminal TRS uh say this is the last of the flowspec actions and if any more come ignore it or copy uh the packet so these generic uh transitive communities were really uh sort of created to handle multiple formats of the flow spec extended Community but also perhaps some uh loose"
  },
  {
    "startTime": "00:50:01",
    "text": "specs initially the transitive for the V6 is much uh the transitive extended communities for the V4 show our newer types with an interface Set uh the redirect mirror and redirect to a generic indirection ID which might be to MLS or srv6 or something else so we need to in the Action Group sort of sort through these actions in extended Community talk about what happens if and how they interact and then talk about what's the way to make sure they're sanely ordered now the V6 um comes to just a redirect flag and has again two redirect so we've got to really dig into to the redirects because we've got lots of different specs and they're not always uh independent and this is the V6 spec any questions from new people on this how am I doing uh Gerard or those uh other people who've deployed it Nat am I giving you the background on this you need yes it's very clear thank you oh good uh Gerard been at this uh Jared's been at this uh for a long time okay why was I suggesting for actions we might want to look at dependency well you know if we one of the complaints about V1 is the filters uh we couldn't put user ordering on and there were two Pro three problems with the actions you couldn't do user"
  },
  {
    "startTime": "00:52:00",
    "text": "order you couldn't really uh tell how the interactions were going and you couldn't tell what happens with the failure so we needed user ordering um uh interactions failure and dependency so like when you have four things that need to it Jeff I think I just dropped off the uh you lost your uh headset again okay I'm gonna back out feel free to comment on this actions while I make it uh pick up again thank you back okay sure uh so uh personally covering the prior slide but leading into the motivations for this slide uh so using interface set as a example uh when the group that was working on the interface set feature uh who also had done some of the work on redirect IP was discussing how how do these things all interact with each other and interface set is a little bit more of a from action rather than a targeting action uh it's becomes a from activity rather than you know a two uh so not quite comparable for the two ones though we look at the redirects we have you know redirect IP as an example and redirect ver well what happens when you actually have you know both of these present at the same time you know is is that an intention of what you're really trying to do and we spent a little bit time debating this amongst ourselves when we did the original specification uh the text that we eventually settled on was that if redirect D ver and redirector IP were both present we wanted uh the activity to be perceived as you know the redirection is done as the IP lookup in the context of the targeted"
  },
  {
    "startTime": "00:54:01",
    "text": "verf the headache that you have is that with these things being sent in using separate extended communities among other things what happens if you hit an implantation that can't do that and sort of INF fairness to where we're at in terms of the process um for redirect IP we had actually looked at removing that combination action because out of the three vendors that had been participating the original work nobody ended up implementing the know the combo Behavior although we had a request from a specific operator that they actually are interested in that but it gives an easy example that even though we have combo actions if they're specified in separable elements well what do you actually mean in that case you know if it has to be interpreted in terms of the combo of do the IP look up in the ver split communities now uh where one had prior meaning isn't probably the right way to go a new community set that can say that these things belong together which is where Sue is sort of heading inside of her redirect components a little bit later in uh to be able to tie the things together well that's perhaps another option but fundamentally what we're looking at is when you have things that do chain together for some strange reason how do they get represented in the protocol as an action and what happens if you either can can't carry out the entirety of the action I gave the example of redirect IP in a ver um that's one that you probably don't want to take action and therefore the rule might actually be skipped alternatively you know maybe some devices will implement it one way and some devices could Implement another so this means that actions might need to have the ability to selectively run depending on their deployment and certainly that adds complexity especially since original flow spec is supposed to be very simple supposed to be to be distributed through the domain through route reflector as one of the possible deployment models so"
  },
  {
    "startTime": "00:56:02",
    "text": "you end up with headaches about how these things could go uh so the action bundling and potentially doing them in a conditional fashion is part of where Su slides are taking us as a discussion point so you're back so so if you can hear me why do I go ahead and actually do the slide sharing can you hear me at this point I can hear you why don't I go ahead and actually do the slide sharing just to simplify the uh that piece of the problem and happy uh um problem new one for me okay I'm almost on the right slide uh slide 20 I believe yeah slide 20 so one problem we had with the failure modes see if I can okay is what happens we we had problems again with the order dependency within a chain there are in V1 there was no default order and there was no default interactions in each implementation tried to uh deal with that the implementation specific ordering is what we have today"
  },
  {
    "startTime": "00:58:00",
    "text": "implementations in a particular Network seem to work but different there is no really uh specified uh action inter interaction it was sort of like these are the global actions so you have problems when you have dependencies or you need specific interactions and you go from different carriers now the original group of implementations for flowspec V1 did a lot of testing however as we move to V2 we really want to have order dependency based on a user order um default ordering if you're using extended communities and failure handling what happens when an individual action fails if you have copy and uh then drop uh so that you can capture a filter what happens if the copy fails or if you have a rate limit before you forward what happens if the rate limiting fails do you simply stop on failure do you continue do you continue if it's conditional or like in the configuration do you do it all or nothing we have had some interesting discussions on this but we really uh didn't get to it because most people said okay I just want the user ordering for the filters because I'm still doing implementation specific ordering but I'm running into problem because I can't order my filters so for the initial IP um filtering uh this dependency might say yep keep on"
  },
  {
    "startTime": "01:00:00",
    "text": "with the implementation but as they roll forward perhaps they want to handle uh ordering uh based on a default that we have in the draft based on defaulted interactions uh again the default the easiest way is to number it and say uh number the extended community actions and have you go by number but that's a real discussion and these sort of problems are why I think we're going to be talking a great deal about uh the actions in flowspec V2 Jeff did you have another comment or am I off mic again nope you're good uh so one comment before we roll forward next slide or you know open other questions an example of when stop makes and maybe does not make sense so my employer's implementation for flow speec we have some platforms that don't support ability to set dscp so the question becomes you know what do you do in circumstances where you receive a rule you know that contains an action that you you cannot Implement do you propagate the rule and the hope that somebody else further in the network can do so uh do you locally ignore the action you know uh especially if you have more than one action if you can't accomplish some of them know as an example maybe you want to do uh rate limit and also set DSP well perhaps if DSP can't be supported doing the rate limit itself is okay so that's an example of separable R sets uh that uh have to decide how we want to signal that thanks you thanks uh any questions this may be drinking from a large uh uh review because we've been working a while on flpc V2 Donald and some of the input we had from our co-authors who"
  },
  {
    "startTime": "01:02:01",
    "text": "are uh working in uh networks hopefully got us to a certain place Jeff is but there's a lot of new applications you all are working on and it's exciting for us to get new feedback okay what are our scalability in inter and aspirations first of all there are three or four protocols that could put filters out there's bgp there's net comp there's R comp there's pce and there are other ones that I probably don't know I see that um some of the new uh work for uh Savvy or uh uh cats or for APM may be looking at other ways well what we one of the early foundational discussions we had is to realize what bgp is and what bgp isn't um especially when you look at filters bgp is a multicast distribution you you have a a forwarding distribution through peers which send the flows so you might think of that if you have uh Deno service attacks like little bugs going through your Network the bgp is a spray repellent you know you spray it everywhere and uh it covers things and you just spray and hope it kills off all the the bugs and and because it most because it goes out there and gets installed quickly that the repellent really kills off the denial of service attacks it is not a SWAT like you swat a fly or a insect with a with a with a piece of paper or something it's it's"
  },
  {
    "startTime": "01:04:02",
    "text": "not action reply you don't SWAT and get a uh and lift up your fly swatter and find that the AO service is dead um pce does a nice reply response SWAT and that's okay and net comp can do a a reply response or reply in publication uh those are all good tools but turning bgp into something that's different than a multicast distribution is probably not going to be real SE uh sensible and bgp flow spec V2 as a multi uh cast distribution is extremely powerful uh adding to net comp or pce or some other protocol with specific uh reply responses better than trying to turn bgp into one of those and that's been our uh chair and author uh basic aspirations um some of the drafts I see go to that and I want to hear more about from the authors why you go to that because we found that's not necessarily successful in the past go ahead Jeff yeah just before we advance one of the things I do want to mention here is that uh well deploying flow spec largely throughout reflector is one of the common deployment mechanisms targeted bgp sessions to individual devices and setting uh the no advertise Community is also another common deployment mechanism for sub deployments yes and that is a targeted multicast uh versus a sort of wide uh dispersal so that would be your uh bug spray uh pointed at a particular"
  },
  {
    "startTime": "01:06:00",
    "text": "place um bgp sex lri could be passed in bgp SEC but what I've learned about bgp SEC is don't assume we could go there quickly uh but it is po it's possible to send this anine in bgp SEC but um r might be a much quicker way to help the filters but again in in bgp secro tradeoffs you have to um make your choices and work and decide that it's worth the effort next one a quick interjection here so BB SEC is intentionally not specified for anything besides ipv4 rv6 unicast I know we sort of uh scraped the point that BB SE might need to be improved to handle other address families as part of doing the CT car work uh so that's one aspect here second aspect is that uh currently those mechanisms for PP SEC are only covering uh destinations themselves so that is correct yeah so as an example um applying uh the lookups you know for validations part of the core know flow speec uh procedures a lot of people have to shut that off for various reasons being able to apply Ras to it is no s something something we'd probably be recommending these days and wouldn't be surprised if we see some request for features for that as part of the flow speec V2 work as you have here um but I I think BB SE is going to be a very challenging discussion for this yes and we found that when I did the Deep dive for car and CT so what do I need some really help for uh and we may um one of the"
  },
  {
    "startTime": "01:08:00",
    "text": "impressive uh presentations I was reading through all the presentations for ITF and reading through drafts on APN and Cat and seet and L2 and Jeff and I had discussions with with many of these people at ITF 119 is we really need to hear from these new use cases you know uh it would be good if you had one of these use cases and I will be reaching out to folks who um have joined today to ask about summaries from ATN from cat from savnet and if you're an operator and you're working with uh denial of service and we've missed something there uh I'm going to ask what needs to be in a filter rule you know uh what in these new use cases needs to be a filter rule uh what are we missing are we looking for something for srv6 are we looking for this what actions need to be happening and one of the Curiosities I have is there a grouping function if there is does flow speec V2 need to write a group ID and if you write a group of ID does a later filter need to take an action on it that's that's an interesting set and um maybe there's a the really neat thing from shing's uh APN presentation at ITF which I've I've put in this list uh in the um presentations for this is is the maybe a a second group and does the user ordering design work for this filter and that's the first thing have we got the user ordering because with the user"
  },
  {
    "startTime": "01:10:00",
    "text": "ordering at the top of the key we've got to say that we think we've got it right and how can you do that if you've got that and I'll be tagging many of you with email uh today and to tomorrow and say you know would you be willing to answer these four questions and bring them along uh and speak about them uh next week because we need to find out if the orderings working we can start the bgp uh IP basic filters and we'd like to think we have something fairly solid uh but we could create additional filters it's the ordering that we're trying to get to Jeff did you have any comments on this anyone I've forgotten I I I think this is the core of the things and you know some of this is uh I got to pick on uh safet a little bit more directly than you know probably deserves uh there have been other proposals where this overlaps there's been situations where uh flowspec has been used as a way to represent the encoding for things about matching traffic uh that is not specifically intended to be firewall like Behavior so an example for savet is that you could sort of treat Source address validation as a firewell type activity but doesn't necessarily have to be encoded that fashion uh we have a proposal know that went it way through pup where they borrowed our en codings and they use that for their own traffic filters so they're they're taking advantage of it for you know matching criteria and even in just sort of boring flow spec we had a prior proposal at one point where the foring mechanism was not actually via the firewall but it was using flowspec to actually match things and do destination based foring so it was basically influencing the rib so I I think that uh we have a lot of use cases"
  },
  {
    "startTime": "01:12:02",
    "text": "where we have sort of a uh tension between some of the uh behaviors we're looking for you one example being very much firewall like behaviors some of them being uh uh packet classification behaviors that use firewall type formats and you know some of the hybrids in between any so I'm going to I I'm going to ask many of you to come and share this next week because we are stuck if I if I get through the rest of the slides I think due to my headset we may be uh not enough time to see some of the interesting presentations we had at ITF uh please take a look at some of them and we start with with a uh Matrix of these new applications the new filters and some of them are new filters which are Beyond in the payload that's critical to know that we're also looking there Jeff why don't you go ahead uh and these are the design team questions um these are more with the seven questions I I had given you earlier there are things I'd like to ask you to uh find out um you know we need to as design team one setting this very basic seek out the use cases described by other design teams so they'll be online uh I uh people have looked to say I want to work on the basic I want to work on the filters and maybe nothing else or I want to work on the basic"
  },
  {
    "startTime": "01:14:02",
    "text": "and actions so you'll see people joining very it might be good even to read the presentations even if you're not active uh and so that's why I showed you the places I need uh new feedback um and the group and links to interfaces as sfet had is critical go ahead um these are questions I'd like you to read and decide can you help or if nothing else listen and help us think together what happens if multiple flow speec Le filters are used with the same user order should we use component types uh and it is common uh what happens uh should the component types be common what I've got in V flow speec V2 is they're common uh types between V4 and V6 and sort of a translation uh if you see the component here it works like this for V4 it works like this for V6 should we order component types for other layers how does this component default ordering within the same order breakdown we're in flowspec uh basic filters we may uh based on the request we had from implementers stay with the flowspec V1 component ordering but maybe in extended filters we want to take another uh ordering within the filters and Jeff and I have use cases so I will be sending out uh posting to the wiki and other things use cases for each of these questions so you'll see both a link on the uh Wiki and email traffic on"
  },
  {
    "startTime": "01:16:02",
    "text": "some of these questions go ahead so how does the lri format for user ordering allow for additions can we add the payload I had a very interesting denial of service uh discussion with a new participant and uh uh that talked about needing payloads and gave a really good use case there's a detet draft for flowspec that says I want to have an L2 header and time will we be looking at time for L3 headers how much dependency can be expressed for example in some of the fir walls you have uh if filter one matches skip to Filter 2 why do they have that uh because it's effective if I match on this Source address then I can look to see if that Source address comes from uh interface one uh I then don't want to do something so there's dependencies between filters and actions can we handle creating group tags and testing ahead um excuse me uh can we handle groups and interfaces Jeff am I still on my same main sound yep you're still good good Uh something's odd with the uh uh browser today uh can we handle quick addition of new filters if we have a denial of service box that goes ahead and generates filters can we go and it it's it's taking in mirroring and it's uh scraping through things and looking and things and it decides it wants a new filter can we install a new filter how and where can we install if"
  },
  {
    "startTime": "01:18:03",
    "text": "we have user ordering um how do we let someone quickly insert a a new filter up at the front do they have to reorder how do we leave can we leave gaps can we put something like there notice there's a lot of order space do we suggest to people common practices your user order should should uh basic order should be done in tens or 20s so you have a a case to do that some of that uh best practices might help as well uh again lots of input if you're on a on a operational if you're designing go ahead and what happens if errors are detected now this is switches from functionality to what happens if something breaks because one of the problems they had was filters uh didn't work and first we fixed uh bgp uh handling uh in the RFC 7606 and concept is treat of withdrawal or some of things how should we deal with a filter format should we say uh this this filter is broken but we're going to accept uh the right uh another uh the filter in the in in the Stream if we have another lri and what sort of errors are possible what happens if you have an error with one filter and it has a dependency on the other um that's just some of the things Donald and I have talked about Donald um did I miss anything on here on Aon filterings or maybe when I get through a"
  },
  {
    "startTime": "01:20:01",
    "text": "couple more you can tell me if I miss something yeah I don't think so okay uh so go ahead to the next what happens if errors are detected when users are filled again Jeff and I have given you the case where what happens if you can't put a filter in you can't scan for srv6 but you've asked for that to be in uh the first the highest user priority um it's because this machine doesn't do srv6 or Sr headers or um what do we do then uh bgp this is the case where bgp is a uh spray to either the whole network or spray to a set of things you're not going to get a reply back um how do we log do we log it and and encourage people to have a uh uh a a logging error come back through the NETCOM uh Pub sub that might be a very effective because a pub sub up that's a publication uh subscription uh model might be really quick to get it back to a centralized Deni of service um what about the interaction should bgp flag this problem should we make sure to get a Yang model quickly along with this this is all part of the whole solution rather than just the NIS in the Box okay next one Jeff our validity checks for flow speec V1 sufficient and I I I spent a lot of time as an author reviewing uh and uh as"
  },
  {
    "startTime": "01:22:03",
    "text": "an editor on uh as a shepherd on RFC 9117 checking the validations for the flpc V1 and and making sure that you could check the validations the first two have strong validations and the 11 19 provides some looseness inside of a single uh administrative domain for flow spec but if any of you has any indications that these flow specs uh validity checks now the validity text is difficult to read because it's very specific but if you if you have some like job or or that oh great yep it's happened again okay I'm wonder if I'm wondering if you're having some weak batteries yeah I'm wondering if my batteries in my headset need to be replaced okay drafts to read for next time um if I'm even uh light uh I think we're just going to try to not go in and out if you're in this list and you don't want to be a contacted let me know because I'm going to send notes out and I think with that Jeff we're just I'm just going to say folks I'm going to send email to all participants please read the questions please look at these drafts and I'll send more details out I think that's the end of the slides Jeff go ahead yep and sort of add into here the motivation for listing the cluster of"
  },
  {
    "startTime": "01:24:02",
    "text": "drafts is that you know the base flowspec protocol work has to serve as you know a framework and a skeleton that we can hang all these additional features on top of in an extensible fashion clearly not every single device is going to implement everything we just need to make sure that the protocol is capable accommodating things in a clear fashion uh the critical things to my mind at least as they start at Sue Has touched on is ordering especially implicit rule orders uh become challenging if there's no holes to insert do things into we have the TTL example we gave for you know basic IP as one place of that uh Sue is listed a large number of drafts here that have different applications that want to use flpc either for explicit traffic filtering or pattern matching so we're looking to have everybody uh that's looking to add a feature into flpc you know for her design team one uh to make sure to review the you know the core protocol uh discussions that we're having in terms of how would your component fit into these things and how it would interrelate with other pieces and as we get into actions as well you know the the sort of two things we're looking for again to my mind is here are the things that we're looking to take as actions are these things severable or not you know can they be done you know part or must they be done as a whole uh and in circumstances where more than one action is severable what should the behaviors be done if they one action can be done and another one cannot I catch everything Sue yes you did and again I apologize for the mic at this point um please thanks for all your work I'll be talk I'll be sending messages to"
  },
  {
    "startTime": "01:26:00",
    "text": "everyone who attended if you if it was just interested and you don't want to just let me know you're uh not interested and I'll go on please join any time take care thank you thank you thank you D thank you bye thank you Shing bye Jeffrey byebye bye"
  }
]
