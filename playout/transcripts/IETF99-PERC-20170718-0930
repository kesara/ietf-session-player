[
  {
    "startTime": "00:00:36",
    "text": "[Music] good morning welcome to reading the 90 of 99 at Prague so sprogis it\u0027s the church for part because this is where work started in 1993 so we\u0027re back here again it\u0027s let\u0027s see what we can do today next slide so not well there\u0027s some changes in the note well not not a lot but some things that you highlighted there basically says that if you are in a box session and say something then that belongs to ATF as well so please remember that and what more changes on the rst there are two RS is that spoke about IPR there\u0027s one on both have been replaced by one RFC so if you are if you have any questions on how the IPR applies to your park please have a look at that obviously so what happens inside EF 98 richard bounce decided to step down as the chair of the working group so he\u0027ll be an individual contributor to the working group and we want to thank Richard bounced as personally I would want to thank Richard phones thank you then welcome news Nils is from Mozilla he\u0027s been in the real-time development world for more than 10 years now and he\u0027s been one of the core developers on the web party phished acting Firefox and also he has been active reviewer of most of the documents so he is involved in the design of it so he also knows a lot of our work so welcome nails and we had in virtual interim between ITF 98 and 99 the idea was to kind of close open issues with work right now which corresponds to the repair packets one thing that came out of the virtual interim is that we all agreed that r-tx could not be done the way it\u0027s done today you have encrypted packet in Perkins we need to work to RTX on that so if not a big progress in the virtual interim but but at least we all came to the same conclusion so today\u0027s giving r-tx another retry and see if you can close some of those niches to park milestones this is for the working group and our ad our milestones expired and we just slipped my mind so sorry for that so next slide so this is a new proposal if the working group thinks this looks good we can work with ADA to get those things added so what we are trying to say here is that by December 2017 we will try to get the SRTP specifications and key management actually submitted as a working group last call all right if last call and then by March 2018 we\u0027ll have the other document selected so if everyone thinks this looks doable let\u0027s "
  },
  {
    "startTime": "00:03:38",
    "text": "get it in any objections okay I\u0027ll take that as saying acceptance excited okay now recap of milestones on documents those things that are bolded for the ones that\u0027s been in the working group for a while and called quite a bit of review but also having accepted as the working group documents and also been reviewed by some security area folks as well and we as a typical IETF process we would want to kind of close any open issues with those documents so that we can make progress in the working group and there are some other documents which are individual documents once we close the open issues we would want to handle those documents as well next slide so agenda for today we have 70 minutes roughly for Colin to talk about the open issues with Park today on the repair packets I think he has a lot of slides paper for that and good amount of time and then we have Paul talking about both tunnel and framework because David is not here so he\u0027ll be talking about tunnel and framework updates that happened and if the time permits to us and we would want to see based on how our discussion goes today how do we want to move forward because the idea is it\u0027s been a you know that we have made a real progress in terms of the document moving forward so we want to kind of see where we are with the open issues and what do we conclude by the end of this meeting and see how the working group has the whole wants to work towards that finish column okay so good morning and I\u0027m very hopeful we\u0027re going to make more progress than we did in the interim we learned a lot of the problems at the interim it straightened out my thinking about how RTX works okay so um well how I\u0027m gonna sort of set things up today is go through you know our big open issue it is this RTX flex effect read how we deal with all of them and i\u0027m going to go through some different design proposals for that as far as to cover the design space a little bit and i want to try and stay you know largely to just exploring the facts of what these design proposals are not really dig into the pros and cons and arguments about what what we should choose have a look at all of them and then after we\u0027ve sort of gone through them and I think they\u0027re all group that we\u0027ve seen this sort of variance all of them then I got a proposal from Sergio and I about what we could live with um that we think would probably be a good path forward so let me start with that so the first thing I want to touch on a little bit is this light draft and just hitting a little bit what light is and I don\u0027t know said Moses to derive this "
  },
  {
    "startTime": "00:06:39",
    "text": "from looking at code talking to other people bringing information together but I think the way to think of it that I didn\u0027t understand was it really is easiest to think of it as a separate SRTP encryption and context that is doing SRTP and the output of that is tunneled inside a separate and different SRTP connection the first one of those two is set up by keying through the JavaScript sort of similar to s des basically the second one the second SRTP is set up through our normal DTLS SRTP handshake like we would do if we weren\u0027t doing anything with perc at all so I just wanted to hit that you know at the top level that\u0027s that\u0027s the basic approach of that design and that\u0027ll help it make more sense as we pull it into the more detailed things okay the first one I want to talk about is flex pack now flex pack nothing to do with perc on this slide here this is just about how flex effects basically works okay it is reasonably clear that it can either do fact on the unencrypted data or the encrypted data one way happens by default and you would need signaling specified the other direction okay but it was designed from the beginning to support both of these these types of modes in general the default mode for all things RTP that are vaguely fetishes to do it before the encryption on the sitting side so excite so on flex back and you\u0027re gonna see the same thing on the other ones here we\u0027re gonna have basically three designs you could do your you could do the repair or whatever you were trying to do after the encryption before the encryption or somewhat in the middle of the encryption which is that the light proposal or the shim proposal from previous ones these are all you know same sort of thing so we pretty much cover the design space here and so let me talk about each one of these in each other so just explain these and so that you understand how I\u0027m drawing these diagrams these are all of what the cinder is doing all about what cendars doing well we probably have room I gotta stay in the pink box that we have inside of the SRTP double box is the you know the end to end and the hop-by-hop crypto happening the output of that is cached used for repair and then packets that are repaired there are repairing things they\u0027re operating on already encrypted data they\u0027d only do when they were encrypted the algorithm would be set that there\u0027s like rtcp and that they\u0027re only done hop-by-hop not indeed okay so that\u0027s the a design "
  },
  {
    "startTime": "00:09:40",
    "text": "the B design largely roughly the same except what we\u0027re repairing is the raw media before it\u0027s encrypted that\u0027s what goes into the cache and then it would be double encrypted now this unfortunately this design B here is the default way that our T\u0027s RTP works if you aren\u0027t doing anything else like that the RTP SEC says you know like in general things are that unless some text somewhere says there otherwise this case we all agree that the media distributor cannot do repair in this case okay like so the the one default case for RTP is the case that definitely won\u0027t work now the last case here light the the the first SRTP end-to-end encryption is that first one though that we were talking about before the first search review session and then there\u0027s the second extra session which is the hop-by-hop ones and what would be cached is the intermediate result of that that\u0027s been indian encrypted but not hot by hop encrypted later when the actual repair packet said it\u0027s up by hop encrypted down here at the bottom now we would all agree that that both of these designs could you know technically work right like though the media distribute will be able to do the type of things that would want to do and they would both you know we provide the protocols to make them work so I\u0027m not going to did delve deep into pros and cons of those right now other than say that we agree they work certainly some people feel that this would be more work to implement in Chrome in particular so it\u0027s a you know implementation how close things are those types of things all come together so okay this steps into it just a little bit more to show the differences of some of the stuff I just saw in the last slide I want to say on this slide whatever it\u0027s just a little bit more of the differences so one of the other things that\u0027s going to happen on this is because this a plan which has occasionally been called triple has ended up the joke about it right I bet so when we get to the get out of a box occasional you\u0027re just gonna have to pick up over me so over here we when the media distributor wants to decrypt this stuff to do flex back in to repair it has to undo this hop-by-hop encryption number two and it also has to undo the hop-by-hop encryption that would have happened in number one right there okay so it\u0027s two of those this solution down here it\u0027s a a there\u0027s only been one hahaha right there\u0027s only Indian so it only has to do one and we\u0027ve we\u0027ve talked about this I don\u0027t think any of us believe that the encryption time is a big difference here "
  },
  {
    "startTime": "00:12:40",
    "text": "that the basic issue is this only happens on a small percentage of your packets which are the repair packets and the crypto we\u0027re using the sha-1 and is on a modern intel processor that happens at the same speed that you can mem copy data so I don\u0027t think that we\u0027ve been arguing that the encryption time was a major difference on these but people have been talking about the the complexity of implementation to clean Chrome sorry supposed to touch the microphone stepping in to RTX it\u0027s a pretty similar story here so keep in mind though this middle way is how RT X says it works and so if we go to either of these a or light solutions we do need to write some extra text that says when you\u0027re using RT X in this type of environment it\u0027s a bit different and here\u0027s what happens and explain whichever it is the air or the light any questions about this okay next slide red so I was trying to find a little overview of how red works for people so typically on what red is typically used for as audio packets that\u0027s not actually defined from video people have used it from video but it really defined there and what they\u0027re doing is they\u0027re sending the high quality audio packet for a given time frame and at the same time they\u0027re sending a much lower bandwidth packet of the audio from the previous frame so that if the previous frame was lost now then in this new packet you can do the the packet repair of the previous frame and and you have the current frame so you know this is basically trying to show you know we\u0027re sending packet one and then yet hot and a high bandwidth way and then later a low bandwidth version of it it\u0027s gets pushed in with two um this protocol seems to be an unedited since it was largely published back when it was first done this slide is courtesy of Colin Perkins from ITF 37 in 96 sort of dates this next so there\u0027s a couple of ways that this might end up being used in a perk contest contact um the first one is pretty simple and is pretty classic right the end point is perhaps doing run redundant encoding with a high band width and a low bandwidth and what I\u0027m trying to represent in that packet coming across from the endpoints of the media to serve you the h1 is like a high band version high bandwidth version of you know packet one in the stream and it also carries in the same packet a low bandwidth version of the audio that was impacted zero and the media distribute can forward those on out to the endpoints the endpoints can do repair and it\u0027s it\u0027s Indian that that works very seamlessly now people have talked "
  },
  {
    "startTime": "00:15:40",
    "text": "about a slightly more complicated use case as well for perk where the endpoint is sending to the there\u0027s a couple variants of this but this pretty much covers all the important ones the endpoint is sending to the media driver not redundant stream is just sending high bandwidth packets h1 h2 there\u0027s no red involved at all the media distributor is perhaps just sending the same thing to the endpoints and it starts noticing on this endpoint here that it\u0027s having some packet loss and decides well let\u0027s start doing redundant redundant audio for that now in in no way is it gonna be able to access the audio data to be able to create a low bandwidth version of it and none of our codecs support some I mean you could design a codec where you could you might be able to make a low bandwidth version on the encrypted data or something but no we don\u0027t have anything like that so they\u0027re going to be sending the same high bandwidth data twice and that you know you\u0027ve got to be careful any time your approach to congestion is to double the bandwidth of something but well I think what people that sounds funny when I say it but in fairness to the people who do this I think what they do is they\u0027ll have like 800 bands you know 800 kilobits total bandwidth maybe a hundred that\u0027s audio I\u0027m just making up the numbers out of the blue here and they suddenly decide they want that the conference is going to crap and they\u0027re going to up the quality of the audio and they\u0027re gonna down the the video so they\u0027ll double the bandwidth of the audio but they\u0027ll substantially reduce the bandwidth of their video at the same time so that they don\u0027t have this sort of congestion control craziest but anyway there\u0027s lots of dragons to be in implementing stuff so make sense because if you double the bandwidth of the other than they don\u0027t want to lose any audio so why do they need to send it twice anymore does the one big congestion problem anymore okay I think the idea is if if the congestion was basically let\u0027s say that the congestion was on a link shared by many people and that what you\u0027re your total impact on the link is actually fairly small and that the links experiencing a 5% packet loss rate if you start doing redundant encoding with a 5% packet loss you\u0027re going to basically have almost no lost packets you\u0027re gonna have a slight increase in latency to your call but you\u0027re really not going to have any blips in your in your audio but to do that and not be utterly insane from a for a bandwidth control point of view you\u0027ve got to remove some bandwidth you\u0027re using for video for that to make sense is that answer question right okay next slide so um redundant encoding is is in all of these plans done by basically you know let me start to the top one we take the "
  },
  {
    "startTime": "00:18:42",
    "text": "RTP packet we encrypt it we cash the the double encrypted version of of the various packets in time t0 t1 etc and in fact we never send the original packet all by itself that\u0027s always going to be packaged in red so it\u0027s sort of like it\u0027s always a repair packet so then we form the red packet which takes these two t0 and t1 packets and gloms them together into one big RTP payload in a way that\u0027s defined by red and then that\u0027s hot by hop encrypted because the date is already done it\u0027s it\u0027s now - system does this really work because what red takes is payload types and payloads according to payload types and your assert if you\u0027re precious you do want the created packets so I was wondering what data you have in the cache so it would be encrypted data but keep in mind when we encrypt let\u0027s say I\u0027ve got a payload type for g.711 and I\u0027m sitting at over SRTP I mean I don\u0027t change the payload type when I encrypt it no but your IV is lost so sir mine your IV the IV for that assertive a packet doesn\u0027t exist because you never get the headers you never get the right so the headers no just been here long yeah with read the the primary the information ah is going to come from the primary you understand the offset of what the sequence number is of the other thing so you can recover oh you can recover the sequence number which effectively allows you to recover all the information you need and the times yeah okay so you\u0027re okay I\u0027ve it\u0027s gonna be drag on stare I think but yeah yeah yeah good point this doesn\u0027t change much from this is I mean you need to write a lot of I think not a lot a lot but you need to write sophistication takes four have you actually recovered okay you need to recover how you recover the packet yeah and the IV etc in this case and how do you strip it and what so you don\u0027t lose too much information you can\u0027t recover because I think you need to go through that I\u0027m upset that\u0027s look on all three of these I think that you need to read that this is a is a sketch of how was we\u0027d need detailed texts that showed how to each one of these worked and I I think this works but I agree it\u0027s not one sentence in the draft that\u0027s for sure right um so again the way that read would normally work is the one way that would not allow the media distributor to do anything and in the red case we could choose to go with that just say like look you can\u0027t do read repair in the media distributor you can only do it sort of end to end that\u0027s you know this is this is not a we can\u0027t choose plant you know red B we could choose red B but with light it has probably nearly the same complexity and writing that up it\u0027s nearly the same "
  },
  {
    "startTime": "00:21:42",
    "text": "text between red a and red B to talk about what changes to red to make it work on the encrypted data it\u0027s not double encrypted but single encrypted and and would work roughly the same okay next slide proposal so what we\u0027ve been talking about here I\u0027ve been talking around various conversations has been suggested on the list at various times in various ways is about taking the information that is in the the ohb today and instead moving that to the payload um so we no longer have to negotiate an idea so first of all let me explain how it works and then talk a little bit about pros and cons so the right now we have an O HB header it has a length based on the length you can tell what fields are in it it can have a couple different fields a couple different combinations of field of the things of what it\u0027s changed and it carries the original sequence number in this case or some other feels put there so we\u0027d replace that the length sort of gets more Lehrer player you know the equivalent of the length is a new bit field and depending you know if bit zero set it means after this you find the PT if one set you find that sequence number so it\u0027s the same thing there\u0027s something that indicates okay so let me just make sure I understand this diagram so in the top thing the firmest big box the larger box is an entire RTP header and the thing that smaller box in the right is the encrypt is the RTP at what is that heat a load yes and in the new diagram the small rocks or the dots in it is the RTP header and the thing on the right is our to be pale good okay fantastic so the length field of Whichard in the new one the length field of what you\u0027re talking about is drawn an RGB payload but you said the length he said they said so which the length field is it it\u0027s not the RTP length no one trusts there\u0027s no length field in the new one yes and down in here there is no length okay there\u0027s just this bit I see so when you say replace you mean don\u0027t use it you don\u0027t mean take that byte offset and stop yes sorry okay yeah yeah okay what I mean is in the spec we throw out the OHP and we invent this new text that carries roughly the same information we used to carry yeah yeah okay so the bit field is always there and then depending on which bits are set in the bit field you will find a variable you know you\u0027ll find either the sequence number or the PT or whatever here and then after that is all the encrypted media just as it was up there we\u0027ve largely taken some of "
  },
  {
    "startTime": "00:24:43",
    "text": "this information and shifted from the header to the payload that\u0027s larger what\u0027s happening here does that make sense of what we\u0027re proposing before we talk about why Ronnie so does it mean that you now define a new RTP payload specification because the moment you voted into the payload that you need an RTP payload format for that because it\u0027s not in the header part because then it was inside it can be different RTP you created definitely a new payload yeah I get you\u0027re saying um that was my first response to I was like hey we can\u0027t do that so it\u0027s different you know it\u0027s no longer an hour to be packing and sérgio um he really cleared up my thinking on this I think he\u0027s got it right which is know these transforms in SRTP substantially changed the payload of the packets they add tags to the end they add you know here we\u0027re just adding some information to the beginning and when you go to decrypt it the same transform that decrypts it knows how to remove all of this information and return it back so don\u0027t think of it as we\u0027re changing the payload just think of it as the encryption process add some metadata to the front of the encrypted data and later removes that metadata and the metadata has to do with what\u0027s allowed to be changed and what\u0027s not drop like that was going to agree this is the part of the crypto transform not part of the not part of the payload and I mean I could bike shut it and say well crypto transforms typically put things at the end at the beginning but I\u0027m not gonna make sure that yeah I\u0027ll wait till we have agreement on the general approach I don\u0027t think anyone would be concerned with that particularly you know yeah just to clarify because in what will be right in the SDP I mean how do you describe this in the SDP was yes if you have to do a pillow top number and the name of the of the of the of the payload okay but now you can\u0027t do it age of 64 because any entity that would look in the middle would be confused by that it will try to do it as an age so given answer is virtually so Ronnie when you like what srgb transforms as has been said like they add overhead to the payload right they add attacks okay okay maybe I\u0027m misunderstanding well one thing I did thing I got up here to emphasize was that this really is internal to the transform because whenever this is you know the thing that actually appears on the wire this this chunk that\u0027s added to the beginning is encrypted so it\u0027s not visible to anything that\u0027s looking at the packet yeah are you still just iran\u0027s question because okay so Mason what I\u0027m saying is I mean you negotiate it as I mean the negotiation is the payload type is h.264 and then the crypto transform which you know creating DTLS but if somebody wants to some insane person wants to perk with s test you negotiate nest s what it would say you know double and then this is the inner half of double so slightly "
  },
  {
    "startTime": "00:27:48",
    "text": "different way um as I said the thing on the wire is just opaque bits right it\u0027s just just random stuff nobody\u0027s trying to interpret that the thing that comes goes in and comes out of the SRTP layer is the payload type you expect it\u0027s it\u0027s h.264 or whatever it\u0027s just after that gets shoved into the SRTP layer this extra stuff gets added as part of that encryption process so the thing the payload types that are actually visible to the external world are the same payload types as ever this extra stuff get just gets added as part of the wrapping into SRTP so it\u0027s it\u0027s never visible it never changes anything that that\u0027s visible outside of the transform and and to be clear the this is not really in any way signaled in SDP like the SDP if you were doing normal single encryption or double remains the same it\u0027s the DTLS negotiation that negotiates the the transform sorry the protection profile that TLS is using and when that protection profile instead of being you know a s GCM whatever is double then this transform knows to do this both when encrypting and removing it when decrypting there\u0027s one other little thing here that\u0027s a sort of a side thing I don\u0027t want a rathole on too much but I do want to just try and check with the working group and see if we\u0027ve got consensus on it yeah or not I just I did I couldn\u0027t really follow what happened on the mailing list and this is the in flack so I added an in flag here and the use case is when VP not talked all these kids to be also fix yeah there\u0027s lots need to be there because when you are doing you know when you are doing vp9 as we see with helium you can drop the later layers of their order frame so then you have to move there and then flash for the lightest bucket to operate this one so if you drop the layers in there in this in this view you need to modify your southern flag so more question hat for you was do the if you\u0027re doing its the marker flags do you not need this does that solve the problem for vp9 or do you still need this to you do you know do you need to be able to have the SFU changed the frame marking bits or the omit if you\u0027re using frame marking bits can be can you get away with not having us if you change the input so the in frame marking it\u0027s not expected for the SFU to alter the bits it\u0027s expected for the SFU to interpret the bits and so they\u0027re generated by the end point to help guide as a few decisions when you talk about in flag here we talk about literally that the marker bit from that market or theater and what\u0027s the what in "
  },
  {
    "startTime": "00:30:51",
    "text": "vp9 needs the marker bit if in fact free market should not go from the media distribute or today to anything because it they don\u0027t need it they will decorate the media and they will have access to the media so if I were if I was going to use it I will not send in the free market from the Middle East to totally to the endpoint so hey when do you are doing behind the LBCC with this later on you will see there you will check the frame marks to see if if well they have they have chains now today and the semantics but they you say that the larger frame is hey what this day and the scalability discolor the Scala will a layer so if you drop it none of the RTP packets of that frame of the super frame it will be sent to the end point so if there the last packet of the frame has a mark you have to put it in the last one that you sent this applies to any specialist callable format based the idea is that the in frame marking the end of the EBA it means end of layer and whereas the embed and the RTP header means end of picture and in particular this lets you know when you\u0027ve actually got the top layer of the picture so that when if an S if you was stripping spatial layers that\u0027s let\u0027s you know okay this is the last layer of the picture I should go ahead and displayed it\u0027s down Mogan um but I mean part of the whole point of scalability is that your the whole point of scalability is to is to be able to drop layers and if there\u0027s independence among layers that\u0027s something that can be signal independently whether or not you have whether or not you you want an indication of whether or not you\u0027re gonna get more layers and that\u0027s not really a all you need to know is the independence between the layers and whether or not you\u0027re going to get more layers is is a that\u0027s a different kind of indication that\u0027s like a rendering acceleration hint that\u0027s not a decoding a set of decoding requirement I mean I think that displaying the video frames is a very important part of decoding I mean know so if you look at practical anybody that\u0027s written to a real art to implementation knows that the marker but is notoriously useless for almost all payload formats you cannot rely you cannot rely on it for a rendering acceleration you can do a heuristic to see is it reliable for for this or not but you can\u0027t ever absolutely it actually dark to you specs a you can\u0027t so so I think you could infer this in in in the same heuristic without without having an explicit marker for it yeah I mean "
  },
  {
    "startTime": "00:33:54",
    "text": "obviously a receiver has to be prepared for an as if you there isn\u0027t rewriting em bits but I think a lot of people want the refuse to rewrite n bits to be correct so that you don\u0027t have to wait for the next frame to know whether you can display this frame or not okay so let me try to hack this from the other end which so it seems to be there\u0027s there\u0027s some argument for very 4sf use being able to do this and let\u0027s look if there\u0027s any harm on that and given the discussion we just had about like if a wrong in bit causes you harm you\u0027re doomed anyway I really don\u0027t think there\u0027s really any risk or security problems with allowing the SFU to set the input I mean that may be able to mess up calls in certain ways on some things but the DMC you could equivalent or SF you could equivalent mess up things just by dropping packets or we\u0027re right this doesn\u0027t extend the damage in SF you can do in anyway doesn\u0027t give us access to raw media so I see no problem in doing this and so you know some my feeling is we should regardless of this proposal or ohb or however we do it that we should probably move forward with adding this this implies is that people in agreement with that okay so that sounded like can we please make sure that makes the minutes we got consensus didn\u0027t add an in flag nor taker we are saying that in can be modified by the SFU which i think is a change from our previous decisions okay so let\u0027s peel the next level of onion about this this RTP payload here is all encrypted and the SF you can\u0027t modify it it can\u0027t even read it it used to be able to modify this header and add more things to the header so if the client initially put in a header that said hey here\u0027s the original payload but they wanted to change the sequence number well you know the the SF you just extended the OHP and add a sequence number to it life was good can no longer do that the client has to set this bit field and it has to be set to enable everything that the SFU will be allowed to change it doesn\u0027t mean the SFU has to change everything that\u0027s in there so you know one strategy would be you know set these bits all to one and like let everything be changed right that has a bandwidth impact for some people for audio and don\u0027t want to do that so we need a way for the client to be able to know what bit field value to set when it\u0027s encrypting these packets at the same time it\u0027s the SFU that knows what it wants to change I think you\u0027re assuming that adding this ohb equivalent is part of the end-to-end transform but if it\u0027s part of the hop-by-hop transform I believe the people that want this want this in the RTP payload what is in the RTP payload meat and it\u0027s clearly not "
  },
  {
    "startTime": "00:36:55",
    "text": "in the RTP payload right it\u0027s point is part of a crypto transform because as we discussed it\u0027s not that\u0027s not the payload so I mean if the SF should the s if you\u0027ll be able to read these fields yeah your argument is it is useful for the s if you do not to be able to read these fields the SFU has no need to read these fields or modify them it doesn\u0027t need to in the slightest but it does need to know which things it\u0027s allowed it needs it needs to be able there needs to be some coordination of what things are going to be changed at the broad level right proposal here first I see where you\u0027re going with that I I will strongly disagree with that path and when we get to the next slide of you know what we\u0027ll agree on what we can change and what not will be what we can test discuss pros and cons but so proposal roughly is the client needs some way of doing this that could be an API that just set it through JavaScript or whatever there\u0027s many ways to do it but one way that we would standardize it as a possible way to do it not the only way to do it would be the MD could tell the KD over the tunnel what this value was and the KD we in the in the DTLS can\u0027t okay ich in the DTLS ekt message the extension that we put into DT LS that comes from the KD back down to the client where we passed the ke key key we would add another optional field there for the KD to pass this data back to the DTS stack now when you look at implementations it actually all sort of lines up about how you sort of want it you get this information out of D TLS which is the same place that you found out that you were doing double in the first place you feed that into Lib into the SRTP implementations along with all the other information you got from deal DTLS like the you know the salt and the keys and whatever it\u0027s just one more thing that gets passed along with that data so it\u0027s all sort of in the right places and passed along the right path it actually works out pretty well I don\u0027t want to say that\u0027s the only way of doing which is saying that that would be one way that we defined it so that we had a full complete story that that worked some makes sense as a way to do it turn off you said the MV decides what can be changed that\u0027s what you\u0027re saying I mean but that\u0027s not assault we don\u0027t trust the nd so hot why do you let him know what he can change I mean well the client gets the MD gets to propose what it would like to change right and the client gets to decide whether it wants to use the MD or not so look that the information that that the that it\u0027s good let\u0027s jump back to this trust issue for a second we have been very careful to not add to this list of bits in this thing the ability to change anything that we believe compromises the security of the system so if the MD says always I "
  },
  {
    "startTime": "00:39:56",
    "text": "want to change everything that\u0027s possible to change okay some embiez will most definitely do persons some of the SF use will most definitely do that right that doesn\u0027t mean her still has all the security properties that we expect Perth to have it\u0027s fine I don\u0027t see a security problem with that the only issue with that is we only use up more bandwidth than an SF you that said hey I don\u0027t need to change anything and there will be SF use that do not change any of these things right and that\u0027s been one of our compromises from the very group was to try and support the people who want to change lots of things and the people who basically didn\u0027t want to change anything for for bandwidth the concerns Jonathan had the the comment that really the bit field in sequence number should be more put on the end instead of the beginning as long as we can figure out how to find and parse those I\u0027d be good but I yeah yeah I think it\u0027s really bizarre yeah let\u0027s let\u0027s say with it one where we sort down the next level of details of that we will look at that if it\u0027s possible and easy we\u0027ll do it that order instead of the other way I agree I mean so I think my proposal when I was saying put it on the hop by hop is it the high level is if the if we designed these things such that you know that the this field is you know exposed to and rewritable by the MD then you don\u0027t have to waste bandwidth on the uplink even if the MD is adding another downlink and then what this end you know if the MD decides to start lying about it well your end to end off will fail and you don\u0027t get any media and somebody\u0027ll call up the MD and say hey what the hell so okay III I think I probably live with that I\u0027ll think I\u0027ll think about that more but let\u0027s let\u0027s let\u0027s see other people have problems with with that type of design approach if we went that way I mean we\u0027ve had lots of implementers on the ohb say please please please we want the client to put the O HP and then have it basically right instead of having the immediate distributor inserted so i yeah i think that the one of the benefits of AD in the end the payload in there in there in the end-to-end transformation is that the SVU distance does not need to change anything I mean you don\u0027t need to change anything in the MDM to make it work I mean you just receive that data from one endpoint and you just transport it really to an endpoint in fact we have implemented it in jános and you\u0027d see just with free marking and it works I mean you don\u0027t need to change anything that the video does not need to change to to care at all about the HP me yes get it from one side and put it together I mean there is a comparison value wait but this is yes to "
  },
  {
    "startTime": "00:42:58",
    "text": "three bits the fruity bytes and you are adding a 32 task to the inner transformation so yes I mean you are wasting a lot along with anyway okay so I think this for me personally on this when it comes down to it I don\u0027t really like for the OHP I\u0027m I can live with this for sure and if Emil and Sergio want for their implementation of the SFU to have it inserted it to have it not change and I think that\u0027s been one of their fundamental arguments is I mean I\u0027ve heard Emil say multiple times over years like I have something that just works now with no changes if you guys just refactored this crap a bit and I\u0027m trying to address that concern so all of this let\u0027s go to the next slide here for a second so this really gets the proposal of what we\u0027re proposing changing or a consensus proposal on this and this is all group together thing I think with with the group of us this sort of comp said we could live with this we can live with this but not bits and pieces of this it\u0027s all or nothing right that was part of how we came to some level of agreement because there\u0027s parts of people like parts people in it hey so the proposal is do that stuff we were talking about on the previous slide of moving it into the pelo header and we can modulo the bike shed details of that and go with the lines that were a for red r-tx and flex back in the in the previous designs and certainly well or Magnus\u0027s comment that like non-trivial text required to make those things happen and then the last one on DT math and I don\u0027t think anyone cares about this one deeply we could change this one is DTMF will dealt with is into end media it is not some you know pound six to mute your WebEx conference is a bad idea and everyone should stop doing that right that would be basically the implication of this so that\u0027s the the proposal that that we\u0027ve got going forward here that we all think we could live with the question is is are there people who have some reason they couldn\u0027t live with that proposal you know let\u0027s let\u0027s talk about that so I think we have been on this issue for close to two more than two idea of meetings and right now what I\u0027m hearing from Colin and like others is that they have a proposal that they can leave it both the double and light they have come up with their proposal so if the working group kind of thinks the three points are color and straightest if they think they can live with it I want a church would want to know the consensus here so we want to go one by one and kind of get it hammer on it it\u0027s a taken off it\u0027s one harm it\u0027s not it\u0027s not okay yeah what we could live with is all of that not part of that so "
  },
  {
    "startTime": "00:46:01",
    "text": "so it\u0027s just one question for clarification and this is something that Jonathan raised the the moving the weights be into the payload field what what was described initially I think was that there was a lot that was going to be there\u0027s going to be placed it so when the encryption encryption transforms call is going to be inserted then the hop-by-hop encryption performs an end an encryption for for but if we do that the receiving end point won\u0027t get the decrypted so that will have to be done in the middle in between hop and then did unless I\u0027m confused about something you\u0027re saying if the hop-by-hop keys are different no I\u0027m saying that that that field the what used to be called the ohb that\u0027s on the payload will have to be inserted between the hop by hop and the end-to-end encryption pass yes okay okay that\u0027s what you in the transform right you know how we do the steps were you do some of the stuff on the packet then you modify the values and do the other stuff on the packet right from just an integrity point of view this happens at that same place in between those two stages I mean the one thing I\u0027m unclear on this proposal is how exactly is this I I think it I guess it\u0027s still an original header block it\u0027s just not a header extension this new OHP how does Ali does that participate in the FAQ in RTX is it in the second r-tx practice or not yes what yes it is and is not oh sorry yes it is it\u0027s quantum yes okay so you actually are doing effect over the HP and I guess that might argue more for against my previous thing of footing and not putting it in the of saying they don\u0027t have to send it up from the original things I guess it doesn\u0027t need I guess needs to be and then that\u0027s an argument for setting up from the original clients I think I think that this proposal to work has to be set by the original clients I think it\u0027s very maybe there\u0027s a way to design it so the middle could modify it but the way I had run through in my head and tried to check with myself that I believed it would work and okay we were all thinking about it was definitely it was set by the client my response to this Raposa Liz you know I tentatively yes but I want to see it I want to see it fleshed out a lot more before I say I\u0027m willing to you know definitely you know say this works and ideally you know rough consensus and running code so if you could do a sketchup of get this to work and I\u0027m not promising running well I mean Sergio they actually promise you remain running code I don\u0027t think I can fully sample code that makes the algorithms working that can actually reconstruct the original packets and all these repair cases yeah and look I think in any of this it\u0027s it\u0027s you know "
  },
  {
    "startTime": "00:49:01",
    "text": "consensus is at a point in time and where what we\u0027re talking about here when we write down the details of this draft we may find a gotcha that none of us are thinking of that causes have to come back and rethink this I I fully understand that yeah as I think I posted the list I have a version of the last round of double working in Lib SRTP and I think it should be straightforward to convert it over to this so you can at least see see how it works at that levels and verify that the transform works and we can get the configuration yeah that\u0027s that I don\u0027t have no code for but do what I can I just wanted to confirm my understanding here the order of operations here and kind of where this new OHP goes so the the is the order of operations here that you take the original paleo payload you do the encryption over the original packet you append the ohb to that and then you do the external transform that\u0027s your operations again good I thought it had to be their way just Weaver that works I don\u0027t think anything else does or even I\u0027m going back to the SDP issue because if you have better extension you negotiate it here you don\u0027t negotiate everything you assume that this must be there in terms of when you do it Katie you have to have this payload party the new bid field and secrets number inside the payload it must be due yeah for people John Hansen is promoted by negotiated by the DTLS exactly right I can definitely live with this but I think maybe it seems a you know very sideways to me not not a clear advantage so I think what may be missing from that list of three you know points of the proposal is that I think the motivation for this is really not on here the motivation for this adds a fourth bullet that you don\u0027t want to deal with arts be header extensions you don\u0027t want that I think that one of the tenants of light was we don\u0027t want to allow RTP header extensions to be anything in in park they\u0027re just regular things that you can always manipulate there\u0027s there\u0027s never there\u0027s never anything that you have to put in our theater extensions for and preserve in the end and that I think was was why it was put from the header extension into the payload and if if somebody ever wants to come back and say oh well there are some things in order to be a toe extensions that we do want to preserve an inn or have then it would kind of defeat the reason of why we ever wanted to move it in the first place so to me seems like kind of a sideways change without having that as also something that\u0027s agreed upon as a requirement my co-conspirator here behind you to answer that there are several reasons of why or you know he chose to do that that way man first is I "
  },
  {
    "startTime": "00:52:01",
    "text": "didn\u0027t want to handle and to cover into talking about hair extensions on the h-e-b sense second that I don\u0027t think that it is wise to introduce a concept of or but in in the HP in the hair extensions how we were going to do it depending on what you put speed the essential mean what is for another I think is a huge change of what anyone is implemented today and also and we could even implement and to end extend a hair extension so data but put it into the bailout anyway because it is were it\u0027s meant to it I mean if you put it as we have a bit feel if we find any use case that we do have not found any today that we need to Gary some data from one endpoint to all the other endpoints we could we could extend that ambit and also put it in there so we are not preventing the usage of sending end-to-end data and as we are doing the end to end heaviness tensions with this proposal yeah I think I was gonna say basically what Sergio said I think in the in this proposal I think as we grafted it here you do lose the end-to-end the ability to have end-to-end protective extensions but that said the mechanisms in double right now is kind of lame and not really implementable um I think it\u0027s heard you said like if there is a desire if there\u0027s a use case this mechanism can be extended to add the stuff you need to have some into end protection yeah yeah we add one of the bits and the field indicating that there was an offset header that said what the Indian crypto won\u0027t work so we can certainly that if we want it these guys I had previously argument that there were RTP Hatter extensions that should be Indian protected and the example I had was the video orientation CEO and I think these guys you know successfully convinced me that I was just being in the otic that like you know if the SFU wanted to rotate your video on you that was really nothing it you know go beat your SFU vendor right I mean it\u0027s not it\u0027s not a security risk if the type of risks we\u0027re trying to protect from in perks so so that you know that\u0027s one of the parts I just decide I could live with so coming back to the you know Jared some dream come to time when we asked for consensus I think what I heard from individual is that yes they\u0027re like the next not Jonathan is tentatively s and more and others they think s but we need to go go back and have the others kind of right and flesh out the details but to get a rough consensus in the room and also the job of scribe like Church would want to kind of ask two questions one if you are tentatively supporting it or strongly supporting it hum if you hum now this is the two questions that\u0027s the first question second question is if you are strongly opposing hum so to start with who supports tentatively also strongly "
  },
  {
    "startTime": "00:55:03",
    "text": "for this proposal that has these three pieces in there okay and how about the other one where you strongly opposed to this proposal my magnetic from jabber scribe no okay so for no takers where the next would be the working group has accepted this proposal but the authors should can go on flash up the details and we\u0027ll come back in the next meeting or an interim yes yes confirm it on the list yeah exactly yeah okay next slide thank you that\u0027s really great that was the hardest problem we have to deal with the Newark group by far thank thanks everybody who spent the time to let me understand their issues and make this happen okay ekt next slide there\u0027s no open issues with it but given the consensus we just had it on the previous one we do need to add an extension in here into the detail se Cayo message as a way of carrying this bit field value in ew t so we\u0027ll make that change to the next rep of this draft as well so this is a minor point but I think we may be able to get to get away with putting that effectively putting that bit field value in the protection profile ID so we may be able to get away without this octet yeah we could hear that on yeah yeah that would work fine too I guess it\u0027s just a question of the transfer that information somewhere across that link I think is what I want to deal with and in that case you do the the negotiation between the MD and the KT as to what the MD were needs to be able to change what happened as part of the here\u0027s the protection for a fossil support we need to update the tunnel draft as well to be able to carry that information oh yes that\u0027s a much better design okay that\u0027s some of the best design happening at the mic I\u0027ve seen today a little concern Oh concerned about is exactly what the we need to explain exactly what the future extensibility here works like you know what happens if I say you know you know hey yeah I want you to be able to change bit six and I have no idea what bit six means does that a fail is that I have a way to go she ate that down is that a you know you know or if you know or worse if I say hey I\u0027m gonna be sending you payloads with bit six set and you have to know how to skip some unknown number of bits in the in the header so two shilling for Richard here Richards proposal is that we make each one of those different "
  },
  {
    "startTime": "00:58:04",
    "text": "combinations of things you can change be a DTLS protection profile so the client in the DTLS messages will advertise up all the things that can support the the the key distributor will choose the one it wishes you used and you know we\u0027ll have a normal handshake and we\u0027ll get it so Richard my way of just transferring is optional data would have failed the test you just said but Richards proposal solves that problem that it\u0027s properly negotiated between what the client and the key support and that negotiation will carry all the way through the tunnel draft to with no changes to the tunnel traffic if we use protection proposal so it sounds like I\u0027m gonna revise this slide right here to say we\u0027re not going to make any changes to ekt or tunnel the only thing to do is the way we define those will be that the double draft will now instead of defining just two protection profile so we\u0027ll define a bunch for the various combinations of what can happen so you in want to see the details perfect okay next slide so you can\u0027t don\u0027t actually any problems with ekt that the working group has that we need to resolve before this goes to work your bus call going going gone okay get lost Matt\u0027s ITF okay next slide but that\u0027s it for my slides [Music] okay so so this is an update on the afternoon and now potentially obsolete sort of drafts maybe tunnel doesn\u0027t change that the other ones probably will so what what\u0027s new there\u0027s some editorial changes to the tunnel draft we incorporated DTLS I\u0027m sort of the tls ID they got changed the name changed there in the last meeting we talked about introducing that to avoid having to have the commerce within a fire so that I got incorporated into the TL into the national draft and and then we addressed other comments that were raised during the last IETF meeting so you\u0027ve got our next slide so the TTLs ad will not be utilized and so it\u0027s just rehash what I just said but anyway then points will be required to include the TLS ID and STP so that\u0027s just something to keep them keeping keep in mind and the background "
  },
  {
    "startTime": "01:01:06",
    "text": "that\u0027s just for those who didn\u0027t have it wasn\u0027t there for the discussion of the last IETF meeting and go the next slide there\u0027s an editor\u0027s note says the the process through which the TLS ID and STP is conveyed to the key distributor is outside the scope of this document and the above text could be removed if we agree that the mediator trigger will always forward SDP to the key distributor that said should the media see root should the media server take take on this function or or should we have something else in the call control plane dealing with that and getting that information to the key distributor my preference is that we we take out the editor\u0027s note and just leave it as is which which says that it\u0027s basically otoscope how we get this to the key distributor yeah I prefer that too there\u0027s a certain group of people who would like to get rid of SDP altogether yet still continue to be able to use these types of mechanisms so they don\u0027t want to create dependencies on STP but they\u0027re fine with us forwarding the ID obviously and if how you do that is forward all the STP that\u0027s fine for this but I think it\u0027d be better not to require something that\u0027s not really needed so I you know let\u0027s just say for the detail the TLS ID however you do it so maybe not as good okay so I\u0027ll remove that if there\u0027s no okay next like timeline procedures visitor that the revised the when I made some changes to the text I\u0027ll hopefully makes it clearer as to how it works the the there used to be a DTL SS RTP association tunnel affinity that that is whenever you set up a DTLS SRTP connection and through a particular tunnel between the md and the key distributor there was a requirement before that every message go over that saying DTLS SRTP grows over over the same tunnel sorry over the same tunnel between a mediator orbiter and the key distributor that requirement was removed so if the media distributor establishes five different tunnels to the key distributor the key distributor can send messages over any one of those five and that\u0027s be possible because every session is identified uniquely anyway so it doesn\u0027t really matter which connection it comes over so that that was changed there\u0027s a there\u0027s a new text that explicitly states that mutual TLS authentication is required don\u0027t think that was there before but it was intended but it is there now required a key distributor to send an endpoint disconnect whenever certain events occur so this this this is a way to know for "
  },
  {
    "startTime": "01:04:07",
    "text": "example if the endpoint says up the detail SS RTP connection to the the key distributor but for some reason that that fails the meatiest riveted and otherwise know that it failed so now the the key distributor can inform the media distributor that it did fail and the Association ID is now a UUID before I forgot what it was but we changed it there in the meeting I guess during the last meeting it was Ezra to make that change to use a UUID so next line there\u0027s a bit of text on versioning well I have one version so far but we still have to discuss what we\u0027re gonna do going forward so there\u0027s a there\u0027s a response if you see me the key distributor initiates a connection to the media distributor me distributor sends over its supported versions if it\u0027s if it\u0027s not supported the key distributor respond back and say here\u0027s my highest supported version so that was added also the version field is is only on the very first message now we used to have it in every single message so we took that out so it\u0027s just in the first message next message you\u0027re next next slide there were some changes made to the protocol syntax to align with some of the previous discussions at the at the last IETF meeting there\u0027s a shorter version length field put the message type before the message links and then the version where they stuff that I mentioned and if there\u0027s anything else I can\u0027t remember what it is but those are the main points all the UUID field are the ID value that that changed I don\u0027t think that changed the syntax but it may have alright next line in the example at the end of the document there\u0027s there\u0027s an example of what the actual encoding looks like on the wire just what well the message doesn\u0027t binary format looks like that was changed to use two now registered double code points so that we actually do have double if that may change as well given just the discussion we had but there is some code points register for double and we use those in the example and I think that\u0027s it so that\u0027s an update on tunnel and just over maker had a comment on swapping that core points order that comes into this one as well right I\u0027m not sure that was Donald left right I\u0027m not sure it matters but if I\u0027m reading that diffe correctly you swap the code points for unsupported version and boys and and support proposals was there\u0027s a reason for that did you know that your men in the in a protocol yeah I did I did change that yeah is there some reason okay I had no problems numbers I just wanted to make sure there was this something I was misunderstanding about like why those other numbers were bad "
  },
  {
    "startTime": "01:07:08",
    "text": "cool see I like attention to detail though I I thought it wasn\u0027t that important yet since I was on the on the beach so this is that the the media framework document certainly if tunnel isn\u0027t outdated I guess this one\u0027s going to be up anyway it\u0027s it\u0027s current as of before this meeting so the next slide so the the there\u0027s just a few minor things that we did to this one we introduced two new appendices one of them is a just it\u0027s intended just to provide an overview of what the keys are that we\u0027re using in perk because there are several keys and that does seem to cause some confusion we have hot Balki and and M key and we\u0027ve got these these various little the various other keys that are used in the system so it just kind of provides an introductory text there and we probably need to expand that were so I welcome any input on that the second one is is the monthly per packet format which is definitely going to change based on the discussions at this meeting but that that\u0027s intended just to provide a high level overview of what the final perk packet looks like on the wire because that that was a little bit misleading having it broken out it\u0027s a little bit confusing so it just there\u0027s one one place here\u0027s what it looks like then there\u0027s just some editorial cleanup and probably don\u0027t need to go through the twice too much but some of the other tour I\u0027ll clean up is I got confused with all the Katy I values not because I couldn\u0027t keep Erica the keys but because the fact that there actually are multiple keys for any any given ki there could be any number of other keys at the same time because the if endpoint Riki\u0027s is ki is now not there anymore so it\u0027s actually multiple there actually could be multiple concurrent keys of any sort in the system so it got confusing I just removed all that text and so if we just refer to the the hop-by-hop key the end end key and yes the the hop by hop key can change the end the end key can change and then make keys more likely to change then the hop by hop key but it the end point can fabricate a new key anytime I wanted to and then send about Anthea into in the RTP packet when it encrypts so there\u0027s a little more language to explain the keys and big usage in section 4.2 so just a new paragraph added there and throughout the text I tried to change the e key T key sometimes it was written together sometimes it was written separate my goal was changing that was to try to "
  },
  {
    "startTime": "01:10:09",
    "text": "make sure to line with the ekt light draft so if you find any examples the intention is EK tiki with a space in the middle refers to the EK tiki the thing and the e key T key with no space in the middle refers to the message ek Tiki that gets thicket sent over the wire so that that\u0027s the editorial cleanup and then the two appendices so Appendix A just this is the key inventory we just list the keys that are used so we have the key the ke key in the ekt key and the they have the hot key in the end n key so we\u0027ve got those three keys and then there\u0027s a couple of pages of text that goes on to explain those again like I said it\u0027s all new text I welcome any input suggestions it\u0027s just intended to be informative not normative I did move some text from the normative section down to the informative appendix that shows which entity has which key because I think that\u0027s useful so people have an idea of who has who has why key so if you go the next slide Appendix B is just a packet format which now the ohb is in the wrong place so that that\u0027ll have to be moved otherwise it may largely be this thing but this is just intend to show what the packet looks like on the wire and the reason for that was even I got confused because I thought the ekt field was somewhere in the middle but it wasn\u0027t so that\u0027s that I think that\u0027s all so I think one of the nice things about the approach we\u0027ve been discussing today is that I think we can just strike this appendix because the at least on the wire there\u0027s no difference between perc RTP packets and normal SRTP I mean internally they do but it\u0027s not visible in wire well in earlier versions when the OHP was in an extension it was there was a visible difference on the wiring you had to negotiate earlier but now it\u0027s all now it\u0027s all inside John Phonics yeah it\u0027s all inside but it\u0027s still useful too I think it still I disagree should strike it I think it\u0027s still useful to explain what\u0027s inside because it\u0027s confusing my intent was to more or less draw a diagram like what why Colin had up earlier to put the OHP just about the cipher text like cool okay any other questions or comments so Polly in order to kind of make progress to going forward on these two drafts what would you be needing I do see that these two appendix ones update based on what W gets a better unit some reviewers apart from that are you waiting on something or for the framework draft we just need to make changes based on this current "
  },
  {
    "startTime": "01:13:10",
    "text": "discussion and so I would say we can certainly I\u0027ll hundred any of those updated by the next meeting okay but I wouldn\u0027t say it\u0027s ready for four for last call or anything yet just because we\u0027re probably going to go around on on this this change the tunnel draft sounds like it\u0027s not really going to have any significant impact from those discussions so it it may actually be closer so maybe there\u0027s no change but certainly I would welcome some some feedback if you find anything in the document good thank you I think that\u0027s about all the presentations that we had for today we had reserved close to 50 minutes for Chase to decide on how do we move forward and based on the the consensus that we reached can we ask double authors to kind of update the draft with a new proposal and when can we expect something on those lines for people to review I mean I\u0027m really motivated to get this done as fast as possible before everybody changes their mind so but I I\u0027m so getting done this week I think I think in the next few weeks I should expect to have the double changes out I think that working through all the details of the r-tx red flex pact that we will probably stage this out one at a time we won\u0027t wait until all that all of them are done before we release the drafts that we can start reviewing them separately but I think that those will take somewhat longer so I don\u0027t really know right now but soon real soon yeah yeah probably enough is that since we are having a github repo for working group I haven\u0027t put requests for each of those things and put it out there for working group reviewer could be can get some early feedback on those things I might suggest you know since we kind of made this provisional agreement today may be good to schedule a virtual an urban outlaw ways to discuss the details giving me some folks at deadlines to work towards and giving us a chance to rican I think a Cullen is agreeing to that sure the let\u0027s let\u0027s plan to plan well let\u0027s give Colin couple of weeks so that he can produce and pull request and then we\u0027ll set up in in the meanwhile we\u0027ll try to set up in Waterloo interim to discuss the details so by idea 100 if we are in good shape let\u0027s see we can make it a lost comm for like a hundred oh so that\u0027s it for work at Prague in IDF 99 thanks everyone for participating you have tours like one enough hour left for yourselves did everyone sign the blue sheets "
  },
  {
    "startTime": "01:16:48",
    "text": "you "
  }
]