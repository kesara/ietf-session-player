[
  {
    "startTime": "00:00:30",
    "text": "if you would like to contribute to the notes on the session where we\u0027re taking notes and you\u0027ve taken them an ether pad so if you guys alright I think this session is a time to start so welcome to email you\u0027ve probably all seen the note well multiple times but since it\u0027s Monday you probably should haven\u0027t seen it before take a quick look so we have started a github section so that we can work on our drafts there and I think several of the drafts are already up there so let us know what you think of this we use this in TLS extensively and I know a number of other groups have used a lot to help track issues in the status of the document still emu - WG is what you\u0027re looking for on github ok for the agenda I think blue sheets we should send those around and then we\u0027ll talk about epls and then EEP aka and then a couple of the items that are newer items that aren\u0027t quite on the charter yet so anything anybody else had and the agenda bashing that needs to be done so we have two working group drafts right now and they\u0027re different kind of dress then I guess there\u0027s an emu beer in Australia so or I think it\u0027s Australia and but are the drafts were working around are different we have the epls one two one two three and the EMU the EBA ka this so those are the current working group items I think we\u0027ll have a couple more that we\u0027ll be bringing into the working group soon and hopefully we can start getting these towards completion as well so I think this will be a good meeting I think there\u0027s a significant work done on both of these areas so are we up with which is the yeah is this where we want to start are you good job I think so okay I think you may need to let us know when you want to change slides I don\u0027t know if you can do it remotely I let you know something "
  },
  {
    "startTime": "00:03:42",
    "text": "there yeah I see great so this is version 2 of the ETL s103 draft the version that was presented at the last meeting was Cirrus 0 so we have seen to update so his drops and basically the the discussions and conclusions last time was - most of the things we discussed at the last meeting we decided not to change but what two things that we decided to change and that has been done so one of the changes are quite straightforward there\u0027s session hiding out story serie de as suggested by bernard a boba the other discussion resulted in a comment from him suggestion by him short to add md TLS record to the protocol well to lower the uncertainty from the EP r of going into the details of this but it has been done and there\u0027s a new section in the document called EAP state machines that discusses this and then there are some editorial changes and this was the changes to the between the 0 0 and 0 1 version turn the changes between the 0 1 and the 0 2 version are only in the privacy considerations and considerations for pervasive monitoring as well as some additional editorial changes yeah so the first change is as i said quite straightforward if TLS should start with 0d x value and this was missing from serie serious pointed out man out so this is now updated instead of deriving the session ID directory from the TLS exporter value called method ID is the right and this is according to some other ear PT RFC I don\u0027t remember which and then the session ID is created by concatenating 0d with the method ID and this makes the session ID 65 bytes long as in RFC 52:16 next slide on the streets any comments no other change that may resume or the "
  },
  {
    "startTime": "00:06:42",
    "text": "passion is the empty TLS record and this was brought the discussion was brought up by Julie at when he implemented this year maybe not the syriza version but diversion even before and he said that with a new session ticket it\u0027s hard for the client to know what will come next and it messes up the EAP state machine a little bit and was comment from ban on that it should be made cryptographically secure and him short suggested added an empty TLS record it seems like a good idea so the mekinese implemented in c1 and c2 is that yeah a piece server commits to not send any handshake messages and handshake messages include the post hajeck messages including them new sec session ticket and it does that by sending empty TLS record and don\u0027t know we should go through bitches first let\u0027s see empty TLS record this is just an empty application data application data record later with links where the plane takes length is 0 and after doing this the server does not send any more handshake messages it but it\u0027s still three possible options what it might sends and after this it\u0027s each success failure or a TLS alert message and as i I will show you pictures of all of this but yeah so first here\u0027s the case when we have success to the left we have a the ordinary successful mutual authentication and as you can see here marked with a green rectangle we have a new field here the TLS MD record and by sending this the server commits to not sending any more handshake messages and here in the case of a successful client authentication the server responds with each success on the right side we see a mutual attempt gage successful mutual authentication where the service sends a new session ticket to enable resumption in the future and in this case the "
  },
  {
    "startTime": "00:09:45",
    "text": "server does not send a empty record after it\u0027s finished because it it will send a post handshake so it sounds a empty record after the new session ticket and I\u0027m in this case everything is successful next picture here is the message diagrams when you have a failure in the left page here there is there is no empty record because we\u0027d never reach that state the client the server reacts the kind hello in the right side we have this case where the server authentication fails or the country exits for some reason and then this is the case without a new session ticket then the client the server sends TLS empty record and afterwards it will be a EAP failure the next slide we will have the most complicated case so here is the left side here is the successful mutual authentication as described earlier the server commits to not sending any more handshake messages and if everything is ok it was a leap success here but on the other hand if everything is not okay here so the server reacts the client authentication that the server responds with a request with a TLS alert message so the commit here with empty record is to not send handshake messages and this is serving the best we can do at least it this is as far as I can understand aligning with RFC Phi 2 1 6 in which this case is what happened if the client authentication fails during a resumption then you have the same scenario this service ends either success or it sends a key less alert message no comments so the next slide is potential updates to this one thing was that when writing "
  },
  {
    "startTime": "00:12:47",
    "text": "this presentation I noticed that we have error cases for we have figures illustrating the message flows for basically every error cases and this was requested on the mailing list to add more error cases and so now that we don\u0027t have an error cases for the eap-tls client reacting the new session ticket I assume the client was under TLS alert message in that case do we want such a figure and that could have be edited next word them further update a couple of Mia had discussion about privacy and the peer may reveal its identity in two different ways it\u0027s firstly it can send its identity in clear text in the first EAP response called ident my idea I think Oh my identity in droves and this is for all TLS version and the second way the peer may reveal its identity is to send its certificate in clear text and this only happens in previous versions of TLS what we can do in the privacy for privacy is a little bit restricted with what kind of legacy interrupt a deployment modes but one thought I had was that can we do something more specific about the identity sent in the first message can we can be always can be recommend or mandate that appear sends confidential identity for example anonymous nigh or is there in your key service that will not like this RFC five two one six is doesn\u0027t say very much about this it says that service may that doesn\u0027t support privacy my may go to failure when the client sends an empty certificate list but it doesn\u0027t say anything involved identities as far as I see yeah question from hidden Jim shot um in point of fact Ashley radix essentially says you do send just at your domain and in the first in the first if message and they use ETLs in a lot of places so that is "
  },
  {
    "startTime": "00:15:51",
    "text": "standard behavior that\u0027s there\u0027s no problems with that yeah so should we have come here must yet yeah it\u0027s good see the third future potential update that I had been considering when writing now the updated privacy section is that should a dog give any guidance since rc5 t16 was published several attacks on TLS earlier versions of TLS have been published which is one of the reasons why TLS 103 was developed and published but in fact most of these attacks don\u0027t really apply to EAP TLS as EAP TLS only do a handshake and that\u0027s not Tech application data for long period of time but some other attacks probably do even if I have not remembering the detail should a draft give guidance or references how a implementation should mitigate attacks on early version of TLS so speaking as an individual I write right now and this is Jo salary I would i think certainly we shouldn\u0027t really talk about things that aren\u0027t actionable to somebody who\u0027s implementing it for things that don\u0027t apply I don\u0027t I don\u0027t think we should should include I\u0027m also a little bit reluctant to include things relevant to earlier versions in this particular update but I\u0027d like to hear other people yeah yeah and I agree with your advice what I came up to say here though is that I struggled a little bit with the similar issue and the aka draft like how monster of the aka attacks should I describe and one of the crucial things I I think determines this is if there is a reasonable reference for for those other things and I said I assume lean in the case of TLS there there is TLS working group documents past the ls1 one free document actually describes some of those old attacks so you have a good reference to point two and then you could just handle the things that actually apply to your "
  },
  {
    "startTime": "00:18:51",
    "text": "protocol the question is if there are attacks against TLS 1.3 in particular that would not be mitigated by the advice given and security considerations for one three and our quit or are in any way specific to eat for instance then I think those have to be described here in some detail so it doesn\u0027t seem that we should have a long section I don\u0027t think there are any attacks on TLS 1.3 I think there is a document in using TLS in application describing attacks should we just refer to that or not even referring to that if this is Elliot again if you think the attacks are applicable then you certainly should refer to them you don\u0027t have to read ascribe it but adding maybe a at least my advice would be to just add a reference but not to spend a lot of effort recapitulating everything is something that went through a whole the whole process of an RFC did no yeah it\u0027s also not clear to me that we we want to go too much into what the problems are with the old versions and how you may or may not be able to protect against them a bit I\u0027m a little bit torn because that could be useful information for some implementations but really if they\u0027re reading this document I think they\u0027re more looking to implement the new thing but if at the same time they could mitigate all things that I had a short reference down to that draft so just this Elliot again one thing you can do is you can put it actually something in the front matter of this document which says this I if the attacks are actually motivation for this work right at least in part some of the some of the holes and the earlier versions of TLS or motivations and I think you\u0027ve done some of that right but just maybe you could even add a reference up front against that you know you don\u0027t have to go into any detail I really wouldn\u0027t alright that any time we muck up these specifications with a lot of you know motivational material if it gets to motivational people or like okay get on with it what\u0027s the spec but a line is not too much yeah good so so maybe the appropriate thing to do would be to "
  },
  {
    "startTime": "00:21:51",
    "text": "figure out what what is applicable or you know what attacks are applicable and if it\u0027s not clear to me that there\u0027s going to be a whole lot hi this is Elliott again so that one of the reasons I\u0027m sorry for speaking so many times with microphone one of one of the nice things about doing a little bit of that is that some of the attacks that we\u0027ve seen on earlier versions of GLS are already like browser specific or you know very very much focused on on that on that particular use of TLS and so calling out the non browser risks you know a line or two in the non browser risks maybe might might be useful and the reason that I say that is that we\u0027ve seen and maybe this is a good thing but we\u0027ve seen basically a blanket you know attempt to just get to the latest version of TLS without actual analysis of what the attacks are and that that that poses a long-term threat in terms of people having spent money on upgrades that they didn\u0027t need and they say oh you\u0027re just a boy who cried Rolf again see they\u0027re having actually specific justification does help on that I could I could send an email to the use of TLS in application list and the TLS working group and see if asking for advice what that what of the attacks would specifically apply to ETA EAP TLS when you only use the handshake these group working groups have the expert in this area sooner people are probably have these details in their heads let\u0027s see if we get any advice I mean that\u0027s that\u0027s probably a good approach I think that there may still be the people in those groups won\u0027t know exactly how he uses it and those particular use cases so they may not they may or may not you may or may not get yeah I Adam I had a reference and them and then we\u0027ll see what feedback I get from the discussion and but we keep it short and very only things applicable to epls not spending too much time that ya think mm-hmm let\u0027s do any more questions next slide so this was quite short I take that as people like the changes if they have rather I think this what is trough "
  },
  {
    "startTime": "00:24:54",
    "text": "needs now is more more reduce and more feedback also more implementations and possibly interrupt I don\u0027t know what\u0027s the shares views how do we move forward mmm could we get somebody to commit to review this or how many folks in the room have read the draft okay yeah we would in order to kind of move forward on some of these we need some more reviewers there a few folks in here could commit to doing a review Jim shod anybody else what\u0027s your name please make sure you make sure we get that in the notes Daniel you wanna review as well yeah so I think we can get some more reviews do we have how many implementations do we know of any Junie had implemented this at least Bertram so we\u0027ll need to find some more implementers to have an interrupt so I think if we can get a few more reviews and and kind of finalize these last open issues which is seem pretty pretty minor we may be able to start working towards a working group last call on this sounds good yeah great so this presentation will hopefully be very short so we made an update based on the discussion at the last tight if you go to the next slide so it has been updated from 0 0 to 0 1 and it\u0027s not that much add added information it\u0027s the drug has been reorganized to distinguish between recommendation requiring change of "
  },
  {
    "startTime": "00:27:55",
    "text": "certificates and recommendation only requiring changing the code for example update me to TLS 1.3 so there and there\u0027s some new text describing the cached information extension that was discussed that last time stating that it in some cases is not helpful if the handshake phase anyway but it can be helpful if you have done a notification in your home network and on your roaming and an or full handshake without this would fail this can make it possible to do a handshake there authentication then there is a new text stating a TLS can significantly reduce the number of messages exchanged there\u0027s a new section placeholder for guidelines for certificates more going into the details of different fields and things you should do in the certificates and then there are some editorial changes can go to the next slide so the news document structure is basically to split up section 4 into 3 different subsections where for that one looks at things updating certificates for the two looks at recommendation and guidelines updating code and for the 3 have guidelines for certificates and here we are waiting for input Shaun Turner promised to write something eventually here which we might hopefully have to the next site of meat what was what sort of things were gonna go in the guidelines section No so Shawn Turner had some ideas on how you can give guidelines to people issuing certificates like don\u0027t put tons of oh I\u0027d ease into the certificate don\u0027t have like thousands of subject all names in the certificate so those kind of guidelines specially so using TLS on the web is a little bit different from using TLS on Ani where you have access points that dropped sessions if they don\u0027t complete in in time okay you can try to find shun in Bochum all right yeah next slide so that\u0027s it "
  },
  {
    "startTime": "00:30:58",
    "text": "except that planned update from Shawn I don\u0027t think we have many many many else planned updates we will need suggestions and review some feedback from the working group and both this and the eat eap-tls 1.3 draft is on github so if you want to know what we are planning for the next version and any open issues you should look there and feel free to commit issues there or make a pull request or comment okay any additional questions or comments on this well we\u0027ll need reviewers for this as well but Vic we focus on the geo s13 getting those reviews done and if we get that movie we\u0027ll be able to get this moving to I think all right anything else with respect to each GLS alright thank you John and I think we\u0027ll move to heap okay you are you\u0027re up okay so I\u0027m just gonna go through the draft and some of the issues there and and if you\u0027re in the room and and and don\u0027t know what this is about this is basically some old or ten plus years old technology that has been very widely implemented but it\u0027s now finding also use in in the upcoming 5g standards and as part of that we\u0027re trying to make sure that everything\u0027s correct and things that we\u0027ve learned in the past or things that we missed on the first specifications are actually corrected and the initial thought was that there\u0027s three things that we need to do identifiers are a little special in 5c so I figured we need to do something for that the EAP aka prime does sort of like a network name binding that you both parties agree to what what they\u0027re what they\u0027re authenticating for or what network they\u0027re connecting to and that changed a little bit also for 5g so fix that and then we knew that exported prime-minister forgotten in the old RFC\u0027s that we didn\u0027t do that even those mother RFC required that so fix those three things but it turned out that we actually needed to do a bunch of other stuff too in the meantime that IETF demands for what should you talk about in the "
  },
  {
    "startTime": "00:33:59",
    "text": "security constraints dissection have increased like talk about privacy more talk about pervasive monitoring considerations of course we learn something about vulnerabilities in the meantime so document those better also we get some comments actually from John relating to say denims and fast we have the gates and identifiers x\u0027 and how their spec on the previous version was a little bit weak didn\u0027t specify how to do that securely or didn\u0027t set the requirements right so we did that dated some references there\u0027s been two updates since last IDF l2 and l3 the general state is just that we now believe that this well I know I said this before but now we really believe that this is in sync with 3gpp specs we\u0027ve done some 5g related updates we\u0027ve done some general updates and we\u0027ve done a lot of work with the security consideration section I\u0027m gonna go through some of the main points here so first of all identifiers this was kind of clear previously used the name that was sent in in this protocol and and it\u0027s important to get this right because the identifiers are not just like things to point to the right record but it\u0027s actually also used as bits inside the key database and so so if you get it wrong it\u0027s gonna fail miserably hmm but in fight see there\u0027s couple of additional considerations the first of all the EAP session is inside the 5g native attachment procedure and you don\u0027t actually need the EAP I didn\u0027t do request in response to sort of a extra round trip for no good reason let\u0027s take that out in the count there\u0027s also two different identifies one is the permanent identifier called the soupy and and then as concealed or privacy friendly I didn\u0027t if I call tsuki or Susi and and the idea is that these are used for different purposes that the permanent one we can use for keys in a race or no that\u0027s that\u0027s what they wanted at 3gpp so that\u0027s what we\u0027ll do and then obviously the privacy friendly one is the one that we used use for any any other passing of identifiers around and there\u0027s couple of things in the draft first of all you or this additional text to fix this case where like the previous RFC said that always ask or should ask I think was the was the phrasing for identifiers inside the EAP aka method rather than the EAP framework but in in a case where you are connecting to a 5g network and using the 5g protocols to do the signalling and and man-carrying EAP there then you do something slightly "
  },
  {
    "startTime": "00:36:59",
    "text": "different it\u0027s of course it\u0027s also requirement of implementations to be able to do this or detect this kind of situation but of course we can\u0027t really always guarantee that there\u0027s there\u0027s never a case where no no identifier czar asked for so one has to build for that situation that u.s. phone or or some kind of other client will actually get a request for identity what do you do then well um 3gpp had developed a table what to do in this different case is there and we basically follow that same here just to make sure that specs are aligned this applies only to 5g case here and I don\u0027t represent the whole table here that point let\u0027s just give you an example so in 5t because the basically old identifiers that you pass around publicly are privacy friendly identifiers now if they\u0027re on the EAP level somebody asks you for the permanent identifiers that\u0027s that\u0027s a warning sign it\u0027s probably not not agreed with that so that\u0027s why the spec said says should respond with an error code in that case key generation I mentioned that that we use one of these two special identifiers in key key derivation so there\u0027s some language about that like under what condition you do that and then this is what you do and these are the bits and regarding the bits there\u0027s a format question it\u0027s not just a conceptual thing but also a question of exactly how to represent things there\u0027s a reference here to 3gpp specifications where they represent their identifiers in an nai format so they\u0027re identifies can be regular in a eyes but they can also be MC numbers and and there\u0027s two different identifiers as mentioned earlier so one one is this permanent one that is in the clear here\u0027s the example in the upper or the upper example is like that it\u0027s kind of easily readable and then there\u0027s a encrypted identifier where the network part is like you specify what operator you go into but then you hide the subscriber identity part with public key encryption that\u0027s been specified in in 3gpp but it still maps to a in AI and so we don\u0027t specify any of that we just point to that then and provide some examples so that\u0027s identifier and then we have another thing that we want to make sure that the 3gpp specifications for IG and and the RFC\u0027s agree because the previous RFC declared that in in in these and "
  },
  {
    "startTime": "00:40:01",
    "text": "this is these situations you use like these strings to determine like this is for wireless LANs this is the string that you should use and and so on now here in bit 5g we\u0027re introducing a new string the the actual strings are in the Fiji PP spec but but it\u0027s a different document and different version than the one pointed to by the original RFC so so we\u0027re pointing to both and and then their clients are required to or actually in this case the server is required to to figure out what what is being done and which which identity or which network name to use we export some parameters for citizen IDs for fast reopen for the regular case and some peer IDs and and server IDs I should note that we\u0027re actually in in sort of the common case to be the empty string mmm because they\u0027re like well unless the IDs have been passed in inside the the EAP protocol which in this case doesn\u0027t or at least for 5c doesn\u0027t usually happen then then you don\u0027t have that unless you take the ID that was passed in in the lower layer and we chose to use the empty string not quite sure if this is a problem or not I think it\u0027s not a problem if people have comments on that that\u0027d be useful my understanding also is that while while there is an RFC that requires us to export these parameters from EAP methods there isn\u0027t a lot of implementations or even any implementations that would actually use this infamous all right people who have EAP experience care to comment if they seen this this information but depending on the answers this either matters a lot or doesn\u0027t matter a lot moving on just you might check if it\u0027s relevant to you I think the ab fab you looking to like there was this ab fab effort that used dape within gssapi course and they may have used Kennedy\u0027s I\u0027m not sure and I\u0027m not sure if that\u0027s even relevant to your use case so we looked at some common open source implementations and didn\u0027t find any code for this but other than that the only uses of that type of information I know is for like accounting purposes which you probably have dealt with in another way and then the previous RFC\u0027s and this has nothing to do with 5c this is like a totally general change the previous RFC\u0027s defined this pseudonym approach "
  },
  {
    "startTime": "00:43:02",
    "text": "and fast via indication identity approach and they they sort of provided special usernames that can be used in these processes and and the assumption was that these be like totally random and you know you cannot figure out what the user is from those but we didn\u0027t actually say that in the specs so now we\u0027re trying to say that that you have to generate them in a fashion that doesn\u0027t reveal information about the subscriber or the user and so for instance a counter would be a bad idea random number will be a good idea user name - counter would be a terrible idea and so on we wrote the entirely new section on privacy considerations just going through the basic implications of different identifiers types we set some limits on what to do in 5g so if in fight see you are sort of protected against privacy violation so looking at identifiers and then then you suddenly use pseudonyms and use the same children in multiple times then then you\u0027ve disclosed that that you\u0027re the same entity in these two instances and that\u0027s bad so the purpose of the 5g enhancements would be lost if if you did that so we are prohibiting that we discussed the implications of different protection profiles of 3gpp when they did this encryption of identifiers they have multiple different profiles including the new profile it\u0027s surprisingly it doesn\u0027t provide much privacy discuss that and we discussed that the domain or operator is typically visible in these identifiers even if the subscriber identifier is this piece of is hidden we also added a section on pervasive surveillance considerations discusses in particular the attacks that were claimed to have happened a couple of years ago 2015 the sim heist look up the reference from that draft and obviously all protocols are vulnerable to compromise of the primary key material we discuss some specific means to make sure that that doesn\u0027t happen when you manufacture these cards I mean also suggest that some form of perfect forward secrecy protection may be useful we\u0027re not requiring that or pointing to you know must do this spec even if we have a spec that we\u0027ll talk about in a moment but so we\u0027re just providing some advice yeah we did add a fairly extensive section on discovered vulnerabilities and this is what I was referring to when we were talking about John\u0027s draft how much to talk about general aka how much talk "
  },
  {
    "startTime": "00:46:02",
    "text": "about aka prime issues and I didn\u0027t have a really good trip we were unable to find a really good reference for you know here are all the attacks you know sort of fair and balanced manner reported on on aka so we try to write our own we do try to point out which things actually apply to - aka or APA ké and which do not [Music] so basically there\u0027s no like there\u0027s no attacks on the fundamental properties of authentication on the original assumptions but but you have tons of different attacks so obviously if you leak the primary key material you\u0027re you\u0027re gonna have some breakage so that that was what we talked about previously on the sim highest case you can also have the protocol participants misbehave so in in Triple A systems network access you typically give some keys to the local network giving you access and then like your access point or your 5g network or whatever could potentially claim to be the the user incent in the sense of sending packets apparently from the user and and that\u0027s how it is I mean it\u0027s not that necessarily super concerning but that that\u0027s that\u0027s how things things are in in almost all access networks that I can can think of or no altercation schemes that I can think of and and then there\u0027s some other stuff that is not really relevant for this but I did point to like this we did some of us are c-33 10 that is aka inside HTTP and he turned out to go really badly and we didn\u0027t use the crypto keys in the end result which meant that this is vulnerable to man-in-the-middle attacks and fixed that in later RFC 41 69 so we\u0027re clear except that that\u0027s now what ten years ago and and some people are still using the older one including some SDS referring to the older older spec for some reason maybe that\u0027s a task for some of us to give and fix but that\u0027s how it is so that\u0027s that\u0027s basically the the bigger issues in in in this draft or issues or things that we had done in the in the previous round and and where we are would love to get feedback and discussion there\u0027s someone going discussion also with some 3gpp people are being able to at least interact with some some other implementers we\u0027re implementing some of this but there\u0027s also others that do this and like going back and forth like what do you put in "
  },
  {
    "startTime": "00:49:02",
    "text": "the identifier fields has been useful we\u0027re also trying to add a reference to this draft to 3gpp specs we\u0027ll see if that happens hopefully they\u0027re having a meeting next week I think and we think we understand now the interactions between the 3gpp specs and and this and maybe this it\u0027s worthwhile to note that like why do we have to do anything to begin with like you know if they just use your your RFC like what\u0027s the problem and and that would not have been a problem if they just use the RFC but they actually wanted to use the RFC but do these and these changes and behave in this slightly different manner so that\u0027s why we have to Tran sync up because the the if we don\u0027t sync up and then the result is that the RFC will say something and possibly some implementations will fall the RFC and not do the five G thang for instance we talked about working group last call I think if we did one now like after the the meeting that would align nicely with some other things so so in right now the draft is up to date kind of discussions and things that you\u0027ve had in 3gpp and elsewhere yeah is is any how many people have read this 5448 Biss or any any version or later the better but okay would some of you be able to if we do a working group last call can you give a review of the latest changes okay progress so yeah I think we can bring this to okay [Music] okay so so this is the other graph this is some extension to the previous work or the or any APA ké prime protocol could be extended in this fashion it\u0027s not a working group document that but we do have a work item in the working group charter for this and we\u0027ve discussed about this extensively last time also I "
  },
  {
    "startTime": "00:52:02",
    "text": "have taken into account reviews or discussions that we had last time and for instance mo its review and and and this person is more detailed we also renamed the attributes and made the protocol use the e cd8 the 8e terminology and RFC 80 31 terminology and we clarified the use of the negotiation process we only send one key if there\u0027s like negotiate groups of algorithms and and so on so we never send like multiple keys we always send exactly one key that the one that we\u0027re trying to do and we clarified the resulting security properties interesting exercise trying to understand exactly what does this mean and then last time without being honest who brought up denial service attacks try to clarify that as well and so basically the protocol is that there\u0027s a pair and the server and and they big some some private information and and generate some public keys based on that using elliptic curves send an EAP aka challenge requests with like the all the usual attributes but also the attributes relating to - the perfect forward secrecy calculation and now my attribute names may not be actually updated on this slide entirely but to be updated in the draft and then if if the peer appear does not support this doesn\u0027t know anything about this this protocol then it will just ignore this and continue us as it does normally if that\u0027s allowed by the the parties but if it doesn\u0027t and and want to do this protocol then it also picks its private information generates a public key and there\u0027s some calculations and since the public key to the other side it\u0027s also does some calculations based on the private information and and the other side\u0027s public information you calculate the secret and then you feed that state secret into the process that normally in a PA PA K Prime would result in the master keys and then used that would result in the in the keys that are output from from aap aka process or the EAP method so it\u0027s pretty simple at that level there are some tricky parts though so one is backwards compatibility that I already talked about a little bit how to avoid change this or how to run in in different kinds of environments very not everybody may be supporting this yet and how to minimise changes all over there\u0027s "
  },
  {
    "startTime": "00:55:05",
    "text": "some negotiation issues with both like how do you negotiate if you have support multiple algorithms or groups and and since there\u0027s already negotiation processes in in the EAP a K Prime how do you fit together with that and then there\u0027s those issues so I\u0027m going to go through these briefly so the first design principle was that like we don\u0027t want to actually want to affect us in cars because that would mean like we\u0027d have to send SIM cards to everybody again couple of billion SIM cards and coastal at least a couple of billion in the stamps alone so we tried to do this on the phone and then on the network side we try to put it on the EAP server code not not there not the server that holds the permanent secrets so this keeps the interface sim card in the authentication database unchanged and no changes to the minimum minimal changes to infrastructure and no changes to credentials but of course you have to change the port you have to update the phones have to update the EAP server the the other one is that we wanted to make sure that we can do this in a backwards compatible faster and even if like we have partial deployment and like my server supports this already but not every phone does it yet and we can\u0027t exactly figure out what what phone is on the other end at that point so we want to avoid situation where would like have to wait until everybody\u0027s deployed or cause some penalty in performance when when expectations don\u0027t match so we wanted to do this so that there\u0027s no extra round trips when we use this new feature and if we fail to use the new feature I have to go back to the old way of doing things that\u0027s also no extra round tips in that case in terms of we can run the process in parallel which is through the old thing and then on top of that we do the new thing in the same messages and and if that succeeds a both parties supported and then the output gates will will take into account the new thing so in your use cases with 3gpp would it be possible to instead of because you use a different EAP number different method type yeah different method type 1 code yes because I\u0027m I haven\u0027t looked at it enough but you could try an approach where you had we\u0027re able to encrypt more of your messages using the diffie-hellman it might always add an extra round trip that that is the costs "
  },
  {
    "startTime": "00:58:06",
    "text": "okay and I\u0027m not like we\u0027d have to do the math like what what\u0027s the benefit but that that is exactly the cost that would add an EAP level negotiation if the other guy doesn\u0027t support this new type right and and and that\u0027s that\u0027s because the way that the EAP was or it\u0027s yeah fine okay and you don\u0027t have because yeah all right I mean that might be something to have a little bit of a discussion about and CFE I I don\u0027t know what benefit you would necessarily get from me for encryption either but I mean you would get the benefit of the encryption but how important that is in this scheme but you don\u0027t get like the encryption that you would get like it\u0027s actually I think it\u0027s not not that like there\u0027s other ways of doing this but I think the benefits always but then like if you just do like a EAP level negotiation I don\u0027t think you actually get any benefit from that it\u0027s just do the same thing but then but if you reorganize the messages in some other fashion that you did like a little bit like Ike v2 or actually one that\u0027s the first do this key material generation thing and then on the next set of messages you do the rest and then you can actually encrypt maybe more and that that might be a like a useful thing to do but even that has the trade-off of next arounder yeah so this negotiation or new negotiation in this extension so it\u0027s a simple extension but but you still have to build further possible there\u0027ll be more than one algorithm or more than one more than one group in the future so so for that that we have this 80 KDF PFS that indicates the the preferred algorithm is the first one and then the possible other algorithms and server sends this and if the preferred algorithm acceptable then the peer just executes this protocol and and proceeds and there\u0027s no RTT here but if if you do want to do some of the other ones not the preferred algorithm by the server then then then the peer indicates that I want this this other thing instead and then the server responds and then there\u0027s some special rules that you like you you carry the the old irrelevant information still in all the all the messages that you can\u0027t actually change anything without causing the max to fail then you have to check for that but that\u0027s always a round-trip that is added if you don\u0027t go for the default and only the key for the like you sent the generated public key on the on the first message from the server assuming that "
  },
  {
    "startTime": "01:01:06",
    "text": "the guy will will accept the preferred algorithm and if he doesn\u0027t then you have to send another one with with the other key but you never send more than one exactly one always and then there\u0027s a question of how does this negotiation process fit with the previous negotiation that exists for the KDF negotiation in the original RFC and they are actually very similar they exact exactly the same process just that they\u0027re negotiating a different thing and they\u0027re currently defined as separate like if if you have to do the negotiation then you do one and then you do the other one after that in theory we could probably define this to happen also in parallel but maybe that\u0027s not worth our time seems simpler this way people have opinions otherwise then talk about that denial service and and Hannes had this question last time and Russ I think you were also commenting on that that about the order of computations and that was actually partially in the draft already last ICF I wasn\u0027t entirely there and now we have all of that there and and also talked about it in the security considerations and here\u0027s the deal so the first message in this whole protocol comes from the server and and it doesn\u0027t come unless you like we\u0027re already identified that this is this is the given subscriber or that like we haven\u0027t authenticated the subscriber but but we\u0027ve seen a valid user name and you can spoof this but it requires that attackers at least use specific real identities they can\u0027t just randomly generate numbers and and try and use them so that\u0027s first level of defense and the second level of defense is that once you get the messages then all the parties at both on the pier and the server side they will first do the the old process they will authenticate using the long term shared secrets and make sure that that that succeeds and if it doesn\u0027t succeed then the person or the other party doesn\u0027t have the right key and therefore this is an attack and you you you bail out they never do the expensive computation it\u0027s only after that succeeds that that you you run the expensive computations so the parties need to show possession of the of the key material before they they do the heavy calculations Russ sorry I just don\u0027t remember where the Mac check falls and where the key for the Mac comes from but it seems that it\u0027s important to avoid the downgrade of algorithm attack "
  },
  {
    "startTime": "01:04:07",
    "text": "the Mac right yes so it would also I think effect this so the Mac I I think the Mac is it\u0027s done like it\u0027s it\u0027s done ask the the the the previews or the original RFC does that so you calculate that the Mac process is done that that is step one and step two is generate the keys and then the resulting higher quality key is then that is the output from the EAP process so now your traffic protection can be protected with this higher quality keys but your Mac will still run on the original process so what I think you said I\u0027m just repeating it back to make sure I understood is that the Mac is dependent on the base aka authentication yes okay thanks and so after all of this like if you still have somebody who\u0027s trying to dos you successfully then you can take some operations actions like blocking that particular subscriber it seems to be sending millions of requests for instance I updated the security properties also trying to be accurate here so basically what does this give you it gives you that and like if we have used two SIM card and now somebody at some point learns the key then and and and that somebody has recorded all your previous conversations now you can\u0027t go back and look at those previous conversations and decrypt them because PFS was was in effect in in those things and also if the attack you\u0027re still I mean has the key but doesn\u0027t do active attacks then future communications are also secure and then if the attacker who has the long term key is also an active attack then nothing can be done like they can they can do anything they can be pretend to be any of the parties they can they can be also be a mitten if they need to and they can determine the session keys change the negotiations yeah and yeah so that that\u0027s the that\u0027s the end of my list of these three key things here that or the updates that that we\u0027ve we\u0027ve done and like with the previous one love to get some feedback or even more feedback than we\u0027ve gotten so far and I think this at least from our aside would "
  },
  {
    "startTime": "01:07:10",
    "text": "be interesting to see this working group document again there\u0027s this window of thing for some some amount of time into the future it\u0027s not not the next week thing but for the next half a year or something like that if we have a solution in this space we might actually be able to stick this in into the next release and actually have an effect on on people\u0027s security in this sense protection from the organizations that try and spy on things and and there\u0027s some some interests from our side certainly and then another manufacturer working on the chipsets may be also interested on this so we might actually get this actually deployed if we do do it so I would love to move forward on this so that\u0027s the end of my my part how many folks have read at least one version of the ek PFS not so many but a couple that\u0027s good and is anybody well let\u0027s let\u0027s take a does uh I\u0027ll ask how many people support adoption and if anybody\u0027s against adoption so humm if you support adoption hey hum if you object to the adoption of this object to the adoption of this document the induction alright well we\u0027ll take it to the list but thanks you\u0027re thank you [Music] okay so I wanted to tell about this EAP method called EAP noob and nimble out-of-band authentication for EAP and what it does is it\u0027s a bootstrapping method for smart appliances now there are many of those but this is an EAP method and we have worked on this for quite a couple of years and we had a version 4 of the draft the specification starts to be pretty complete but there\u0027s still some things to do and then to review and document about the design process so what problem does EAP noob "
  },
  {
    "startTime": "01:10:14",
    "text": "sole well it is EAP method that is intended for deploying IOT devices or appliances out of the box when they have no identifiers no credentials and when you don\u0027t have professional system administrators doing the deployment that\u0027s just average users and what method of authentication do we use well user assisted out-of-band authentication and for example in the our implementations this has been a dynamic QR code or dynamic NFC tag and in addition to to just authenticating the device once this method also registers new devices to the authentication server so you don\u0027t want to let the user every time you want to connect to them let\u0027s say Wi-Fi network - to redo this process but but once and then we create a permanent association for that device and that association then authorizes the device in the future for network connectivity and it gives that device an owner and an assigns a network to it so it\u0027s a two-way authentication process and then trust relation that is created that is different from the current EAP methods which require pre-registration of the peer devices so here is the protocol architecture and we have as usual in this case a Wi-Fi network and with an access point and then we have these IOT appliance that would like to join the network and we have some triple a server like radio server locally on the network in in our use cases we have kind of thought that the actual server that does the authentication is a remote Triple A server maybe in the cloud maybe on site but is it\u0027s a separate you know Triple A server that implements this EAP noob you out-of-band miss it\u0027s processing and the user interface for that and okay so so what what\u0027s the point of this well we use the EAP tunnel for in band or the communication with the authentication server so that way we are actually actually the appliance is able to talk with the authentication server before it is registered on the network or register at authentication server and before it has a full net internet connectivity so that\u0027s the main trick that we are playing here and how do we achieve this well the device initially uses this network access identifier loop at EAP new dotnet because it doesn\u0027t yet know "
  },
  {
    "startTime": "01:13:15",
    "text": "what identifier it will have and then we\u0027re out the those I though that really to this special triple-a server that supports our protocol and then the out-of-band communication happens there that\u0027s why we need this kind of special server because it needs to have a UI or API for delivery of these out of nine messages so here in the picture there\u0027s a single out-of-band message from the from this appliance through the user to this UI if it\u0027s if it\u0027s manual configuration or api if the user is using it\u0027s a smartphone with add to a system and so there\u0027s just single message in one single direction that has been our design goal and that message couldn\u0027t be could be in also in the server to peer direction so we wanted to make the protocol as generic as possible and to allow both directions for this out-of-band methods actually the server to peer direction is easier easier to to get security and here is then a quick outline of the security protocol I think it\u0027s pretty obvious to now that that it will see that so first in the band in the EAP channel there is an this e CD aids keychains and that is unauthenticated at this point and then we have the out-of-band communication which authenticates the key exchange and we have two ways of authenticating that the first one is a hat including this outer band message which is just a hash of this e CD H parameters and prevents many in the middle attacks are impersonation attacks on that the receiver of that message can verify that part of the of the methods and then after that the ski conformation and for that we have another part in this out-of-band message which is a secret nonce and so these are the hoop and noob and there\u0027s that secret knowns will be used in the key confirmation step for computing max and and that gives a second method of authentication so these are kind of redundant methods about in the case and but but I\u0027ll explain soon why we have both and here it\u0027s just the names of the methods is in the spec so there is the initial exchange there is the outer pan step and then the completion exchange well this this is the protocol that takes place when you register the device and then in the future there will be the persistent Association that is created here in the key after the key confirmation and then reconnect to the "
  },
  {
    "startTime": "01:16:16",
    "text": "network rekeying happens with this reconnect exchange which may use non C\u0027s or for forward secrecy also easy the ID keys and that means the user assisted step will not be repeated as long as the this device stays stays registered and it will stay until the user resets the casillas and either at the server or the device end or actually has to do it at both ends okay so wait has to see what kind of security do we get here where does the security come from well we had this one we wanted to have a like minimal assumptions in the protocol on the out-of-band methods and so it\u0027s just one message in either direction from server to pierre-pierre server and we assume that the autopen channel will provide either integrity or secrecy but we don\u0027t require both but of course we it\u0027s I would say it\u0027s better to have both but if you think of let\u0027s say you\u0027re scanning a QR code someone could be spying on that QR code so it might not be so securely secret and then it\u0027s the only the integrity that remains the protector security so it\u0027s kind of for failure fail safety we want to have these two assumptions secrecy and integrity of the outer band jungle there\u0027s some three key case where where them so when there is no secrecy for that mess it\u0027s just one message it\u0027s almost in a flop but not quite enough so the user needs to in some cases detect the failure of one end to associate and then go and reset the other end in and and so that\u0027s a little bit more than just one message well another concern that we have had in the last year we\u0027ve spent a lot of time on modeling this protocol and and verifying its properties and then the main concern we had was this denial of service attacks by someone a man-in-the-middle attack err on the network on the inbound channel like on the wireless network who could call maybe they could cause persistent failure of the protocol and and I hope it\u0027s not I feel so powerless okay so that man in the middle attacker especially it could temper messages or it could drop messages or maybe it could prove error messages and use that for causing din our service and and we we can\u0027t avoid that but but we want to avoid persistent in our service if the attacker then goes away so here is a use case to get an idea what is this useful for so secure boot stepping of cloud manage displays and this was our initial use case that motivated the work so here "
  },
  {
    "startTime": "01:19:17",
    "text": "is a comic-strip there there is alice with attaching displays to the wall powers are one of those new displays the display doesn\u0027t know where it is it scans the wireless networks looks for support for EAP noob when he finds that kind of network it connects to that network there happens to be just one in this case and and the initial exchange for the protocol happens in the background it gets a QR code they said this is the out of hand message now the QR code shown to the to Alice and Alice scans the QR code with a smartphone which may or may not have an app so it just needs to be capable of scanning QR codes and a web browser will be then open but but it\u0027s kind of there\u0027s all kinds of tricks against the user facing type attacks so it would be a little bit better if there is an app but it\u0027s not required and then the user has to either be already logged in on the cloud server or or will enter the login credentials and that magically attacks is the device to the cloud service and and then enables network access because the cloud service now the remote a triple a server and and now the display starts in our implementation then start it\u0027s also gets this application layer configuration and starts displaying some content so so to recap this use case there\u0027s a new display device with no owner no domain no credentials for either cloud or Wi-Fi and in one step of scanning the QR code we managed to register the display device to the cloud get Wi-Fi access link the device to a user account on that cloud server and we also managed to export URL and key for application layer bootstrapping off of that whatever the device is supposed to do like display some web content and the display device here was output the router will be message as a URL encode it into a QR code but the display device has no input so that has been kind of our idea that well you have to be able to reset it in some cases if it doesn\u0027t start but but apart from reset button it doesn\u0027t need to have any input just just a display obviously has output and the user has the smart smartphone and then what we need to have in the background is that the remote Triple A server is configured with that well the local police trust it for authentication this EAP noob not met any eyes and and also in this case the the multiplayer server is integrated with the application level display man it\u0027s been serviced and here this still shows the same comic with the protocol steps like the initial exchange "
  },
  {
    "startTime": "01:22:18",
    "text": "with EC the AIDS happens in the background then the outer band message is shown the user scans it it\u0027s delivered as through the URL to the cloud server the if it\u0027s a web browser the user here needs to check that it\u0027s the correct cloud server that that she has an account to and then log in and then there is the final key confirmation that happens and again in the inbound channel without the user noticing anything so now I have a long list of of some kind of design details and issues here and selected some that that might be of interest so maybe the the obvious thing is to say what is in the outer plan message well there is an identifier for the period that\u0027s a server allocated identifier that just helps the server to to know with which messages it belongs to which peer and then there is the two two fields noob and hub and the noob is the secret knowns and Huub is the has of the ECD age parameters they can all this can be encoded for example and any respect week so an example how to encode it as a URL and that\u0027s a important thing to know that is a dynamic URL so it will change for every after every initial exchange it will change so let\u0027s say if it\u0027s a display you configure it might change every minute or so and so it can\u0027t be a printed QR code it\u0027s a dynamic QR code or dynamic NFC tag and in this noob is the part that requires confidentiality and hope the part that needs integrity and one of those is enough to get say I get security here well when we create we create this persistent user association so we don\u0027t want to repeat this authentication and this is kind of one place where the the method differs from typical EAP methods that you have some method of authentication and you keep repeating that but we can\u0027t do that we can\u0027t trouble the user every time the the device gets disconnected from the wireless network so we must create a persistent Association and then basically at all cost avoid returning that out-of-band step and authenticate with this association that was created we are allocate we need to allocate some identifiers to the peer that is not necessarily visible to the user at all but within the protocol that Pierre Mars now for this this persistent Association it must be given an identifier and when we assign identifiers we need to think about things like identifier squating so we "
  },
  {
    "startTime": "01:25:20",
    "text": "can believe any identifier that Pierre gives us or we shouldn\u0027t choose identifier that the attacker can can somehow steal from us and use and prevent Pierre from associating and the way this has been sold here is that the Pierre starts initially in the initial exchange as anonymous and then the server allocates an identifier to that Pierre and allocates one in every initial exchange and then eventually one of those initial exchange this succeeds and usually the first one obviously but but if there\u0027s something goes wrong we may repeat it several times and then that identifier died of this that leads to the successful hoby step and and completion then remains the peers identifier for that server the device can additionally send in this protocol as there\u0027s a peering fulfill it can send some other information about its capabilities like its brand and type and so on but that information is something that is authenticated in the sense that it is sent by that specific device but it\u0027s not authenticated in the sense that user has to verify that that the device itself is not lying English if you don\u0027t trust or all your IOT device it\u0027s not to lie so if the device stays I don\u0027t have a camera it might still have a camera unless you you really look at it whether it has a camera and maybe some cryptographic assertions could help in this kind of case to check what capabilities it has well the Association we obviously in the use case we used it for bootstrapping application security so that method can export keys to the application layer and we also have used it to convey initial application layer configuration to the peer although I now realized this during this meeting that that we actually need to clarify how to do that and then maybe make it clear in the spec and if you compare this with I mean to me it\u0027s essential that we bootstrap the application security with the same step because that was our in this celebrate that when we configure these devices like this place you often have to first enter wireless credentials tediously to to a IOT device and then configure some cloud credentials for connecting it to the cloud picture they have network access and then the cloud connection and if we skip one step here then we are kind of only halfway through roaming support is something that was in a previous ITF meeting that I attended suggested by the Eddie Rome people and and we certainly can do that so that device is configured in your home network and we have added this option for the server to send a list of SSID so "
  },
  {
    "startTime": "01:28:20",
    "text": "that in a distant or instead of the SSID where you currently configure the device you know that you\u0027re persistent association will be valid also on this other edge society it\u0027s so for example if I configure the device on my University Network then it would store the the association would also be valid for Eddie and the server\u0027s can allocate a real them for this purpose for the device the wireless network selection here has has kind of troubled us a lot because we thought about the displays that should not have any user interface at all so we didn\u0027t want to select so if you if you have a one button on the display that you can use for selecting the SSID to which you connect it that\u0027s that solves the problem and most implementations probably would do this but it is actually possible also for the peer device tool to scan the wireless networks for one that implements the AP noob and way the server supports it and then perform the initial exchange and then just whichever server first completes the exchange with that peer then winds ownership of that device and then peer connects to its net to that wireless network the one thing that we have had to give a lot of thought to is this possibility of multiple out-of-band messages being in flight at the same time and there are several cases where this may happen so they could be just at if it\u0027s a display that and there\u0027s code changes every minute user may just scan two different codes or if it\u0027s a printer that prints those coast codes that says it\u0027s a things like those papers just lie around and there\u0027s lots of them around and one of them eventually gets delivered to the to the server and another case where you have multiple messages in flight is that the the we support both directions peer to server and server appear for the out-of-band methods and and never thought that that anyone would want to support both directions but then out with when you think about it someone might be crazy enough to implement the device that allows both directions that the protocol allows both directions fir\u0027d normally would think like output device outputs outputs a code and an input device inputs a code but but sometimes the device might be able to do both and the protocol supports that case as well and then as I mentioned in the previous slide there could be multiple users delivering other men messages to different servers and and with with behind different wireless networks and and they compete for the device and we\u0027ve worked out these different cases of multiple messages in flight and verify this - to check that that there is no no deadlocks caused by by these "
  },
  {
    "startTime": "01:31:20",
    "text": "another kind of for what has been quite interesting for me as a security researcher to think about is this crypto suit upgrade issue so that is that is of course an event that happens very rarely but since we we decided that we don\u0027t want to bother the user to redo them out of pen step again in any case where we can avoid it we wouldn\u0027t want to bother the user even when the crypto suit needs to be updated and the so the normal solution when you update let\u0027s say signature the crypto algorithm for signature keys for someone\u0027s credit and so see also is your new certificate and that\u0027s a kind of administrative process and a human you is involved in that or some some another layer level of credentials for deploying it but we don\u0027t want to do that so we want that\u0027s why in the reconnect exchange may negotiate a new crypto suit and update the persistent Association keys but this leads us to the really interesting stuff where the crypto so that update might fail but it might fail so that it fails for one end and succeeds for the other end so the issue here is still if the if you are doing a crypto suit upgrade in the reconnect exchange and then the last message which will be the final EAP response that is dropped the pier will move to the new crypto suit because it thinks all is ok but the server will never receive that final message and it will keep the old cryptic and that is kind of an unavoidable problem in a distributed system that you can never reach this consensus about are we in the new crypto suit or not there is not guarantee can\u0027t you know we can\u0027t design a protocol that is guaranteed to reach such consensus if if the messages may be lost but but the way we solve this is kind of make the peer responsible for the upgrade and the server just moves the new one and when whenever it you know if it gets the final mess it\u0027s if it doesn\u0027t get the final message it stays in the old one and the peer is willing to roll back to the old one until it receives a confirmation that the up server also has been the upgrade for that association and when does it get that confirmation well the next time it does rekeying so if it if the if they if the synchronization failure happens obviously the peer cannot connect to the to this network and then it tries immediately to reconnect and that\u0027s when either they will the peer will discover the servers in the previous crypto so it or it is in the new one and then it only "
  },
  {
    "startTime": "01:34:20",
    "text": "keeps that one and there although all the attacker can do is it can again drop the final message and then it\u0027s the but if the attacker eventually goes away then the upgrade will succeed but this was kind of fun thing to to model how this process works one note about the isolating the peer devices so the so if you think of devices that connect to connect to this wireless network and and you you let users configure new devices and connect them to the network well they might connect all kinds of devices to it and especially like any out-of-the-box device that supports EAP new band and buy it from the shop and and just that that\u0027s it to your local network also we in some in our use cases we delegate the control over this network access to some cloud server which may be provided by a third party so if it\u0027s not your own own remote authentication server but but some external service then yeah kind of trusting access to your wireless network to them and obviously corrupt devices IOT devices might leak the network credentials I\u0027ll let anyone on your wireless network so we think that it\u0027s quite quite very important to isolate these devices to a virtual LAN and that so that they don\u0027t get in touch with your regular hosts on the network preferably isolate them from each other as well but the current access points and and radio servers don\u0027t really support that speed source as far as I know but we\u0027ve managed to implement it on on open open source radios and open wrt access points well this is the this is not something we can solve in our protocol and and it applies to all kinds of IOT stuff but but I just thought it\u0027s something to keep in mind because it\u0027s probably like that one of the big security weaknesses of doing such device associations for software requirements I just want to point out that the implementation is now on this remote remote Triple A server and on the IOT device we have implemented those in UNIX hostapd and WPA supplicant but access points don\u0027t need any changes and the local triple-a server only to only need some minor configuration changes that is routing these specific requests to the remote server maybe I skip the to-do list it\u0027s just some what we need to do next and then summary of kind of well what was the solution what is it that what was it that I talked about well why would we all they would use EAP "
  },
  {
    "startTime": "01:37:22",
    "text": "for bootstrapping devices well the trick here is that the EAP allows us to do the inbound communication with the north indication server in the back in the network internet or on your back in network before you have network connectivity and thanks to that the autopen communication can be one short message and in any if you don\u0027t use have this kind of if you don\u0027t use the EAP tunnel you usually have to communicate much more information and then the out-of-band messages in our protocol is designed so that it should should get either the outer band channel should provide either secrecy or integrity but but if one fails we are still ok and then kind of you can ask like we get this magic attachment to the network with with just scanning one QR code but what\u0027s the cost here and of course one thing is that we need EAP and and Triple A and that means WPA enterprise so not passphrase networks and then the main thing is that the network had been has to choose ones that\u0027s authentication server so the network administrator makes this choice for you and in this one network you can attach devices to one authentication server there\u0027s some comparison to other methods I won\u0027t go through these but I\u0027ll use this slide to answer questions if someone points out these questions about comparison and there\u0027s a link to the draft and then finally what why am i presenting it at the email working group well the we we don\u0027t have a working group that would be suitable for this draft at the moment and I would like hope that if the mo is recharter then maybe considering included EAP noob in that charter and also it would be nice if we can use the working group kitten and further editing the draft and the issue tracker so that it would be a little bit more public and we could get external contributions to it okay that\u0027s all questions hi great presentation I could almost borrow all of your slides except for a handful for the next one but I won\u0027t that I think actually we have a there\u0027s a side meeting I told you about tomorrow 6:00 p.m. it\u0027s on the side meetings wiki and I want to look to address like there\u0027s a series of IOT onboarding work that\u0027s going on across the organization and and so I want us to get our hands around all of it but I would definitely support if it\u0027s "
  },
  {
    "startTime": "01:40:24",
    "text": "possible to use the EMU working group wiki to track issues here with us and I look forward to working with you to try and find the common architectural components on these okay I don\u0027t know if we can use the email working group working at this point cuz they\u0027re not working with group items but there should be some way to do that somewhere Eric nor mine yeah this is very interesting and I ain\u0027t think I have other use cases from the output devices just an LED that can blink but you can have your phone receive that stuff somehow one question I had was so can you do mutual authentication can you authenticate to place or wear this as well as long as the device has some credentials it knows it\u0027s gonna talk to you whatever ap - new whatever right if it had you start something that already exists in the software you have CNA which connect can the device did be authenticate the Triple A server yes so it is mutual authentication the device is authenticated as a physical device it\u0027s the autumn identity of the of the device is defined by which device where the user reads or writes the out-of-band mess it\u0027s it\u0027s a physical device that the user accesses turn that part but the tree server as well people a server so here the user is assumed to have some way or secure channels that he plays or it could be of course physically if it\u0027s a home network and some device hub at home but in my our implementations it is the remote cripple a server in the cloud where the user has a user account or user uses their organizational account sure logging into that online server and then the device is not only associated with that specific Triple A server but with the users user name and that\u0027s the exchange between my cell phone or whatever I used to scan the qr-code understand that part I\u0027m talking about niche EAP exchange whether that offers mutual authentication in this case yes so this is this fact that the user has this secure channel to the Triple A server it does authenticate the Triple A server to the device so basically the device in our use cases they take takes that to follow up on that because I\u0027m with him you mentioned on one of your slides that if you don\u0027t know which cripple a server to talk to you just talk to them all yeah now that is conserved now what QR code do you present at that point because you have you have three you\u0027ve got two evil triple a\u0027s that you\u0027re talking to and the real triple a and just h1 do you presume you know I understand fully that the user is going to go to you know my company that I trust and and paste in that QR code and "
  },
  {
    "startTime": "01:43:25",
    "text": "that\u0027s great because that then the guy then the peer knows which one of those three it was because but still how does he present then it\u0027ll play well the display shows them so these three codes and if the user somehow is trick to choosing the wrong one then it doesn\u0027t really do anything well there\u0027s no baby because he because it\u0027s the correct server that you\u0027re delivering it that\u0027s the important thing but but I mean this will have the the cure code has but in our case we write the text there the base URL under the QR code right so let\u0027s see the display our display would rotate two or three cure calls with the base URL under it you choose the one you recognize I think we should probably move on to the next is a quick question I have a quick question I love this idea very much and very fortress process for users and is there any requirements for like IOT vendors to develop in the device the device itself like just display the QR code yeah so the implementation it\u0027s it\u0027s it would be the sort of like we have implemented the Linux WPA supplicant so it\u0027s the EAP supplicants I module but actually you\u0027re pointing out to the tricky part of the implementation which is integrating the EAP by layer layer with but you haven\u0027t been abducted hi Elliot your last meeting Owen presented on something that we\u0027ve been tossing around which is to take the brewski work that\u0027s been done the bootstrapping key infrastructure work and apply it into eat so problem statement it was pointed out that maybe we didn\u0027t do as good a job on a problem statement as we should have in the previous presentation so these are basically a couple of reasons why we went there and I\u0027ll set this through in just a handful of slides this is a very short presentation the the key issue is that we need a trusted introduction between a device and local deployment absent that trust an introduction device is going to join the wrong network or they make it they may do so either out of incompetence or malice depending and I think everybody in this room understands that problem brueski provides for a truss "
  },
  {
    "startTime": "01:46:26",
    "text": "city introduction and it\u0027s a certificate based method at this point and it also relies on a third party which is to say the manufacturer you go out to the internet manufacturer says I you know device has got a I\u0027ll explain the flow in a minute actually so I\u0027ll go through it once you have a trust anchor in brewski you go and you do an EST transaction you got yourself a local deployment cert and both of these mechanisms assumes some amount of network on ik TV really it\u0027s internet kind of really that\u0027s not only network connectivity via never conductivity of the device but it\u0027s also internet connectivity as it turns out in terms of brewski and you just don\u0027t have the network connectivity in 802 11 obviously it\u0027s a you have a chicken-and-egg problem there and so of course we looked at eat for the exact same reasons that the new folks looked at eat we thought was pretty cool and for the exact same reasons and in fact we thought t p-- was even cooler because it covers a fair amount of this ground already and it just needs a little bit of tweaking keep tweaking so here\u0027s an eye here here\u0027s an eye chart for you this is actually on the materials page units look at this this is the basic anima flow where you establish what we called provisional trust it\u0027s directly analogous to what noob does in many respects and what you do is you go through in a transaction in which you go where essentially the local deployment which is the switch and the registrar really the registrar goes and asks the manufacturer is this one of your devices the manufacturer would say yeah it is or no it\u0027s not and it\u0027s essentially sign a voucher request which you know then gets returned as a voucher which the pledge can then use to say yes okay i should join this network and here are the credentials for that network and then you go through and EST transaction again yeah this problem which all that was IP based s-- worked on an anima group and so we have a little problem there if you don\u0027t have IP connectivity yet so what\u0027s the idea shove the whole thing into each flow I am NOT going to go through the Holi flow today you can read the draft but the basic idea is that we\u0027re you know we\u0027re leveraging eat teep we\u0027ve created just a handful of new TLDs that one would use to do this and the differences between this version and last version is that we\u0027ve created it even a handful less than we thought we needed in this version and so we\u0027re trimming down and so we the the other the other difference is that we actually documented out all the tlvs that we think we need and I added a Ayanna considerations to match the the flows themselves have been updated because in the process of "
  },
  {
    "startTime": "01:49:26",
    "text": "defining anity all these that\u0027s how we found out you can piggyback messages and Eve isn\u0027t that so lovely so let\u0027s condense here and here here we have and so obviously if you look at the security sick you know consideration section it says TBD which means we\u0027re nowhere near ready for adoption we\u0027re working group adoption we\u0027re just we\u0027re just not there yet and we think there are some in the process of doing this draft and there possibly and also the process of looking at new and in the process of looking at DPP as well actually we think we\u0027ve come across what we see as some architectural questions and so one of those is that there there seems to be we see challenges around the sorts of deployments that need to be accommodated in terms of credentials that they\u0027re comfortable using versus the capabilities of the device in terms of the credentials that they can support and so in the process of going through all of this I\u0027ve attempted to to identify a few architectural building blocks and I\u0027m only going to tease you by saying that I\u0027ve done that but I\u0027m going to present it in office area working group and then I want to talk about it at a side meeting directly afterwards tomorrow night at six o\u0027clock it\u0027s on the side meetings wiki and so at this point in time we\u0027re not asking for working group adoption for one thing I would like to look across the five or six different working groups at this organization and then five or six organizations that are looking at this entire problem we\u0027re seeing fragmentation because of this and to just take a step back for a moment pause take a breath and say what are the common architectural components what can we do to to maybe reuse some of those architectural components as we evolved all these mechanisms into the future so this is more of an advertisement than than than anything else please come to the ops area working group tomorrow let\u0027s have a bit of a discussion there about this I\u0027ve got about a half hour to talk about all of this I\u0027ll try and speed talk a little bit even in that so that we have more time for discussion and less time for Elliott blabbing on and then please come to the side meeting tomorrow evening it\u0027s an apartment three on the ninth floor we only have a 12 person room but that\u0027s okay I figure if 100 people show up we\u0027ll just switch rooms with someone or have the meeting in the hallway like we usually do that\u0027s it questions comments Danny may speak Dan Harkins thanks Elliot I have a few questions after reading this so does the device need to respond to the eep identity requests with any sort of adornment to route it back to the right teep server or is it just assumed that there\u0027s always one teep server for every Authenticator "
  },
  {
    "startTime": "01:52:26",
    "text": "we haven\u0027t even that\u0027s it\u0027s an issue that you\u0027ve just raised and the draft hasn\u0027t even gotten that far okay but it\u0027s a fair question and I see no reason to adopt the exact same that\u0027s the method for instance that the new people used okay in fact I like that idea can I steal it Yusef just provisional TLS connection and that\u0027s going to be completely unauthentic ated so it doesn\u0027t provide any security over just sending the the brewski voucher request and getting a voucher response in the clear right so it why don\u0027t you just make instead of hacking teep just make a brewski and send a voucher request to get a budget response or in Arabic Oh so essentially brueski does the exact same thing and what the way that the provisional thing works is that you the the what you have to do is by the end of the transaction you have to have been able to authenticate the beginning that you have to have been able to authenticate the credentials that were used in the in the beginning if you if at the end of the brewski transaction you could not have you have not received the appropriate trust anchor then then you throw away the whole transaction is the is the way that that it was but if you\u0027re gonna be doing brewski after you get your voucher back anyway then no no that was one of verifying the your previous provisional so the way that I I will go through the flow if we have a few moments okay so the basic idea here so the basic idea here is you start with your pointer on the sky so there is okay so essentially so here\u0027s where you into your provisional trust state right yes okay and at this point we you at this point you have no reason to trust which is why you\u0027re in that provisional trust phase in fact that\u0027s a really good signal that that says I need more trust let me go do some brewski or something like that and so you end up doing a request voucher I think we might even be able to nuke that guy but I\u0027m not sure you you end up doing this request voucher then you get a then you get a response at this point in time you should be able to have validated the the server hello if you\u0027re the client right at which point you\u0027re no longer in provisional trust mode so I won\u0027t claim to be the perfect expert on this trust model that\u0027s the work of Max Pritikin and and Kent and Michael Richardson but I\u0027m essentially borrowing that model wholesale so what would happen if you just did brewski vote request voucher but request for voucher and then brueski voucher the bottom if we just did this "
  },
  {
    "startTime": "01:55:27",
    "text": "part here no just the bottom two right three four there\u0027s three and four these these guys three and four so we\u0027re relying we\u0027re I think we\u0027re lying on the confidentiality properties here at least in again in a in a provisional way until we get back the cert and if we don\u0027t if we don\u0027t have if we don\u0027t have a confidentiality we\u0027re gonna need some other mechanism for that okay but you\u0027re still systems like a man and middle attack so you\u0027re confidentiality is until and you I mean you don\u0027t have the proof of the content that that that you haven\u0027t been men in the middle until you get the the the the trust anchor once you\u0027ve got the trust anchor then you know you haven\u0027t been mantled I\u0027ve got a couple more questions Brian was just a clarification the provisional sanitation part is actually only on the client side so the server side is actually assuming we brewski assumes the server side can actually has the trust anchor he needs to validate the device so it\u0027s just a device ID that\u0027s the brewski model is defined by animus so I some I didn\u0027t understand some of these flow diagrams because EEP sort of locks that protocol and you have sometimes people sending the server sending two messages back like a ah these are attributes and I mean so the idea is that those will be in the same eat message it\u0027s just additional TVs yes don\u0027t see like TVs and then so my final request then is that you\u0027re overloading like a pkcs ten TLV and the csr attributes TLV by sending a zero length i guess so instead of that could you just use the request action TLV and and use the action field of it to say you know like begin brewski instead of sending an empty pkcs ten which is kind of weird for the service the PVC is ten in the first place okay zero length it\u0027s sort of like the semantics of that are what sure we can we could absolutely adjust that but let\u0027s talk because um there\u0027s a lot of room this draft is is drafty as drafty can be even in its second iteration so we have you know we want to tighten up some of those flows okay so max Paula Kim believes I was actually thinking about they will trust model etc without rest anchors it will not work because if you seek secrecy or you know of the parameter you pass in the best you have a man-in-the-middle you detect it afterward the secret is no the confidentiality is already compromised so so I\u0027m gonna refer you right back into the anima draft which goes into great detail about all of the security "
  },
  {
    "startTime": "01:58:29",
    "text": "considerations of the mechanism okay well I think we are almost out of time so I\u0027m asking this question could the chair as an author it should be fine to use get even for individual drafts we don\u0027t have any strict policy on that I mean I don\u0027t know we should discuss I mean I would prefer to keep the archit account for our you know for official working group items and then you know I mean it\u0027s easy to create a good account weekend hub account right and so I plan to take this up in you know separate context so I think there\u0027s an it\u0027s important that the new draft have a place to do that and also this one as well if it\u0027s not with you guys then we\u0027ll sort that with the you know I\u0027ll talk to some of the iesg members to see if we can find the right place and I\u0027m willing to discuss that too it\u0027s yes you know this is a solvable problem I wouldn\u0027t worry I\u0027m quite certain we can solve this one all right that\u0027s it for now so don\u0027t look for adoption any times you know any time yet but we want to have this architectural discussion please please join it so it\u0027s just one more question about you know the adoption we saw they several proposals right going the same direction we had some messages from the last meeting helped us ship the existing items review epls W eBay K once they are shipped we will have space for each artery so we\u0027ll have to wait until those items are oh you can be very fast if you review them tomorrow you know we can move this [Laughter] [Music] "
  }
]