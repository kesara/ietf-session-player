[
  {
    "startTime": "00:00:17",
    "text": "I have texted John to see if that helps yes and I actually remember I have status so I think I'll go ahead with uh status here in just a moment others John okay so I'll go ahead and start right on time uh we're missing G it looks like it's recording so we'll just go ahead welcome this is an interim for IDR I'm going to go through the administrivia and see if we can work through things this is the note well if I look at everyone in the list I think that uh uh everyone has seen the note well before or helped modify it so I'm trusting you know that uh you should reread it uh welcome Russ um so the agenda bashing I'm gonna go through a chairs report and slides that'll be the first minute then we're going to go through a car and CT section where I go through a progress report the progress report is mostly I finally finished the Forum 3 report and then Jeff is going to answer questions or on procedures for uh route bgp routes with color this is the diffract we thought we might have some more additions this morning but uh they do not appear to be ready so we'll"
  },
  {
    "startTime": "00:02:02",
    "text": "have more of that at itf-115. the next topic um is uh John Scudder will be doing the entropy label uh excuse me let me take a step back the best chairs a while back uh when we swapped to three chairs which will tell you how long ago mentioned that it would be really good to uh provide us more guidelines on the bgp next stop so after we hit the draft scuddered IDF entry fee level we had a useful discussion maybe John and Bruno have come to some merge solution that is good care will present the draft IDR bgp attribute announcement and then care is going to give us a little summary of lsvr um I am queering and going to take a a moment to ask folks if they know anything about what uh the best chairs were interested in with uh asking us to help with bgp Next Top changes in the meantime between now and itf1 115 I hope to meet with the best chairs and get that information Kali Raj uh has a proposed set of information on IDR multi-hop next attribute are there any other things that you'd like on the agenda and I see Jim with a hand raised maybe not he seems to have gone off did I miss that in the queue Jeff or do you have anything else"
  },
  {
    "startTime": "00:04:03",
    "text": "I have nothing else I'm just leaving my microphone attached with Mudan to be able to speak fast let's see that looks like I'm back then I'm gonna go ahead to the chair status I've been sending Delta status out I'll send this information out as well to the mail list today we have uh since the last interim we've adopted uh three drafts uh draft Jang uh idrts flow spec V6 srv6 policy uh the next steps Alvaro you'll find a request for me I hope in your email if not I'll send you another one today uh if you don't have it just send us a note in chat um on whether this should be standards or informational there are four Implement people who've followed this policy uh and so they could go immediately to work in group last call drafts Scudder uh bgp entropy label was merged with draft IDR Next Top capability draft spaghetti deprecate 8 9 10 was adopted to keep the registry cleaned as we feel those that was useful but we're not making any other additional statement on punishing or going after folks we just think that it's important to keep the registry uh appropriately clean uh there are still drafts in the adoption process draft done by IDR 5G Edge service metadata received enough in uh desires for adoption but there's a"
  },
  {
    "startTime": "00:06:04",
    "text": "second Ken buff and the Ada's weight is asked us to wait for the result and John Scudder is leading that bar is the 80 for that buff and I believe Linda is still leading that off is draft of issue draft dung idea no target excuse extended Community is in adoption from now to the 19th I've extended it because apparently I did a poor scheduling job and uh schedules it in the middle of uh Chinese uh golden week that's like uh sending it during the Christmas holidays in the U.S and then I've started a working group adoption call for Haas idea diffract zero now I'm going to go through the key points from draft John IDR node Target extended community I had three questions in the call will this new transitive and extended community help operational networks uh what conflicts do you see with other functions and do you have any concerns the concerns raised were withdraw handling priority between NT and RT and RTC and uh what happens if a PE and an RR with this are on the same node I'm sure there'll be good discussions in the mail list there have been a note that several people were interested in deployment SRV 6 networks Jeff tensura indicated this might be useful in data centers and the benefits that are look for are reduction in policy distribution the implementation concerns were post"
  },
  {
    "startTime": "00:08:02",
    "text": "update filtering that is not as standard uh defined in Roc 4271 so that's where we are with the call uh we'll continue to discuss that on the list but I thought I'd at least bring you up to speed any questions about the status uh go ahead agent um and hello Jeff am I failing to do something as a chair to get him to be her I can hear you and I can hear him okay and I uh you're not your agent very well okay we'll go ahead without me go ahead agent uh so I want to uh I want to know how to afford the our of the VPN preview or I think we have ah good yeah good question I still need uh that is the one um uh one piece I have not written up the results on so agent I hope to get to that by Saturday evening and I will send it to you first and then send it to the mail to the working group so thank you for your patience um I have been working but I did not get that one done and you are correct I did leave that off of the status I will add that thank you very much yeah yeah I want to say that we have update the charter again and uh the update content have addressed the concert uh still in the adoption call so I think you can review the most recent"
  },
  {
    "startTime": "00:10:02",
    "text": "draft and I think yes you put yeah I think if if possible we can discuss it at the an Ito media physical face for the possible first problem okay yes I will be at ITF 115 and we can talk about it there but I do not have uh any additional feedback right now I still have to finish my chairs review uh and uh the chairs will talk about that again at uh our meeting tomorrow thank you for reminding me I meant that I really appreciate it I'm sorry I missed that thank you thank you anything else uh before we go into the next slides so if we're working through document status uh anything for this set is that I had intended to put out a working group last call for B2B Long Live Grace will restart starting earlier this week but I had some work travel that unfortunately interfered with it and that should be happening starting probably tomorrow [Music] awesome um I look forward to that I'll add both of those to the IDR status Wiki I believe the status Wiki is up to date with the time frame for agents and Jeff when you do the call update the status Wiki folks I try to keep uh I try to keep the status Wiki updated okay um will anything else any other comments on our status or on the agenda okay I will go to the next slide just a minute"
  },
  {
    "startTime": "00:12:12",
    "text": "foreign so um This Is Us in a series of uh presentations I finally uh got to the a summary of the issues raised during adoption I've got the general high-level presentation that we did at it ITF but I've now sent out to the working group a list of the operational issues this list includes um working through a long list of issues I believe G loaded with the materials uh this long list but I'm going to go through it so let me first just uh note that when we got to 829 there were some comments about new nlris uh and support for V6 this is what the car folks said they were addressing first in the GitHub and as a reminder uh this is where the uh CT now let me go through the issues these are the issues that were raised there were six issues raised for CT"
  },
  {
    "startTime": "00:14:01",
    "text": "the detailed list that I sent out yesterday both in email and in uh put on the wiki has specific descriptions for all of these and I ask only if you have any questions the long list is for the authors to try to improve their documents so we can get to working group last call quickly there are uh the issues for CT there are the issues for Carr uh the issues around CT uh are listed here on the left with Safi scaling CT and RTC NRI format and these are the titles of the mail list sequence the descriptions give the actual that I sent out give the actual things that should be loaded to GitHub these are the car car appendix A7 bgp car consensus on resolution screen handling of LCM car routing and non-greening domains and up packing now the details give enough for the car and the CT folks uh to actually have some action items they've been reviewed by both the car and the CT editor teams in some of the cases we had work issues raised by the working group uh sure on uh raised a really good issue on new address family genong as he ran raised a good issue on support Bruno has uh some really really good discussions on differences in scaling and uh can ketan uh"
  },
  {
    "startTime": "00:16:01",
    "text": "um mention things on intent for service and Jeffrey uh talked about some implications of uh CT and Carr one thing that was extended from here are some of his comments where other domains could be connected to bgp that might have been an extension by the chairs but it was a useful topic raised uh swadesh mentioned something on what are the pros and cons on Route targets and there's a compatibility of bgp CT and car test srpc and of course scaling and that's one of the concerns that seems to repeat over and over some of these issues in their details may be um extreme details now what's important here is that the team the editors will be in charge of resolving these things on the IDR GitHub the RDR GitHub is listed uh on the idea uh home page you go to the top and make sure you find how to get there you can add lists to the GitHub if you have a data tracker if you have any problems contact Jeff I or care and we can get you into the idea GitHub the GitHub methodology is being used so that we can track comments made on the list uh the resolution that the chairs think needs to be done and then what changes are made to the document that will give us a point by Point discussion on the document we've used that also for ID R's work on Flow spec that was on a private GitHub because we didn't yet have the"
  },
  {
    "startTime": "00:18:01",
    "text": "IDR GitHub Kristoff said helps us set up for that the authors that I work with on the flow spec we were revising the spec we found that to be very helpful so we uh have and I mentioned that experience to Jeff and care or who are very frequent with GitHub use in their businesses and we agreed that an IDR GitHub would be useful in this case are there any questions about uh the document I sent out or the uh process we're going through with car and CT Jeff thought this might be a a quiet time I will give you a few more minutes I'm going to remind you this is what car said it was this is what DJ and swadesh said the first thing they thought though the working group could help with current version updates and Sr flows updates and filtering mechanisms and input on use case one of the things that we'll need here and I hope Bruno and Chuan and Chin running ketan and Jeffrey in Swedish we may need help with the scenarios that were described there and in the detailed uh list for these issues some of them I have noted that a chair and another and the original um poster will need to work on getting a clear operational description and so I hope uh I can count on all of the posters to help the chairs"
  },
  {
    "startTime": "00:20:04",
    "text": "come up with a good solid uh use case topology description for the uh authors to work on okay Jeff uh TT's first thing now there is one thing with CT in my review some of the comments that are working on are looking at it had to do with the the applicability of the Sr routing architecture to non-sr work and it's architectural uh link to things which are not srv6 in bgp I've called that out separately and asked the CT folks to try to describe what they think should be the limits on that there's also a best srv6 best Services there seemed to be some discussion on where is the uh how is the SR architecture predicting the future and I will try to deal with that as a separate item uh and bring that back uh to the ads and also the spring chairs and Best Chairs any questions okay I think I'm pretty much done Jeff has the interoperability document it's now in working group adoption the next comment may be quick in that Jeff is just going to I think take questions so uh I will then uh hand the presentation time over to Jeff"
  },
  {
    "startTime": "00:22:03",
    "text": "okay thanks Sue um two quick comments uh the CTN card documents both have GitHub spaces uh allocated uh the CT authors have uploaded theirs uh and swadesh please work with Kayer to get your document uploaded that will be part of the important part as we go through the review portion of the process and as we start flagging issues uh the seed the conversation for the next portion of the interim where we talk about next top types I'm going to be partially recovering the information from the diffract presentation that we had last interim so this is not meant to be an entire review of things so I will be speeding through several of these things uh just to hopefully get to the important things for the interim today so as a reminder the diffracted documents there to basically say here here's how we could actually do some flavor of uh interoperability between car and CT using each of the their native formats and traversing more than one domain that is covered by each of the different proposals and the two sort of key details is that we're covering the forwarding behaviors and that will actually cover most of the presentations that follow here because most of these things are about how do you handle packing your Next Tops along with you know forwarding information like labels Etc uh SIDS and the second detail is of course now how do you map between and Laura Keys between each of the proposals so again quick reminder and this ties very deeply into the presentations as we move forward you know each of the proposals have you know some uh support for the Three core behaviors that we're looking to take forward uh standard label Stacks just like Lu handles uh Sr using label"
  },
  {
    "startTime": "00:24:03",
    "text": "indexes and srv6 the srv6 is worth I think additional flagging because is Sue was flashing for one of the issues on uh that CT had raised the RFC that came out for srv6 with transposition didn't exit the best RFC process without some level of controversy you know basically if a Next Top gets reset there's a possibility that the transposition label you know may no longer match up with the underlying you know B2B path attribute in cases where the system's Downstream didn't necessarily understand things and this fundamentally is a Next Top scoping issue very similar to what Bruno had raised as we were working through you know the bgp open policy stuff and what do we do in cases where uh we we exit a given zone of comfort and also this overlaps the situation that we have for the entry label RFC the original RFC that went out had exactly the scoping issue and that was exactly what deprecating things was about the Juniper ELC V2 which was shipped in Jupiter internal code but did not have a matching ITF document addressed that issue by basically being a breadcrumb inside of the uh path attribute and John and Bruno would likely talk about this later and uh the next stop capability feature has a similar set of you know discussion points about how do you resolve these things and the scoping of that I'm sure will be covered in that presentation okay uh so for the MRI Keys just as a brief reminder in car we have uh two pieces of stake that are involved a prefix and a color and for CT we have a prefix and a route distinguisher you know being an"
  },
  {
    "startTime": "00:26:00",
    "text": "operational construct and the key detail for these types of features is where's the color in the case of bgp car the color is part of the MRI and that is the original intent and it's possible that if the domain changes such as the original tent can no longer map to the effective color due to mapping reasons within that domain a extended Community is used to carry that behavior in the case of CT it always lives in the extended community okay so what are we talking about for interrupt type behaviors and again I'm not going to spend a huge amount of time on this because what we're trying to get to is discussions on forwarding behaviors you know you know for a given you know bgp route you know in the very formal sense a prefix for or another I whatever that happens to be for your given Fe safy and it's pairing with the path attributes can be mapped from one mechanism to the other the answer is yes we can do that mapping but it requires some level occurring of breadcrumbs State between them and you know color is obviously one of the things uh the original intent idea in a card going into CT is one of the things and vice versa and how this gets mapped quickly uh so this is an example of passing between multiple domains as one of the use cases we'll have to discuss continue going through this very quickly so the mapping Machinery here is largely being done in the format of extended communities one of the things that is a update to the document that needs to be made is that carrying the original route distinguisher will require if it stays an extended Community format you know three mappings because we have three common extended communities for these things um the critical detail here is this is the"
  },
  {
    "startTime": "00:28:01",
    "text": "state that needs to be mapped and if extended communities don't end up working fine they can go inside of a path attribute this is again just a mechanism for carrying the information to sort of push and pop the state as you Traverse one domain to the other and we're only ever looking at one set of things now theoretically we could actually do something very similar to what the addresset can carry but uh you know the the actual detail is the point to refined now the procedures in terms of what we're doing looks they give you your path attribute is a discussion point going to bypass the slides covering uh the individual mappings the critical thing is that as we go from one domain to the next n maybe repeat that through several different Cycles consistency of Route selection needs to be preserved so when you're inside of a car domain you know the routes that you may have learned from CT need to compare you know equally and vice versa and this means that we have to have consistency in what the Handler I keys look like as things are remapped no over multiple processes I had discussed in the original presentation again leaning towards the discussion of what do we do about forwarding behaviors uh if we were to have something to look like a merge solution uh RDS have enough space to carry a color so you know this is one thing that we can potentially look like it is a way of carrying both you know car original intent you know for operational cases where that's the desire or CT style operational intent where you know the endpoint devices or what the operator is interested in you know both can fit in something looks like an RD and you know the presentation gives it there was some sense that it already can actually accommodate a color as well with a new code point and of course the question really is about forwarding and this is our lead off into the"
  },
  {
    "startTime": "00:30:02",
    "text": "discussion points for the later pieces of uh our interim here so the observations the current authors have made on CT is that mandatory labels may be inappropriate for some encoding styles for forwarding srv6 is an explicit example they gave have some very nice properties theoretically you know they may allow us to have a level of generic route reflector Behavior one of the things that's a interesting point which we'll have to probably use is one of our primary pivots if we decide to go with something like optional RI as a general mechanism you know from this point forward in IDR is that RFC 700 606 they need to be error handling RFC we spent a huge amount of work in that and one of the key bits of wisdom that came out of that effort is that we want to keep the nlri basically is undecorated as plain as possible and basically at the top of the packet because that gives us the ability to treat us withdrawal type behaviors and that's the mechanism that we have largely Fallen to to try to preserve a BHB session staying up in the presence of some level of encoding errors so we'll have to you know address this as one of our key points as we have this discussion and the motivation for doing any of these interesting things is you know how do we actually get better packing the problem that we have for the packing discussion and I do see that there's a question so I'll get to those momentarily um the key thing about packing that we have to worry about is that we know that packing can have immense performance benefits on bgp implementations so there's a strong incentive for us to use better packing whenever we possibly can do so in a reasonable fashion it's it's a great bit of accelerant for letting bgp perform well"
  },
  {
    "startTime": "00:32:00",
    "text": "the challenge that we have you know in the terms of even some of these optimizations we're looking at car being an example is that when we allow for this sort of thing anything that causes the path attribute sets to basically stop being shareable and that's usually PHP communities or other attributes that may go on there so this degrades our packing so one of the analysis spaces that we should have is we're working through these proposals is when we have a desire for packing what is the likelihood that packing can actually take effect you know this is specifically for attributes that either are currently present or may be present in the future and to give an example of a in the future a conversation both CT and Carr currently don't talk about the tunnel encaps attribute is one of the things that they can carry I it seems a potential feature at some point that that may be used to bias the tunnel tunneling information for each of those proposals clearly that's not there yet but that's just an example of a place where degradation could happen foreign speculation from the last presentation was you know what do we want to do do we want to stick with the car style encoding with you know the good things that it has and you know maybe live with some of the awkwardness that gets introduced from uh error handling do we want some new Next Top type do we care about next stop scoping this ties into several other presentations that are following or do we look at maybe this is a time for us to look at maybe a update to the bgp mlri itself uh sorry not the lri the PHP update packet and how Next Tops get encoded an example of how this might be able to be done can be compared to the grow BMP feature where"
  },
  {
    "startTime": "00:34:01",
    "text": "they're tying stuff together you know through basically every disease inside of the packet so this has been the setup for most of the rest of the discussion about PHP Next Tops reading John's comment from the meat chat uh he agrees that keeping the MRI simple as humanly possible is a good goal you know people are going to have various views on this and this is where we're hoping the discussion will go over the course of the longer presentations so before we move into that next set of presentations with this as a setup any questions that this presentation raises okay there appear to be no question Sue stop sharing thing that I wanted to note um when you said that the s56 problem that we noted was uh only related to scoping of the next hub or scoping it's it's only a scoping problem I think that may not be completely accurate because it's also a problem of how that Transportation mechanism interworks with uh mpls devices in the same network which are not upgraded because they may misinterpret the transpose transposed portion as a regular mpls label so that was the main problem uh exactly and it's my perspective that's effectively a scoping problem in the sense of clearly that RFC overloads existing behaviors uh and it's a problem when you"
  },
  {
    "startTime": "00:36:00",
    "text": "have left a portion of the network that understood the feature so as long as you stay within the little bubble that's defined by where this feature Works theoretically it can work perfectly fine but the mechanisms for ensuring that you don't leave that bubble are not part of that RFC but it also assumes that every node in that Network supports the feature or at the very least you can restrict the routes to only the portions of the network that do understand it yeah I think I wanted to confirm what you said last that the draft RFC does cover uh and the scoping is based on config so it's config scoped the mechanism that is the assumption that every node in the network understands this right and to some extent uh when Sue had started the discussion about you know the best chairs and discussions about Next Tops the there's a discussion point that we're seeing being more and more relevant across uh especially best related documents and even IDR itself is what do you do about incremental deployment you know how do you make sure that a feature doesn't leak out of a place that it doesn't understand it doesn't have bad consequences when that occurs so some at least one of the presentations we're having here is about generic scoping discussions uh several of these are about next top Next Top scoping Sue I'll just introduce the speakers by John your first stop uh the next top discussion started when we were working in the entropy label um and asking about adoption of that I believe John has some useful uh details on that or at least John will you cover"
  },
  {
    "startTime": "00:38:01",
    "text": "it uh Net's care is going to go through the bgp attribute announcement which is a pre another draft we've worked on okay here is going to list the lsvr drafts I'm going to have a moment where we simply ask if people have known issues with best next Hops and then I will use that to research information going forward and then Kali Raj is going to present a Next Top uh draft that he's written on multiple Next Tops and with that if are there any questions about this section okay if not um I'm going to share the presentation or do if John wants to run it do I just let him share since he's got chair privileges or 80 privilege I don't think I have any magic privileges in this room okay so let me see if I can figure out how to let you run the slides or maybe I'll just run them for you okay hold on here let me see if I can request a share foreign [Music] okay I'm going to Grant pre-loaded share slides uh hopefully you can see the deck and pick your own does that work now I'll stop sharing and see if you can do it okay I'm going to click on the ask to share button hopefully that gives you something to you know I've Grant the access let's see if that gives it to you oh love the fact this is working here we go yeah good thank you learning"
  },
  {
    "startTime": "00:40:01",
    "text": "something I assume you can see that giving us the time um so this is me on behalf of a rather large now group of um really productive collaborators and I would like to say a very sincere thank you to um all of the co-authors and contributors listed on this page um it's really nice when the ietf process works the way it's supposed to and and we can work together collegiately I love it um okay so uh let's start with a little background um and the background is that for for some applications um it's really helpful if we know something about what a remote bgp speaker um is able to do and in particular we know something about its forwarding client um I'm not 100 sure that we you know can can restrict the scope only to forwarding plan but certainly that's what our current use case is which is knowing whether the the tail end of a LSP can process entropy labels and we covered this in a lot more detail in ietf 114 um and I'm not going to to go into the details again now um but you can refer back to that talk um and and because of the the context that were um presenting in today I also thought we should emphasize that um although next hops play a part in this proposal um the way that this proposal makes use of Next Top is as a as a thing that um as an identifier"
  },
  {
    "startTime": "00:42:00",
    "text": "really um so um you know as as we'll talk about more the the current draft is a merger of um the the elcb3 and the next top dependent capability is drafts um so next top dependent capability is the you the word dependent is important there um we're not changing anything about next talk processing we're using the next hop as a is a key to tell us if the attribute applies so let's let's talk for a minute about document development um so we recently had a working group adoption for uh ELC V3 interview label capability version 3. and there were a couple of suggestions that came up um from a number of different participants in the group um and the the two themes that we saw were one is uh why the heck isn't the lcv3 a Next Top capability and in fact if you look in the next top capability draft you will see that it has an entropy and label capability in there um but people also recognize that hey there seems to be a need for the next hop capability to be transitive and it basically has to do with insertion into existing Networks so we work together to produce a merged draft which we posted a couple days ago um and because uh choosing either one of those names seemed a little confusing and for various other reasons this is now called the router capabilities attribute um and short name RCA"
  },
  {
    "startTime": "00:44:01",
    "text": "so when mergers go well they take something from each of their sources and um this merger I felt like went very naturally and it took you know one major ingredient from each of its sources from elcb3 it took the strategy for making the attribute transitive while still being able to couple the capabilities to the next top so what's the strategy um it is to carry along the IP address that was originally inserted into the next hop by the uh the Reds originator you take that you copy it into the header of the attribute um when the receiver is deciding how to use the attribute it has a look at the pgp Rob's next app it has a look at what it sees in the attribute header if they match great process the tlvs if they don't oh this wasn't ever supposed to reach me and it gets discarded and then from the NHC draft uh comes pretty much everything else the tlb is and the rules for how to propagate them the tlbs look like a classic tlb 16-bit type 16-bit length and a type dependent value which could can be a zero and then we just make the lcb3 very much similar to the intra biblical capability that was in the next hot capability so we can see this graphically as well I'm not a huge fan normally of inserting packet diagrams into slides but this time it seemed like it would be useful because it illustrates I think quite well what happened with the merger so and in elcb3 address zero this is what"
  },
  {
    "startTime": "00:46:02",
    "text": "and I'm not showing I'm not showing the attribute headers in here so you know you have to imagine the standard bgp attribute header this is the content of the attribute so ELC V3 has this field that our set of fields that identify as the next hop and the proposal in El cv3 was the existence of the attribute is itself the signal that entropy label is supported by the tail map by contrast the next hop capability uh attribute would um and assuming that you're advertising entropy support would have looked like this just the attribute header Plus capability one put them together boom it's the header that allows us to make the thing transitive and the capability so um thanks again for bringing up some discussion points on the list um and what I captured were two things one was why should we have this I want it back up um you know in the why do we have the AFI and the Safi in here um since you can actually infer that by looking at the uh the rest of the update um and at least part of the answer is well it certainly seems better for parsing this thing to have the attribute be self-describing um for one thing if you think about uh our rules for um bgp update encoding uh your uh an implementation is supposed to put the attributes in um in order the implementation is supposed to put the npreach attribute in"
  },
  {
    "startTime": "00:48:01",
    "text": "first but an implementation is also supposed to be able to process things in any order so what that means is that winner implementation reaches the the RCA attribute um there's no real guarantee that it's going to have access to the um or that it already will have gleaned the context to tell it how to parse the lri field in the attribute header and I think that just also the general policy um it's it it seems like a good practice to make attributes self-describing to the extent possible um and then the other question was um oh hey uh the NHC draft contained readable label depths as an optional field in the uh entropy label capability um why did you leave that out and the answer is well this kept as we showed in the previous set of slides is kept really close parity with the uh the existing ELC V3 syntax and semantics um so you know we we can discuss this further and if um if it's if it's urgently needed now we can certainly put it in now um if it turns out later that it's needed um we have a 16-bit code Point space so we can actually manage these capabilities the way that you know we would always like to manage everything if we could which is just add a second code point that has the exact semantics we want foreign and I seem to be talking about naming of things a lot lately and different contexts and this is one of them um so what's in a name um it turns out that you know naming things"
  },
  {
    "startTime": "00:50:02",
    "text": "although it's kind of boring and seems arbitrary and silly sometimes it it matters because uh choosing the wrong name can confuse people for years to come uh so we we currently have a working name router capabilities attribute um here are some of the other things that were discussed or thought about um next hop dependent capabilities of course is from NHC uh we could call it next top capabilities attribute um so so one of the problems with with that is that it can lead people to think that this is something that changes Next Top processing um which is something I tried to dpus up at the the beginning of this talk uh he called it a transitive bgp router capabilities attribute to to um which both speaks to the fact that it's literally a transitive attribute but it also speaks to the fact that it's a capabilities attribute that is meant to be available or the domain and not just for the neighbor the way at the um open capabilities are you call it forward and playing capabilities attribute which I think is is quite nice um but it it then kind of presumes that we're only ever going to use these things for things about forwarding which that's our use case now I'm not sure if it's our only use case in the future um so you know Flores is uh open preferably I think on the mailing list for discussion of other possibilities and I see carers put something in the chat and search yet um I'll look at that by and by um and then second point is it it kind of rubs me the wrong way that we call these things capabilities because we already have um RFC 5492 you know open capabilities um but I didn't have a better idea and we wanted to shift the ship the draft so"
  },
  {
    "startTime": "00:52:00",
    "text": "it is what it is at the moment um and like I said let's let's discuss in the list if you have a good idea um we'd love to hear it and then finally um you know never come to the working group without asking for something and knowing what you're going to ask and what we're asking for at this point is um we think that we're ready for early allocation of a code point um if you look at at the process in RFC 7120 there's there's four things that have to be ticked off um in order to say yeah this thing is ready um and generally the the one that's um can be most problematic is is this one's C which is um is the specification stable enough that we can allocate this code point and know that it's it's not gonna you know the syntax isn't going to change out from under us and we think the answer is probably yes we have um a reasonable amount of experience in the field with the strategy of using um the the header depicted on the previous slides um you know with with the lcb2 which we talked about at 114 so we're we're pretty confident that works well um there doesn't seem to be a lot of uh debate about using that there may or may not be disagreement about um how to encode the entropy label capability itself the tlb but um the wonderful thing there is we have a very large tlb space so any changes would um exactly as the RFC wants it to be would be Backward Compatible so uh next steps um we'd like to request early allocation and we can get to work implementing it and last calling it um I'm done talking and I'm ready for any"
  },
  {
    "startTime": "00:54:02",
    "text": "questions thank you if there's no question oh I see two questions uh or two hands raised uh so Jeff please Jeff if you're speaking we can't hear you or I can't hear you anyway I'm double muted that hopefully is better uh I think I think that might deserve a little bit of commentary probably could be the easiest thing of any of these proposals is uh it's always going to be the discussion what happens when the mechanism you're using the detect that uh you've left the scope of what you're expecting this to work has failed what do you do and I think the general flavor of at least the original ELC was well for this one specific thing it's okay just do standard Top by half behaviors uh you're losing all of the extra signaling that came along with the LC do you think that bit of uh thinking will hold up with all the unknown things that are likely to be packed into the additional capabilities that this is enabling um well they're unknown things so the only honest answer is I don't know um what I do think is that um you know we say in the spec and this is language that largely came from NHC so it's made a few rounds in the working group already um what you're saying the spec is if you're defining capability you don't need to be explicit about what the rules are for um transitivity of that capability um so I I kind of think we can't do better than that without knowing specifics of the capability I think with specifically with respect to entropy label um you know again we when we thought it through for uh El CV2 and so on um it it seemed reasonable and I still"
  },
  {
    "startTime": "00:56:01",
    "text": "think it seems reasonable so I don't know if that's a sufficient answer to your question but that's what I've got right now um and if there's no follow-up I'll call on ketan uh John a couple of questions uh one uh is uh in this is uh when you when we call it router uh capabilities uh for the entropy label uh ELC uh use case I believe this is a originator router capabilities right that's what that's what is being carried or conveyed right it's it's it's the it's the LSP tail end essentially right so that's our originator router capability and and then there can also be uh I don't know the use cases right now but there could be the next top capabilities that is the probably the next stops which you know keep changing or not changing uh should we not uh differentiate between the two so one is the originator router capability another is more of a you know the actual bgp Next Top capability well I I guess the um how we got to this place to begin with is that you know when we change the next hop we are changing um the expectation of how the thing is going to pass through the forwarding plan so it's not really the originator router capability per se because you know if we think about a a a route that was originated someplace across the internet and if that that router over there is capable of processing entropy labels but then you know it propagates through the internet for a while crosses some as boundaries gets into a new as um within the new as it the the Border router there um"
  },
  {
    "startTime": "00:58:01",
    "text": "sends it into igp ibgp gets over to different border router what you really want to know is like for the um within the the scope of applicability of that particular LSP um Can the tail end uh process entropy labels right so yeah the the thing that has the thing that has those semantics is to tell us about that is if the is the next hop yeah so my where I was probably getting to is uh let's say uh tomorrow we have another uh capability that we want to advertise but that is not uh uh let's be tail end but some other uh you know the actual next stop which is in the bgp next stop attribute for that node uh can we do that how do we do that I can both uh be put in the same or should we have separate uh you know separate uh attributes for distinguishing them well I get um part of my problem is I'm going to understand the use case and it might might be that we should I'm not sure how much time we have but um if if I don't catch on soon enough we can we can maybe take it to a side conversation but the the other part is that I would answer is like you know if is this a little bit glib I suppose and I apologize for that but it is is that you know if if the uh if the semantics we're providing here works for the use case then excellently can fit it in and if not we should create a new mechanism that works for the you know provide the needed semantics John we could just have a different capability of what kitten is proposing right in the same yeah that's that's exactly what I am I was trying to say thank you for saying it more clearly is that you know if we"
  },
  {
    "startTime": "01:00:01",
    "text": "need new semantics then we should Define a new attribute that provides the semantics okay okay so the second comment uh was uh related to uh coverage for the uh for any cast scenario so let's assume that uh uh the same prefixes uh you know advertise that's LSP tail and any cost advertised by two uh two routers right and then they come to one router where who's doing a next stop self let's say so uh now uh I mean it's maybe probably a corner case but one of those two could have entropy label the other could not have an entropy level uh is that something to be considered or you know at least discussed I guess it's absolutely something to be considered and discussed and thank you for bringing it up I'm not sure if it's something that we have to fix but it's minimally something we have to think about thanks for for raising it okay okay thanks thank you so uh just reiterating I understand it right so it is not the originating router capability right it's just a bgp Next Top router capability yep yeah and the second question the question I had was um so we also [Music] um extract the next top IP address from other places than next stop attribute or the amplification Lorry like redirect to IP external Community is one place or there are some places inside the tunnel and GAP attribute or the color on the community that also gives us our next stop so does this next stop capability it applies to any of those or is it only to the IP address found in attribute code three and attribute code 14. that's a great question um"
  },
  {
    "startTime": "01:02:01",
    "text": "I don't have a good answer but I you know same as the previous answer I guess which is uh absolutely we need to think about that sure thanks and KR please hi hi can you hear me John I hear you well super hey you said yep but this is a originating router capability the one that originates entropy label right uh well I mean I guess it depends on what we mean by originating but you know when I was answering the earlier question from ketan you know I was sort of spinning a example where some route is originated to bgp far across the internet and it you know goes along and then eventually it reaches an as that originate you know that that trip sorry propagates it into ibgp so I wouldn't call that border router let me put it into GP I wouldn't call that the originator I would call that something else it's something else but it is the router that originates entropy label you can call it something else but let me make it very simple if route reflector in Middle replaces the next hop it's not intended to insert any of its capabilities is that correct uh no that's not correct um if it replaces the next hop the the right reflector should should do the right thing um right so yeah well if the route it's all spelled out actually in the draft first of all but if I can try to summarize it off the top of my head what it's if it replaces the next how um minimally it should throw away the uh the attribute um that would be the polite thing to do if it doesn't throw away the attribute"
  },
  {
    "startTime": "01:04:00",
    "text": "and it doesn't modify the attribute then the you know the receiver will look at it and say oh the next top doesn't match and the receiver will take care of the throwing away on the route reflector's behalf and that's like actually the whole insertion strategy there right now that answers my question thank you yep thanks and with that I think the queue is empty I see a bunch of things in the chat but um I'm going to assume that they don't need to be handled on mic um thank you everybody and I'll try to figure out how to stop sharing here but I think the chairs can probably take the sharing away from me osakia you have your mic on if you want to make a comment uh no I um I just wanted to mention about the kalidad's comment so um you know we can put that in the truck redirect even we are changing the next stop as in like denial of service hypothesis right so we can extend the we can put in a mention there in the draft I think yeah I've I've taken some notes for things that read okay okay thanks everybody Carrie you're next on the presentation list to just grab the presentation rights um I don't have an access to the presentation do you want to just uh showed up and maybe control it"
  },
  {
    "startTime": "01:06:17",
    "text": "so are you sharing a deck or foreign foreign"
  },
  {
    "startTime": "01:08:13",
    "text": "are you sharing the deck so since we're having some problems let me go ahead and see if I can share if she's not able to do so actually within the pre-shared slides I'm not seeing anything for your presentation care um um do you want to go to next present day uh presenter and maybe I can send my slides or see if I can upload it yeah use the upload tool from here I think that would be an appropriate thing to do um not sure why Sue is not able to speak so you may be unmute again hi I took the mic off I've got his slides on my laptop ready to share in presentation mode so let's see if that works quickly oh"
  },
  {
    "startTime": "01:10:04",
    "text": "okay nope I've got it but it okay how does that look good care can you see the slide set Yep looks good thank you okay just tell me what when to move I think this is the second presentation so one before uh I don't have that one so you're gonna have to load that in the pre-share slides let me go back to what I think I'm supposed to have next give me a moment I'll stop sharing go to the next from care what I thought I had here in the agenda I thought I had the bgpl attribute I don't have the attribute slides I only have I only have the um LSR VR changes I don't have the other one pre-atribute okay let me see if I can have to load that we can go with your second slide set that's what I was doing what do you want to do now you want to see if you can load them yeah let me try and see if I can share my screen okay it's not allowing me to do that it should try again I have my screen shared okay you've got it"
  },
  {
    "startTime": "01:12:07",
    "text": "we can see the full screen if you go to presentation mode that might be okay now we see the full screen just need to go to presentation mode so that we don't see you know like the stuff on the sides whoopsie it's not allowing me to switch one second please yep it's the icon at the very bottom of the screen uh that looks like I think the four panels excuse me uh okay you I just uh uploaded your slides can you check whether you can find it um just I've got to see if I can check the preloaded again hold on yes I've got it now nope I'm still getting Kylie Rogers hold on foreign did you pick up the sharing [Music] okay I can't pick it up here you should go with I'm not seeing it show up in the deck yet G"
  },
  {
    "startTime": "01:14:02",
    "text": "so why don't we go with yours uh mode of sharing your screen unless you see it Jeff okay foreign it is just not allowing me to get into a presentation mode"
  },
  {
    "startTime": "01:16:08",
    "text": "why don't we go with this one as it is yeah it's not going in the only thing you can do is cut out the the side mat by changing the layout just go away let's go ahead with this one and uh we'll post the slides okay so uh I'm gonna talk about uh the constraint attribute announcement uh draft this is already a working group document um the main motivation for uh writing this proposal was uh that currently there is no mechanism inside bgp to scope the announcement of optional attributes um the only possible way to do that is um either you know you define it as an optionally non-transitive attribute which means by definition it will be filtered out at Ace boundary you have some error handling filters the filters that you've defined for malform attributes and that forces it to drop the attributes or you have attribute specific rules that you Define per attribute and that will do the need for right but what was needed or what is needed inside bgp is to have a scoping mechanism that is inbuilt for attributes wherein you can automatically scope these attribute so at either a confed boundary es boundary or at multi-s uh"
  },
  {
    "startTime": "01:18:04",
    "text": "boundary and there were certain interesting use cases where you could have done this one was eternal and cap attribute uh Next Top capabilities attribute was another one where you could automatically um you know set a bit and say this is they should be filtered across the is boundaries based on how it was done vgp timestamp attribute is another one uh where um you could do it and any new attributes that have been defined um that needs coping um so the solution was pretty simple we didn't wanted to use any capabilities because we think this is um uh integral infrastructure part of pgp and you want to do it in within the bgp itself so as the initial solution we didn't use any capabilities we just told two bits from the attribute Flags uh where you would mark this Bits And if this bits are set then you would do the needful uh and we wanted to go to INR to reserve this bits in the attributes um and that would do the need for filtering right um again this bits should only be set if the optional flag is set on the attributes which means only use it for path attributes uh um that are optional the filtering has to be enforced so a operator needs to ensure that if it's deploying this solution then you know the filtering is honored at the boundary um within the as uh particularly or if it's a multis within the same administrative domain or conference um the error handling rules are also set forward and defined very well um in in in in the draft itself"
  },
  {
    "startTime": "01:20:00",
    "text": "and then last but not the least zero zero version was presented in 94 ITF uh it's again a working group document draft is in a fairly decent shape we are awaiting implementations any questions okay hey so um did you say the operator needs to enforce it or the implementation the software automatically does it so the implementations have to enforce it but operator has to be mindful of the fact that um two ends of the routers do um if you're setting it at on certain set of routers then at the point where you egress out um that egressing router has to filter also right the path attribute uh will the mechanism describing the draft itself not uh guarantee that but if the code upgrade is not done on that router it won't right you mean for the optional transitive attributes yes yeah that's what yeah I was wondering how it was about transitive attributes so all I'm saying is all I'm saying is assume two ends of the routers at two points at the edge of the network once inserting an attribute and then saying hey this should be filtered across the es boundary now when you reach actually the as boundary um as long as that router implements this Behavior you'll be able to filter it but the operator needs to ensure that the router has indeed or is indeed enforcing and filtering this right otherwise it can get leaked out and for the optional transitive attributes yeah that's what that was one of my uh confusions how it works for transitive and the other thing is you say the multi-airs capability"
  },
  {
    "startTime": "01:22:02",
    "text": "uh how is that uh done because we don't specify any as numbers or anything right so again this is more along the same lines as we discussed um that a multi as is under a single Opera operate uh administrative domain and the operator of that administrative domain has to ensure that hey um this is this set of routers are actually at the border point of a multi-as domain and they have to set a policy that says um you know the filtering has to be done and the attribute now that is sitting across the multi-ace domain should be filtered right so that was some more policy defined uh operation okay wouldn't it be good if we just carry the set of as numbers which are cooperating in that domain so that can be done automatically by software as well we could but this was a path attribute flag so yeah we could do that or you could set it as a local implementation policy as well that says um across this ebgp connection you're truly transiting across a multi-ace domain and therefore you know honor the path attribute which is uh bit which is said that hey this should be filtered at the multi as just honor that and filter it out so you could think of a policy that has been set and based on the attribute bit that is being carried in the packet you now have an ability to match that and filter it see what I mean yeah I just have a feeling that I mean making it more automatic in the protocol May avoid human errors sure we can talk about that thanks most definitely maybe a naive question uh we have four"
  },
  {
    "startTime": "01:24:00",
    "text": "bits in the uh attribute options for our flags right uh yes are they usable yes yes I've taken actually a unused two bits out of those four bits and um used it to Mark uh um both multis as well as uh confed and across the ace boundaries okay but not for the uh okay but then you did it more I guess uh that's where the other say that again uh okay I'm sorry I I misread it uh my apologies thanks yeah no worries no worries foreign so discussion point that we have here is basically a couple of different things the first one being that uh be wanted to discuss having this sort of thing is a core feature in BJP as people excited uh different ends of things trying to do this after the fact is a really heavy challenge you know so this is almost an hp5 type thing uh really deploying it is going to be very very challenging I think one of the biggest problems we have in terms of the reserved bids you tried this before uh and significant number of implementations on the internet just simply treat those bits and cause session resets that's that's why we didn't use this the first route uh so the question we're going to have is again you know since this is for attribute scoping can we figure out a way to basically put the necessary safety bubble around this so that we can make use of these additional bits that we have available so I think this could be one of the more"
  },
  {
    "startTime": "01:26:00",
    "text": "interesting discussion points for the working group if anybody wants to go look up the history uh we tried to use this during the initial set of work on the beach beer handling stuff there is literally a bit you know being flagged in there is one of the bits of feedback and that's where we ran into this first round and I think one approach to that could be we could reconsider putting in a capability and say hey if the capability is not exchanged then automatically drop um the picks um at the sending site or something along those lines so that you don't send this bits anymore but the filtering will not be honored as well and I think we can add some text but happy to discuss that and brainstorm it um and and see um how do we move forward with that and the capability uh and making it recordable but if it is uh able to if you are able to make the filtering work automatically without having to have use or configure of the filters then that will be great cool thank you guys um any other questions comments"
  },
  {
    "startTime": "01:28:05",
    "text": "this is who should probably just go on with your second presentation on lsvr so do you want to put that up since you have those lights because I'm not able to push this into a presentation more okay let me see if I can push it into a presentation mode with full screen hold on I do not have it in the pre-shared site so it'll be a presentation low push let me see if I can get it into both one moment foreign"
  },
  {
    "startTime": "01:30:20",
    "text": "foreign you're going to need to see the uh whole presentation I will try it hold on do you see it now I can't do both but you see it now care as presentation mode no I don't see this lights okay you best try your other one I can't force it into presentation mode and my screen either way it drops out so you'll have to you might as well go with yours so you can control it I apologize we'll have to make sure we get the slides pre-loaded next time nice um will you give me an Access please should assist now as a chair as I've stopped working on pre-sharing to have access at this point yes I do okay thank you I apologies can you see my slides yes I can"
  },
  {
    "startTime": "01:32:02",
    "text": "okay so uh folks I'm gonna talk about uh bgp based SPF this is the work that has been done in lsvr working group Sue had asked me to talk about this in context of Next Top implications that are there in bgp um since folks in this working group may or may not know I thought I'd give you a general overview and then talk about what are the implications to the next stop next stops if any um so I'm gonna go fast through the presentation with a hope that I can give you an introduction and to to what bgp based SPF is and then talk about next stop implications yeah so the main motivation for the work here was hey look in msdc's uh some kind of a layer 3 routing has been implemented till date um that is being used uh as a fabric most um of The Operators use um to that point bgp as a layer 3 routing protocol uh one difference that people use in msdc uh when they use pgp is that bgp and Route reflectors more specifically if you look at service providers route reflectors typically that are not in forwarding path assumes um the next stops will get resolved over aigp of some sort that has been deployed for the underly connectivity in msdc there is no igp and the way um that has been done is through Hopper hop peering uh through ebgp uh mostly connections that are been used so um just one routing Protocol no underlay no overlay as in two different protocols but pgp being used for that and if there"
  },
  {
    "startTime": "01:34:01",
    "text": "is an overlay then again another safety of bgp would be use um typically um when you do hop-by-hop routing um that uses distance Vector now the reason to use SPF over a traditional distance Vector algorithm is that when you do hop by hop routing you typically don't have a complete view of the topology which is what you want as an underlay and when you want that you also want um hey how do you do fast convergence how do you sort of scale it better and when you look at these characteristics um you know it is almost um it is very clear that you need a graph based algorithm which is pretty much an SPF um to to get you where you want to be and so uh if you are going to deploy an SPF like solution um then and use bgp um as compared to other protocols like igp and you start to compare them with what is out there with igp you can see that the advantages of a traditional bgp based solution um are locked in sense that um again pgp is widely understood um it's very from operational standpoint it is fully um it has all the all the debugging tools it and the analytics in place um so very well understand uh understood again the transport for bgp is quite reliable so it can guarantee in order delivery so from a transport Point uh Viewpoint it has all the pieces that you need from a protocol standpoint um it doesn't do flooding and it also lends itself to a multiple peering models that you would want to use epgp ibgp anything and therefore combining um a a SPF inside bgp looked like a very"
  },
  {
    "startTime": "01:36:03",
    "text": "good solution to to start with now when you start to look at a solution like that um the changes that are needed inside the protocol are the following obviously you need to define a new Safi um new capabilities uh you want to make sure multiple peering models are honored and you want to change the algorithm um inside bgp which today runs distance Vector to actually run dixtra so that you can calculate the SPF when you start to do that the best path process changes accordingly so next you have the decision process phase one and phase two are completely replaced by the SPF algorithm this is what the draft talks about and phase three is uh decision process is pretty much short circuited you're running the extra you're calculating um the graph for given prefixes and since you calculate the graphs um the side effect of that is that you pretty much can now build the underlay topologies that you are looking for it um supports both ipv4 as well as IPv6 now since you are running SPF and calculating SPF um next stops that are carried inside bgp um are of pretty much you know use the distance Vector algorithm honors when you do hop by hop routing it tells you which next stop to use for a given route um and given a path uh more specifically and then you go about calculating an igp metrics amongst other things in the best path calculation process and then pick the right path in case of SPF you are actually Computing the shortest path anyways and therefore and that is independent of what other routers tell"
  },
  {
    "startTime": "01:38:01",
    "text": "you and that is why in some sense whatever the next top is carried inside bgpv as part of mandatory attribute um is still announced but ignored upon the receipt of the prefix and nlri um there is a since it is only carrying underlay route there is a um sort of uh packing uh draft by draft doesn't impose any restriction it is almost implied that you may carry one prefix or set of prefixes that are specific to a given router when you are trying to announce the routes out or connectivity out but the biggest uh Point uh about this draft is that hey the next stops are not honored next stops are ignored because you are looking at the shortest path connectivity and you are is a byproduct of SPF whatever the next stops um need to be calculated and set forward to the peering model again is honored you can do route reflector or a route controller like peering model um both models can be inline or um um not in the forwarding path um and SPF computation can happen itself um also on the route controllers as well as on the leaves and spines inside the data center so all sorts of flexibility is still provided and honored as part of a traditional pgp offering that has been done um again from a status standpoint working group last call is already been done in lsvr chairs I think are ready at some point to move this draft forward multiple implementations exist for this uh particular solution"
  },
  {
    "startTime": "01:40:00",
    "text": "and the key point from ideas perspective um again reiterating is that the that that in this particular Safi um your next stops are not going to be honored so you can carry next stops and next stops capabilities uh but the next stops in itself are going to be recomputed as part of the SPF process that's all I have any questions hey um on this one since Next Tops are kind of like networks are kind of redundant here right so any implementation will do uh resolution right on receiving it out so what the draft says to like short circuit this process or yeah so what happens is since you are running dijkstra um you will calculate the next stop just like how OSP or Isis calculates and the phase three which is you know hey calculate the phase three of the decision process is pretty much short circuited because it's as natural outcome of calculating next stops for a given route you will then go and install that in rib straight away you don't need the decision process uh pretty much you can optimize that path is what the truck says okay thank you thank you any other questions over to YouTube thank you thank you we're gonna the pgp best draft presentation simply a query for anyone that knows of Next Top problems we're gonna skip that presentations please"
  },
  {
    "startTime": "01:42:01",
    "text": "send me any known problems or things you'd like to see improved with best to me directly I'll continue the research with the best chairs and go on in the meantime we will go to Kali Rogers presentation and this one I do have Kylie Rodge if you just let me run the slides uh just say next and I'll run the slides thank you sue so we are going to talk about this multinix top draft next slide please so this is kind of going to be a little bit of overlap over some of the discussions that we have been discussing today so we'll go through a brief background and describe the problem and see how multinix top uh attribute attempts to solve it next slide please so basically as a background uh let's have a retrospection of how we express next stops in bgp basically what is the next problem it's instructions on how to forward a payload specified in the bgp analy right which could be ipv4 IPv6 let's put the mpls theme labels or flow spec and this desktop information they extracted from various places various portions on a bgp right on a single bgp.pdu and this can be broadly classified as basically the endpoint that's the next option where to forward this to that can be the IP address that we extract from either the next top attribute code 0.3 or the NP Regional array attribute 4.14 the next stop address is specified there um or it can be in the redirect to iot accident I want to attribute or we also have some plbs inside and cap attribute"
  },
  {
    "startTime": "01:44:00",
    "text": "or sometimes the pulmonary Community carries a value that is encode as a use as a next stop and then we have radar to vrf extern community attribute which says redirect to this vrf so they have the endpoint in our IP address but still saying that we write the traffic to a specific vrf so these are like where to traffic forward the traffic to and then we have information on what end cap to use so basically it could be a label which is also carried in the MP Regional array 4.14 and it is a label is the NRA portion of the field or it's carried as uh said in the prefixed attribute or the current cap attribute and repair label attribute which tries to Signal uh two labels one for uh backup path another one for the prime primary path is carried in the entry or they can be like srv6 said inside the projected attribute and also we have constraints to the route so which basically says when you forward this traffic to a next stop how do you want to do it you want to follow some constraints which are specified by either the color Community or any other mapping Community mapping Community which says how you want to uh what type what type of path you want to take when you want to forward this and also we have the link bandwidth Community which says what kind of load balancing you want to do so next slide please so those are the things that we have on one route and now how we express multiplicity is either using add path where we advertise multiple routes each carrying a single next stop uh like the what what is explained in the previous slide and at path it increases our rib scale and rebound scale also is uh a challenge there and then we combine this information we get either from multiple peers single routes from each PR or same peer multiple routes using artwork and then we use local configuration like multipath or Pig and that way we consume everything and form"
  },
  {
    "startTime": "01:46:02",
    "text": "a unique cost next up or a multi-path next up um which we install into the Fib so these mechanisms have you know sorry organically grown over the period and information is spread across different portions of the bgp route nlra and different attributes most of them are like different external communities and also local configuration so we mix all this and the end result is the is the route that we have to program in the FIB so next slide please so this is what we are doing today and uh is there a problem here next slide please I think it moved those lights excuse me this one Yeah so basically here what we see is um in the protocol Machinery uh we are running this Express more than one extract in the route uh for the most part and what we use as an endpoint or anything else um all the forwarding action is not easily extensible um and even when we use that path we are able to um advertise multiple next stops but we are not able to express the relationship between those Next Tops um whether we need to do active backup or ecmp or ucmp what proportions so these properties uh they are important or they can be useful if you want to use bgp as an API to the receiver's field basically we want to say for IP routes or actually Market or mpls routes if you want to say you install a route for this spec and these are the next hubs either one leg or multiple legs and what is the preference is it ecmp or ecmp n plus one backup and what is the kind of load"
  },
  {
    "startTime": "01:48:02",
    "text": "and for each next stop what is the capability uh so if you want to express that kind of a thing in vgp vgb becomes an API to the boxes uh forwarding plane for any kind of uh prefix in the NRA so because we don't have that we cannot use bgps and API there and the inability to Signal n-cap information uniformly for different address families so for example we use bgp free code for labeled letters families but for uh internet because we're not able to Signal any label or in cap information uh directly for surf A1 routes we need IP or Internet routes at an asbr anywhere but if we are able to Signal a label for the safety one routes also then the code becomes completely lightweight and the service routes are really confined to the edge so that's like another advantage of having the end cap or the next stops working uniformly across different Southeast next slide please and also we have the inability to express multiple labels in a route except for the proposal of repair label which is carried as a separate excellent community and this is helpful in multi-home scenarios to avoid level oscillation um and then the semantics of a downstream allocated label is not known to the receiver so this is this is like uh when labels are advertised in a bgp label family the receiver does not know what is the uh what is the properties of this label at The Advertiser uh basically whether this is let's say for the EP use case if we know that towards appear we have more bandwidth than another peer than the controller or the this is the guy who is making the addition of EP can forward traffic towards the right label based on knowing what that label means at The Advertiser so there is a there is some"
  },
  {
    "startTime": "01:50:00",
    "text": "instances that this can be used if the receiver knows the semantics of the label and then there is a problem that is slightly unrelated next stops it's at the route level so what I've learned from some interactions with customer teams is that so in option C domain they want to have some kind of local preference like control but they cannot use local preference because it's not allowed over as boundaries and this is uh but still this is like a single administratory control domain so local preference if you look at the design of it it intends to be used within one domain which is like one ASR a confed confrontation system but it does not consider option C domains as one domain because it has ass so if we have scoping information uh scoping control to be able to propagate a local preference domain white that works for option C domains also and still have the Restriction of it does not leak out of that option C domain then that will be helpful so these are the problems that I attempt to be solved by the multi next stop attribute so let's see how it works next slide please so in essence this is an optional non-transitive attribute um we have a bit conservative in terms of how we restrict the scoping of the antibody initially it was um it was an optional traffic of attribute and it carried the next top address of The Advertiser so that we can do scope checking just like what John was explaining in the previous presentation but then based on the discussions on the mailing list I changed it to optional unconscious it's okay to be more conservative and so that it's absolutely not leaking out and it is uh usually with a new bgp capability uh so that even if you have so that it doesn't um accidentally lead to evg PPS"
  },
  {
    "startTime": "01:52:01",
    "text": "even if peer supports the capability uh the attribute but um it's it's basically uh not willing to accept this then so it is negotiated using a capability and it is actually a tlvs format which is extensible for newer endpoint types your encapsulation types and forwarding action types and you can carry one or more next stop instructions and it can be used as uh API of bgb based API for Tool of the receiversified in the next slide I'll explain the format of it so this is the bird's eye view of the attribute itself so it has a propagation scope Checker so this propagation spoke scope Checker is what controls uh the propagation of this attribute um and this is like similar to what care was describing in the previous presentations and here it is at the level of mnh attribute and if the conditions if this propagation scope Checkers functionality coincides with the scope Checker that can use draft has at the attribute level it would be perfectly okay to lift this from the bgp next multinational stop attribute to a regular attribute level I'll describe what this does in the next slide so basically Mr attribute has the propagation scope Checker and a list of MNS tlbs and each MNS tlv is of a certain type and it has next up forwarding information so this next up forwarding information is what actually describes earnest which is a container for a list of forwarding instructions and a forwarding instruction tlv has a forwarding action and a forwarding argument associated with it one or more forwarding arguments I'll show you with this so This forwarding action could be like forward push pop and the forwarding arguments are where to do that and what"
  },
  {
    "startTime": "01:54:01",
    "text": "kind of an character push for example uh yeah so next slide please so this is the propagation scope so it's non-transitive like we uh discussed and it also carries advertising protocol next up which can be used to do Sonic check on they manage to see if it is valid basically every speaker that resets the next stop to self it removes this attribute and when it is really Rising the route with itself as an extra or a new laptop it it adds this uh attribute um based on uh the local intent whether whether it wants to advertise multiple next stops on the new route when it is realizing it so that Rising pnh should match the it should match the speaker which is uh advertising the mnh it's just a sanitize scientist check to see whether it is getting advertised by this uh the speaker which actually reset the next up and uh even amongst the speakers are understand their marriage the advertisement is controlled by obligation for uh scope Checker so it has uh three flags and by default we consider that the Mna chatterbit is not advised and it is allowed to be advertised by turning on these flags when we turn on the flag I it is allowed to for advertisement to IBG PPS and when you turn on the flag C it is uh allowed to be advertised on confidence and when we turn on E it is allowed to advertise to EB gbps which are listed in the allowed as list so the lldas list is just a list of four as four octet as numbers which are in the same administrative control so this is the option C domain so basically the attribute this particular psct tlv it contains everything that is required for"
  },
  {
    "startTime": "01:56:00",
    "text": "restricting the scope of this attribute um to a certain domain and this enables the domain local preference to be used in option C domain scope basically domain local preferences another and mnh tlv of uh type uh of a certain type and it just carries the local preference value and it because of having the scope Checker we are sure that it will not leak outside in the internet or outside of the current domain and it can be used in uh in lieu of the local preference so just like we would use the local preference when we are receiving from an ipgp here in the same domain same as domain so here we can use the domain local preference when we are getting the route from the same inter as domain next slide please so these are the types of Reminisce tlv that is described uh defined today so the first thing is the primary forwarding next stop primary forwarding path so this is what you want to advertise and this is like a next stop tlv which multiple next complex and then you can also advertise uh backup forwarding path so this is to avoid label oscillation problem so this is uh described more in more detail in the draft but briefly when you have a multi-home scenario where uh in the MPS Network where two bees are a router is multiform to piece and the peas are doing next top allocation mode uh per next stop allocation mode and they are also using each other as a backup path to repair traffic so because they are doing next per next stop allocation mode whenever they receive a new label from the other PE they will allocate a new label and I'll address to Dollar PE and this process repeats and this can be solved only if we use either a different allocation mode inside our next stop allocation mode we have to be able to advertise a separate label"
  },
  {
    "startTime": "01:58:01",
    "text": "for the backup forwarding path so that we can avoid the oscillation basically the label primary label allocated by pe1 should not depend on the primary label allocated by pe2 uh and the backup label advertised by a PE uh it depends on only the primary path towards the CE or the other router so this is uh the the format of the tlvc is like exactly same as the primary forwarding path but it just says that this label has to be or this end cap information has to be used as a backup path when you are using uh that uh alternate path for repairing traffic and then there is a downstream signaled label distributor so this is the label descriptor use case where also the the tlv information is the same but it just describing uh what is this semantics of the label being advertised by a downstream allocated speaker and also the domain local preference that we just discussed so these are the four types that are defined uh today and unknown tlv types router which is propagating mnh attribute uh it is expected to propagate the unknown tlv types as well and uh it it error handling wise it should not uh bounce the session or anything it just escapes and ignores processing it but processor advertises it forward for any other speaker that understands that new tlb next slide please so this is the next forwarding information tlb which actually describes the next stop and it is present in the primary path or the forwarding power the backup path uh MNS tlvs and it contains number of next stops whichever each Next"
  },
  {
    "startTime": "02:00:02",
    "text": "Top leg element uh is described by a forwarding instruction Theory exactly so the forwarding instruction tlv it comprises of a forwarding axle and one of more arguments so this is where the accessibility comes in so basically here we say these are the forwarding actions today that's possible so if you think about it in today's bgp protocol uh the forwarding action that we imply is just forward basically we have a route that's coming with the next stop and we are just saying forward to that next time and uh when we allocate uh labels and advertise to others we have different uh forwardings for those Downstream allocated labels it can be pop swap push um pop and look up so those those things but here we just uh describing the different forwarding actions possible so that even for Upstream allocated labels we can control the forwarding from an advertising node or even for other so it it can work similarly for the different kind of payloads for IP for mpls for flow spec and these are basically the known uh forwarding actions that are there today but because it is a type if any new forwarding action comes tomorrow for example replicate is not a forwarding action that we do in bgp today for flow spec it is defined but probably not implemented but if you think about it if you want to do kind of a multicast replication forwarding using bgp it's just a way you can express it we just say replicate it and you give the forwarding arguments which will be the end points to whom you replicated next slide please and the forwarding arguments still be they are basically the arguments that are required to complete the forwarding action this can be today they are just"
  },
  {
    "startTime": "02:02:00",
    "text": "ipv4 address and IPv6 address and in some flow cases we also have the forwarding or context Rd that is the data vrf kind of a case and there may there are some cases where we also infer the next hub using the Rd um there are some drafts or the allocated label and the mpls label is uh it's basically when there's an upstream allocated or Global scope label like uh you may in some forwarding paradigms like Sr or mpls name spaces you can identify and node not only by an ipv4 address or ipv's address but I also using MPS label so these are the different kind of identifiers that you can use to identify the place where you're forwarding your traffic to and even if you have a new kind of uh identifier tomorrow we can just describe one so today we have only ipv4 address and ipvc address which can be carried as next off so this formative forwarding argument tlv allows extensibility of that next slide please and so when we advertise uh next stop today ebgp received routes they are expected to be directly connected and ibgp routes are expected to be multi-hop that's just a general wisdom and uh if if you want to advertise uh a route and in that specify as an API whether you want a strict control for that next stop so that it is only a single upper way or whether you expect it to be multi-hop so this proximity check constraint actually specifies or allows the advertiser to control that when the S bit is set it restricts the path to guessing log so that the receiver confines uh you doesn't use the next stop if it is multiple hops away and if mbase is set it expects it to be multi-hop and if both are set then we embed text percents and if both are clear then today's rules take over where ebgp is single up and ibjp is multi-hop or you can say based"
  },
  {
    "startTime": "02:04:01",
    "text": "on the configuration ebgb multi or whatever so anyway local configuration uh Will trump any of these signaling but it's it's giving ability to The Advertiser uh what kind of uh proximity check he wants for the next endpoint being advertise in the route and then you have other proximity constraints uh path constraints like the transport transport class ID um or the load load balancing Factor basically when you're doing load balancing how much percentage of traffic you want to go for each of the next complex right please and we also have another forwarding argument here we which uh describes a payloads encapsulation info what kind of encapsulation we want to do uh towards that endpoint it can be an mpls label info and ins inside this basically this information because it is carried on each Next Top leg so uh so if you think about it today we take the label from the prefix and the next half from somewhere and we combine them together and form the next half so here we are getting both of them in the same place and the capabilities that we were discussing earlier that is coming as a separate attribute that is also getting combined so here the capabilities like ELC will be part of the MPS level info where it is uh it just appropriately scoped closer to where what it describes info and these are the encapsulation types that we know today and newer ones may come in future so it just uh accommodates uh all these different types that may come and also um there is like this endpoint attributes advertisement which is like advertising what is the property of this next topic advertise and it we could be we could want to advertise multiple uh properties like available bandwidth is one today it is advertised by a link bandwidth Community again it's just another Community uh or attribute so here we're just giving uh on a per next"
  },
  {
    "startTime": "02:06:02",
    "text": "stop leg scope we say what are the properties of this next stop we want advertise so this available bandwidth is used when we want to do ucmp uh that is basically uh an equal cost load balancing um and when this is when the prop constraint of uh what is the balance percentage is required is there then that is used and if that is not there then this this one is used to implicitly derive on the ucmp percentage can you you have a question I'll wait for you to get done then I can ask sure and the error handling is also described in the draft um so basically as a whole it follows the attribute discard approach when some errors are encountered so unless there is a length issue because of which we are not able to pause at all uh then we will anyway bounce the session but unknown tlvis ignored gracefully uh with enough agnostic data and we try to deal with the era's uh gracefully by either ignoring the tlv or discarding attribute and for forwarding actions if there are external arguments they are ignored and if the minimum required arguments are not available um the ability to advertise number of next stops uh that receiver may not be able to accept so in that uh case he can just ignore the MNS tlv that is the currently described approach we could also say that you uh consume the number of next stops that you can and"
  },
  {
    "startTime": "02:08:00",
    "text": "log diagnostic data to say the others have not been consumed um So currently it is the attribute discard approach which is the more uh conservative approach so there are more details about rambling in section 6 of the draft thank you I think I'm done with that session uh next slide please yeah so that was a brief about the attribute so we just wanted to put it out in the working group because this attribute has been I mean the draft has been there for a while but uh because of the renewed interest I just spent more time and uh normalized the format and layout a little more so that we can start taking input from the working group just give yeah so I I kind of like this uh and uh one of the things I wanted to ask you was you have defined this as an optional transitive attribute which can carry label information um there is eternal attribute and then there is a bgp nlri also that carries the label so in some ways if you can somehow work with what is existing um as an attribute that would be super good so that was a comment and then the question I have is you're carrying label labels very interesting so I'll stick to label for a sec you're carrying a label with next hop um typically one use case I think of when I look at this proposal is layer 3 vpns that recurses over bgp Lu which recurses over I igps right and if you are carrying a label to a next stop does it mean I can short circuit bgplu completely yeah so this uh so the first thing it is not an optional transitive it's optional non-transitive just a clarification yeah it's an optional transitive my bad and"
  },
  {
    "startTime": "02:10:02",
    "text": "uh about uh which address families it is carried on yes you're right I mean it may be it can be carried on uh Lu also it can be carried uh with uh unicast also and when you carry it with unicast because you can specify a label for unicast uh Safi you can not use Lu and you can just specify a label with this attribute for unicast also that's one application yes and and though in case of a layer 3 vpns if I carry this on a VPN Safi with the next stop um and a label then technically I don't need to turn on bgp label unicast 3107 address family uh which carries the loopback addresses typically today right uh yes because right so there what we are talking about is collapsing the service layer and the transport layer right exactly so exactly so basically uh um it it helps for other reasons to keep the transport layer and service layers of it well you have a cardboard family uh which carries only the loopbacks and the service family which carries the services behind those low packs correct um correct um if specifically if you are trying to do interesting things like coloring the routes and other things but if it's just just getting a vanilla loopback addresses then I think you can pretty much zap the entire Safi yeah yeah right cool thank you so yeah I think it is uh it has been kind of overwhelming because uh I've tried to uh go through the uh all the different type of things that have been done with next stops in bgp so far and uh put this in uh format which is like not too involved but uh still it is"
  },
  {
    "startTime": "02:12:00",
    "text": "extensible and flexible so it's a lot of data for you to consume so any comments offline on the list welcome yeah I'll send you my comments offline I I like it so but I do have some comments so I'll I'll reach out to you thank you sure thanks that's other comments from folks this is a lot to drink at once but any comments or questions okay that is the end of our presentations please reach out to Kali Raj we will probably continue discussing Next Top at ITF but our ITF time is usually Limited so with that I'll ask Jeff for care if you have anything else to mention to the working group nothing career for me I agree that the next top is very complicated in terms of what it's trying to do I think the immediate value for it is I tell you I just done a nice job of gathering the sets of things that Next Tops are used for and we can take the conversation on from there yeah I agree with Jeff's comments okay or any comment all good from my end thank you a good day and we'll see you at ITF uh 115 virtually or physically take care bye-bye bye"
  }
]
